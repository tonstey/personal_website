(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function g_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zA={exports:{}},lg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function VL(){if(iT)return lg;iT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var l=null;if(r!==void 0&&(l=""+r),a.key!==void 0&&(l=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:r}}return lg.Fragment=e,lg.jsx=t,lg.jsxs=t,lg}var aT;function kL(){return aT||(aT=1,zA.exports=VL()),zA.exports}var W=kL(),GA={exports:{}},cg={},VA={exports:{}},kA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function jL(){return sT||(sT=1,(function(n){function e(j,Z){var Q=j.length;j.push(Z);e:for(;0<Q;){var ve=Q-1>>>1,ye=j[ve];if(0<a(ye,Z))j[ve]=Z,j[Q]=ye,Q=ve;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],Q=j.pop();if(Q!==Z){j[0]=Q;e:for(var ve=0,ye=j.length,Y=ye>>>1;ve<Y;){var oe=2*(ve+1)-1,Be=j[oe],De=oe+1,ue=j[De];if(0>a(Be,Q))De<ye&&0>a(ue,Be)?(j[ve]=ue,j[De]=Q,ve=De):(j[ve]=Be,j[oe]=Q,ve=oe);else if(De<ye&&0>a(ue,Q))j[ve]=ue,j[De]=Q,ve=De;else break e}}return Z}function a(j,Z){var Q=j.sortIndex-Z.sortIndex;return Q!==0?Q:j.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,x=3,_=!1,M=!1,C=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(j){for(var Z=t(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=j)i(p),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(p)}}function O(j){if(C=!1,D(j),!M)if(t(d)!==null)M=!0,I||(I=!0,ce());else{var Z=t(p);Z!==null&&Ae(O,Z.startTime-j)}}var I=!1,F=-1,z=5,P=-1;function U(){return T?!0:!(n.unstable_now()-P<z)}function X(){if(T=!1,I){var j=n.unstable_now();P=j;var Z=!0;try{e:{M=!1,C&&(C=!1,w(F),F=-1),_=!0;var Q=x;try{t:{for(D(j),v=t(d);v!==null&&!(v.expirationTime>j&&U());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,x=v.priorityLevel;var ye=ve(v.expirationTime<=j);if(j=n.unstable_now(),typeof ye=="function"){v.callback=ye,D(j),Z=!0;break t}v===t(d)&&i(d),D(j)}else i(d);v=t(d)}if(v!==null)Z=!0;else{var Y=t(p);Y!==null&&Ae(O,Y.startTime-j),Z=!1}}break e}finally{v=null,x=Q,_=!1}Z=void 0}}finally{Z?ce():I=!1}}}var ce;if(typeof B=="function")ce=function(){B(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,pe=se.port2;se.port1.onmessage=X,ce=function(){pe.postMessage(null)}}else ce=function(){S(X,0)};function Ae(j,Z){F=S(function(){j(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(j){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var Q=x;x=Z;try{return j()}finally{x=Q}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=x;x=j;try{return Z()}finally{x=Q}},n.unstable_scheduleCallback=function(j,Z,Q){var ve=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,j){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,j={id:m++,callback:Z,priorityLevel:j,startTime:Q,expirationTime:ye,sortIndex:-1},Q>ve?(j.sortIndex=Q,e(p,j),t(d)===null&&j===t(p)&&(C?(w(F),F=-1):C=!0,Ae(O,Q-ve))):(j.sortIndex=ye,e(d,j),M||_||(M=!0,I||(I=!0,ce()))),j},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(j){var Z=x;return function(){var Q=x;x=Z;try{return j.apply(this,arguments)}finally{x=Q}}}})(kA)),kA}var rT;function XL(){return rT||(rT=1,VA.exports=jL()),VA.exports}var jA={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function YL(){if(oT)return Yt;oT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function _(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function S(Y,oe,Be){this.props=Y,this.context=oe,this.refs=T,this.updater=Be||M}S.prototype.isReactComponent={},S.prototype.setState=function(Y,oe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,oe,"setState")},S.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=S.prototype;function B(Y,oe,Be){this.props=Y,this.context=oe,this.refs=T,this.updater=Be||M}var D=B.prototype=new w;D.constructor=B,C(D,S.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function I(){}var F={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function P(Y,oe,Be){var De=Be.ref;return{$$typeof:n,type:Y,key:oe,ref:De!==void 0?De:null,props:Be}}function U(Y,oe){return P(Y.type,oe,Y.props)}function X(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function ce(Y){var oe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Be){return oe[Be]})}var se=/\/+/g;function pe(Y,oe){return typeof Y=="object"&&Y!==null&&Y.key!=null?ce(""+Y.key):oe.toString(36)}function Ae(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(I,I):(Y.status="pending",Y.then(function(oe){Y.status==="pending"&&(Y.status="fulfilled",Y.value=oe)},function(oe){Y.status==="pending"&&(Y.status="rejected",Y.reason=oe)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function j(Y,oe,Be,De,ue){var Ue=typeof Y;(Ue==="undefined"||Ue==="boolean")&&(Y=null);var Ie=!1;if(Y===null)Ie=!0;else switch(Ue){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ie=!0;break;case m:return Ie=Y._init,j(Ie(Y._payload),oe,Be,De,ue)}}if(Ie)return ue=ue(Y),Ie=De===""?"."+pe(Y,0):De,O(ue)?(Be="",Ie!=null&&(Be=Ie.replace(se,"$&/")+"/"),j(ue,oe,Be,"",function(Tt){return Tt})):ue!=null&&(X(ue)&&(ue=U(ue,Be+(ue.key==null||Y&&Y.key===ue.key?"":(""+ue.key).replace(se,"$&/")+"/")+Ie)),oe.push(ue)),1;Ie=0;var lt=De===""?".":De+":";if(O(Y))for(var at=0;at<Y.length;at++)De=Y[at],Ue=lt+pe(De,at),Ie+=j(De,oe,Be,Ue,ue);else if(at=_(Y),typeof at=="function")for(Y=at.call(Y),at=0;!(De=Y.next()).done;)De=De.value,Ue=lt+pe(De,at++),Ie+=j(De,oe,Be,Ue,ue);else if(Ue==="object"){if(typeof Y.then=="function")return j(Ae(Y),oe,Be,De,ue);throw oe=String(Y),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(Y,oe,Be){if(Y==null)return Y;var De=[],ue=0;return j(Y,De,"","",function(Ue){return oe.call(Be,Ue,ue++)}),De}function Q(Y){if(Y._status===-1){var oe=Y._result;oe=oe(),oe.then(function(Be){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Be)},function(Be){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Be)}),Y._status===-1&&(Y._status=0,Y._result=oe)}if(Y._status===1)return Y._result.default;throw Y._result}var ve=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ye={map:Z,forEach:function(Y,oe,Be){Z(Y,function(){oe.apply(this,arguments)},Be)},count:function(Y){var oe=0;return Z(Y,function(){oe++}),oe},toArray:function(Y){return Z(Y,function(oe){return oe})||[]},only:function(Y){if(!X(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Yt.Activity=v,Yt.Children=ye,Yt.Component=S,Yt.Fragment=t,Yt.Profiler=a,Yt.PureComponent=B,Yt.StrictMode=i,Yt.Suspense=d,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return F.H.useMemoCache(Y)}},Yt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(Y,oe,Be){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var De=C({},Y.props),ue=Y.key;if(oe!=null)for(Ue in oe.key!==void 0&&(ue=""+oe.key),oe)!z.call(oe,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&oe.ref===void 0||(De[Ue]=oe[Ue]);var Ue=arguments.length-2;if(Ue===1)De.children=Be;else if(1<Ue){for(var Ie=Array(Ue),lt=0;lt<Ue;lt++)Ie[lt]=arguments[lt+2];De.children=Ie}return P(Y.type,ue,De)},Yt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:r,_context:Y},Y},Yt.createElement=function(Y,oe,Be){var De,ue={},Ue=null;if(oe!=null)for(De in oe.key!==void 0&&(Ue=""+oe.key),oe)z.call(oe,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(ue[De]=oe[De]);var Ie=arguments.length-2;if(Ie===1)ue.children=Be;else if(1<Ie){for(var lt=Array(Ie),at=0;at<Ie;at++)lt[at]=arguments[at+2];ue.children=lt}if(Y&&Y.defaultProps)for(De in Ie=Y.defaultProps,Ie)ue[De]===void 0&&(ue[De]=Ie[De]);return P(Y,Ue,ue)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(Y){return{$$typeof:u,render:Y}},Yt.isValidElement=X,Yt.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:Q}},Yt.memo=function(Y,oe){return{$$typeof:p,type:Y,compare:oe===void 0?null:oe}},Yt.startTransition=function(Y){var oe=F.T,Be={};F.T=Be;try{var De=Y(),ue=F.S;ue!==null&&ue(Be,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(I,ve)}catch(Ue){ve(Ue)}finally{oe!==null&&Be.types!==null&&(oe.types=Be.types),F.T=oe}},Yt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Yt.use=function(Y){return F.H.use(Y)},Yt.useActionState=function(Y,oe,Be){return F.H.useActionState(Y,oe,Be)},Yt.useCallback=function(Y,oe){return F.H.useCallback(Y,oe)},Yt.useContext=function(Y){return F.H.useContext(Y)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(Y,oe){return F.H.useDeferredValue(Y,oe)},Yt.useEffect=function(Y,oe){return F.H.useEffect(Y,oe)},Yt.useEffectEvent=function(Y){return F.H.useEffectEvent(Y)},Yt.useId=function(){return F.H.useId()},Yt.useImperativeHandle=function(Y,oe,Be){return F.H.useImperativeHandle(Y,oe,Be)},Yt.useInsertionEffect=function(Y,oe){return F.H.useInsertionEffect(Y,oe)},Yt.useLayoutEffect=function(Y,oe){return F.H.useLayoutEffect(Y,oe)},Yt.useMemo=function(Y,oe){return F.H.useMemo(Y,oe)},Yt.useOptimistic=function(Y,oe){return F.H.useOptimistic(Y,oe)},Yt.useReducer=function(Y,oe,Be){return F.H.useReducer(Y,oe,Be)},Yt.useRef=function(Y){return F.H.useRef(Y)},Yt.useState=function(Y){return F.H.useState(Y)},Yt.useSyncExternalStore=function(Y,oe,Be){return F.H.useSyncExternalStore(Y,oe,Be)},Yt.useTransition=function(){return F.H.useTransition()},Yt.version="19.2.0",Yt}var lT;function Mp(){return lT||(lT=1,jA.exports=YL()),jA.exports}var XA={exports:{}},za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function qL(){if(cT)return za;cT=1;var n=Mp();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(d,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,za.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(d,p,null,m)},za.flushSync=function(d){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=p,i.p=m,i.d.f()}},za.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},za.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},za.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):m==="script"&&i.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},za.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},za.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},za.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},za.requestFormReset=function(d){i.d.r(d)},za.unstable_batchedUpdates=function(d,p){return d(p)},za.useFormState=function(d,p,m){return l.H.useFormState(d,p,m)},za.useFormStatus=function(){return l.H.useHostTransitionStatus()},za.version="19.2.0",za}var uT;function JL(){if(uT)return XA.exports;uT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),XA.exports=qL(),XA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function KL(){if(fT)return cg;fT=1;var n=XL(),e=Mp(),t=JL();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var o=s,h=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(h=o.return),s=o.return;while(s)}return o.tag===3?h:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(r(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=r(s),o===null)throw Error(i(188));return o!==s?null:s}for(var h=s,g=o;;){var A=h.return;if(A===null)break;var E=A.alternate;if(E===null){if(g=A.return,g!==null){h=g;continue}break}if(A.child===E.child){for(E=A.child;E;){if(E===h)return d(A),s;if(E===g)return d(A),o;E=E.sibling}throw Error(i(188))}if(h.return!==g.return)h=A,g=E;else{for(var L=!1,G=A.child;G;){if(G===h){L=!0,h=A,g=E;break}if(G===g){L=!0,g=A,h=E;break}G=G.sibling}if(!L){for(G=E.child;G;){if(G===h){L=!0,h=E,g=A;break}if(G===g){L=!0,g=E,h=A;break}G=G.sibling}if(!L)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var se=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===se?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case B:return s.displayName||"Context";case w:return(s._context.displayName||"Context")+".Consumer";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case z:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}var Ae=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ve=[],ye=-1;function Y(s){return{current:s}}function oe(s){0>ye||(s.current=ve[ye],ve[ye]=null,ye--)}function Be(s,o){ye++,ve[ye]=s.current,s.current=o}var De=Y(null),ue=Y(null),Ue=Y(null),Ie=Y(null);function lt(s,o){switch(Be(Ue,o),Be(ue,s),Be(De,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?TE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=TE(o),s=CE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(De),Be(De,s)}function at(){oe(De),oe(ue),oe(Ue)}function Tt(s){s.memoizedState!==null&&Be(Ie,s);var o=De.current,h=CE(o,s.type);o!==h&&(Be(ue,s),Be(De,h))}function pn(s){ue.current===s&&(oe(De),oe(ue)),Ie.current===s&&(oe(Ie),ag._currentValue=Q)}var Bt,ee;function Ge(s){if(Bt===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Bt=o&&o[1]||"",ee=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+s+ee}var Ne=!1;function Je(s,o){if(!s||Ne)return"";Ne=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Ce){var Ee=Ce}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(Ce){Ee=Ce}s.call(ke.prototype)}}else{try{throw Error()}catch(Ce){Ee=Ce}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Ce){if(Ce&&Ee&&typeof Ce.stack=="string")return[Ce.stack,Ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),L=E[0],G=E[1];if(L&&G){var ie=L.split(`
`),be=G.split(`
`);for(A=g=0;g<ie.length&&!ie[g].includes("DetermineComponentFrameRoot");)g++;for(;A<be.length&&!be[A].includes("DetermineComponentFrameRoot");)A++;if(g===ie.length||A===be.length)for(g=ie.length-1,A=be.length-1;1<=g&&0<=A&&ie[g]!==be[A];)A--;for(;1<=g&&0<=A;g--,A--)if(ie[g]!==be[A]){if(g!==1||A!==1)do if(g--,A--,0>A||ie[g]!==be[A]){var Le=`
`+ie[g].replace(" at new "," at ");return s.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",s.displayName)),Le}while(1<=g&&0<=A);break}}}finally{Ne=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ge(h):""}function Oe(s,o){switch(s.tag){case 26:case 27:case 5:return Ge(s.type);case 16:return Ge("Lazy");case 13:return s.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Je(s.type,!1);case 11:return Je(s.type.render,!1);case 1:return Je(s.type,!0);case 31:return Ge("Activity");default:return""}}function it(s){try{var o="",h=null;do o+=Oe(s,h),h=s,s=s.return;while(s);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var qe=Object.prototype.hasOwnProperty,$e=n.unstable_scheduleCallback,Dt=n.unstable_cancelCallback,Ut=n.unstable_shouldYield,K=n.unstable_requestPaint,H=n.unstable_now,ge=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,we=n.unstable_NormalPriority,xt=n.unstable_LowPriority,tt=n.unstable_IdlePriority,pt=n.log,gt=n.unstable_setDisableYieldValue,Ye=null,Qe=null;function vt(s){if(typeof pt=="function"&&gt(s),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Ye,s)}catch{}}var $=Math.clz32?Math.clz32:te,xe=Math.log,et=Math.LN2;function te(s){return s>>>=0,s===0?32:31-(xe(s)/et|0)|0}var Ve=256,We=262144,rt=4194304;function Ke(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function He(s,o,h){var g=s.pendingLanes;if(g===0)return 0;var A=0,E=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var G=g&134217727;return G!==0?(g=G&~E,g!==0?A=Ke(g):(L&=G,L!==0?A=Ke(L):h||(h=G&~s,h!==0&&(A=Ke(h))))):(G=g&~E,G!==0?A=Ke(G):L!==0?A=Ke(L):h||(h=g&~s,h!==0&&(A=Ke(h)))),A===0?0:o!==0&&o!==A&&(o&E)===0&&(E=A&-A,h=o&-o,E>=h||E===32&&(h&4194048)!==0)?o:A}function ot(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function St(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var s=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),s}function Xt(s){for(var o=[],h=0;31>h;h++)o.push(s);return o}function $n(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ui(s,o,h,g,A,E){var L=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,ie=s.expirationTimes,be=s.hiddenUpdates;for(h=L&~h;0<h;){var Le=31-$(h),ke=1<<Le;G[Le]=0,ie[Le]=-1;var Ee=be[Le];if(Ee!==null)for(be[Le]=null,Le=0;Le<Ee.length;Le++){var Ce=Ee[Le];Ce!==null&&(Ce.lane&=-536870913)}h&=~ke}g!==0&&cc(s,g,0),E!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=E&~(L&~o))}function cc(s,o,h){s.pendingLanes|=o,s.suspendedLanes&=~o;var g=31-$(o);s.entangledLanes|=o,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function As(s,o){var h=s.entangledLanes|=o;for(s=s.entanglements;h;){var g=31-$(h),A=1<<g;A&o|s[g]&o&&(s[g]|=o),h&=~A}}function vo(s,o){var h=o&-o;return h=(h&42)!==0?1:Ka(h),(h&(s.suspendedLanes|o))!==0?0:h}function Ka(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ll(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ra(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:WE(s.type))}function Wa(s,o){var h=Z.p;try{return Z.p=s,o()}finally{Z.p=h}}var ta=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ta,Ci="__reactProps$"+ta,er="__reactContainer$"+ta,uc="__reactEvents$"+ta,fh="__reactListeners$"+ta,Ip="__reactHandles$"+ta,fc="__reactResources$"+ta,Nr="__reactMarker$"+ta;function V(s){delete s[Zt],delete s[Ci],delete s[uc],delete s[fh],delete s[Ip]}function re(s){var o=s[Zt];if(o)return o;for(var h=s.parentNode;h;){if(o=h[er]||h[Zt]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(s=UE(s);s!==null;){if(h=s[Zt])return h;s=UE(s)}return o}s=h,h=s.parentNode}return null}function me(s){if(s=s[Zt]||s[er]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Me(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function le(s){var o=s[fc];return o||(o=s[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function je(s){s[Nr]=!0}var st=new Set,mt={};function ct(s,o){Mt(s,o),Mt(s+"Capture",o)}function Mt(s,o){for(mt[s]=o,s=0;s<o.length;s++)st.add(o[s])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ct={},Qt={};function En(s){return qe.call(Qt,s)?!0:qe.call(Ct,s)?!1:Ot.test(s)?Qt[s]=!0:(Ct[s]=!0,!1)}function Pn(s,o,h){if(En(o))if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+h)}}function Tn(s,o,h){if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+h)}}function tn(s,o,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(o,h,""+g)}}function yt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gn(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function un(s,o,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,E=g.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return A.call(this)},set:function(L){h=""+L,E.call(this,L)}}),Object.defineProperty(s,o,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Oi(s){if(!s._valueTracker){var o=Gn(s)?"checked":"value";s._valueTracker=un(s,o,""+s[o])}}function tr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var h=o.getValue(),g="";return s&&(g=Gn(s)?s.checked?"true":"false":s.value),s=g,s!==h?(o.setValue(s),!0):!1}function xi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var yo=/[\n"\\]/g;function on(s){return s.replace(yo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ki(s,o,h,g,A,E,L,G){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),o!=null?L==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+yt(o)):s.value!==""+yt(o)&&(s.value=""+yt(o)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),o!=null?_i(s,L,yt(o)):h!=null?_i(s,L,yt(h)):g!=null&&s.removeAttribute("value"),A==null&&E!=null&&(s.defaultChecked=!!E),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+yt(G):s.removeAttribute("name")}function na(s,o,h,g,A,E,L,G){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),o!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){Oi(s);return}h=h!=null?""+yt(h):"",o=o!=null?""+yt(o):h,G||o===s.value||(s.value=o),s.defaultValue=o}g=g??A,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=G?s.checked:!!g,s.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L),Oi(s)}function _i(s,o,h){o==="number"&&xi(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ci(s,o,h,g){if(s=s.options,o){o={};for(var A=0;A<h.length;A++)o["$"+h[A]]=!0;for(h=0;h<s.length;h++)A=o.hasOwnProperty("$"+s[h].value),s[h].selected!==A&&(s[h].selected=A),A&&g&&(s[h].defaultSelected=!0)}else{for(h=""+yt(h),o=null,A=0;A<s.length;A++){if(s[A].value===h){s[A].selected=!0,g&&(s[A].defaultSelected=!0);return}o!==null||s[A].disabled||(o=s[A])}o!==null&&(o.selected=!0)}}function cl(s,o,h){if(o!=null&&(o=""+yt(o),o!==s.value&&(s.value=o),h==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=h!=null?""+yt(h):""}function ga(s,o,h,g){if(o==null){if(g!=null){if(h!=null)throw Error(i(92));if(Ae(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),o=h}h=yt(o),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),Oi(s)}function ul(s,o){if(o){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=o;return}}s.textContent=o}var hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(s,o,h){var g=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":g?s.setProperty(o,h):typeof h!="number"||h===0||hh.has(o)?o==="float"?s.cssFloat=h:s[o]=(""+h).trim():s[o]=h+"px"}function Fp(s,o,h){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var A in o)g=o[A],o.hasOwnProperty(A)&&h[A]!==g&&bu(s,A,g)}else for(var E in o)o.hasOwnProperty(E)&&bu(s,E,o[E])}function Su(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(s){return P0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function nr(){}var Eu=null;function dh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fl=null,xo=null;function Hp(s){var o=me(s);if(o&&(s=o.stateNode)){var h=s[Ci]||null;e:switch(s=o.stateNode,o.type){case"input":if(ki(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+on(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var g=h[o];if(g!==s&&g.form===s.form){var A=g[Ci]||null;if(!A)throw Error(i(90));ki(g,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(o=0;o<h.length;o++)g=h[o],g.form===s.form&&tr(g)}break e;case"textarea":cl(s,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&ci(s,!!h.multiple,o,!1)}}}var ph=!1;function zp(s,o,h){if(ph)return s(o,h);ph=!0;try{var g=s(o);return g}finally{if(ph=!1,(fl!==null||xo!==null)&&(k(),fl&&(o=fl,s=xo,xo=fl=null,Hp(o),s)))for(o=0;o<s.length;o++)Hp(s[o])}}function hl(s,o){var h=s.stateNode;if(h===null)return null;var g=h[Ci]||null;if(g===null)return null;h=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(i(231,o,typeof h));return h}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=!1;if(ir)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){mh=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{mh=!1}var _o=null,gh=null,Ao=null;function vh(){if(Ao)return Ao;var s,o=gh,h=o.length,g,A="value"in _o?_o.value:_o.textContent,E=A.length;for(s=0;s<h&&o[s]===A[s];s++);var L=h-s;for(g=1;g<=L&&o[h-g]===A[E-g];g++);return Ao=A.slice(s,1<g?1-g:void 0)}function dl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Cu(){return!0}function Gp(){return!1}function ia(s){function o(h,g,A,E,L){this._reactName=h,this._targetInst=A,this.type=g,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(E):E[G]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Cu:Gp,this.isPropagationStopped=Gp,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),o}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=ia(bo),Os=v({},bo,{view:0,detail:0}),yh=ia(Os),xh,wu,hc,Bu=v({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hc&&(hc&&s.type==="mousemove"?(xh=s.screenX-hc.screenX,wu=s.screenY-hc.screenY):wu=xh=0,hc=s),xh)},movementY:function(s){return"movementY"in s?s.movementY:wu}}),I0=ia(Bu),ji=v({},Bu,{dataTransfer:0}),F0=ia(ji),H0=v({},Os,{relatedTarget:0}),_h=ia(H0),z0=v({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=ia(z0),Du=v({},bo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vp=ia(Du),V0=v({},bo,{data:0}),kp=ia(V0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Xp[s])?!!o[s]:!1}function Nu(){return j0}var Yp=v({},Os,{key:function(s){if(s.key){var o=k0[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=dl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(s){return s.type==="keypress"?dl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?dl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qp=ia(Yp),X0=v({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=ia(X0),Y0=v({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),Lr=ia(Y0),Jp=v({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=ia(Jp),q0=v({},Bu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),So=ia(q0),Ur=v({},bo,{newState:0,oldState:0}),Kp=ia(Ur),Wp=[9,13,27,32],pl=ir&&"CompositionEvent"in window,Mo=null;ir&&"documentMode"in document&&(Mo=document.documentMode);var ml=ir&&"TextEvent"in window&&!Mo,Xi=ir&&(!pl||Mo&&8<Mo&&11>=Mo),Lu=" ",Zp=!1;function bh(s,o){switch(s){case"keyup":return Wp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Eo=!1;function Sh(s,o){switch(s){case"compositionend":return dc(o);case"keypress":return o.which!==32?null:(Zp=!0,Lu);case"textInput":return s=o.data,s===Lu&&Zp?null:s;default:return null}}function J0(s,o){if(Eo)return s==="compositionend"||!pl&&bh(s,o)?(s=vh(),Ao=gh=_o=null,Eo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xi&&o.locale!=="ko"?null:o.data;default:return null}}var Za={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Za[s.type]:o==="textarea"}function Mh(s,o,h,g){fl?xo?xo.push(g):xo=[g]:fl=g,o=Hv(o,"onChange"),0<o.length&&(h=new Ru("onChange","change",null,h,g),s.push({event:h,listeners:o}))}var pc=null,mc=null;function $p(s){_E(s,0)}function gc(s){var o=Me(s);if(tr(o))return s}function em(s,o){if(s==="change")return o}var Uu=!1;if(ir){var gl;if(ir){var Yn="oninput"in document;if(!Yn){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Yn=typeof K0.oninput=="function"}gl=Yn}else gl=!1;Uu=gl&&(!document.documentMode||9<document.documentMode)}function W0(){pc&&(pc.detachEvent("onpropertychange",tm),mc=pc=null)}function tm(s){if(s.propertyName==="value"&&gc(mc)){var o=[];Mh(o,mc,s,dh(s)),zp($p,o)}}function Ou(s,o,h){s==="focusin"?(W0(),pc=o,mc=h,pc.attachEvent("onpropertychange",tm)):s==="focusout"&&W0()}function To(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gc(mc)}function Z0(s,o){if(s==="click")return gc(o)}function Q0(s,o){if(s==="input"||s==="change")return gc(o)}function vl(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var qn=typeof Object.is=="function"?Object.is:vl;function vc(s,o){if(qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var h=Object.keys(s),g=Object.keys(o);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var A=h[g];if(!qe.call(o,A)||!qn(s[A],o[A]))return!1}return!0}function nm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function im(s,o){var h=nm(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=o&&g>=o)return{node:h,offset:o-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=nm(h)}}function Eh(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Eh(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Th(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=xi(s.document);o instanceof s.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)s=o.contentWindow;else break;o=xi(s.document)}return o}function yc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var $0=ir&&"documentMode"in document&&11>=document.documentMode,xc=null,Ch=null,_c=null,Qa=!1;function Rh(s,o,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Qa||xc==null||xc!==xi(g)||(g=xc,"selectionStart"in g&&yc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_c&&vc(_c,g)||(_c=g,g=Hv(Ch,"onSelect"),0<g.length&&(o=new Ru("onSelect","select",null,o,h),s.push({event:o,listeners:g}),o.target=xc)))}function Co(s,o){var h={};return h[s.toLowerCase()]=o.toLowerCase(),h["Webkit"+s]="webkit"+o,h["Moz"+s]="moz"+o,h}var Ac={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},Pu={},va={};ir&&(va=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function Ro(s){if(Pu[s])return Pu[s];if(!Ac[s])return s;var o=Ac[s],h;for(h in o)if(o.hasOwnProperty(h)&&h in va)return Pu[s]=o[h];return s}var wa=Ro("animationend"),am=Ro("animationiteration"),ar=Ro("animationstart"),bc=Ro("transitionrun"),wo=Ro("transitionstart"),sm=Ro("transitioncancel"),wh=Ro("transitionend"),Or=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function aa(s,o){Or.set(s,o),ct(o,[s])}var Bo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Pi=[],yl=0,Dh=0;function Do(){for(var s=yl,o=Dh=yl=0;o<s;){var h=Pi[o];Pi[o++]=null;var g=Pi[o];Pi[o++]=null;var A=Pi[o];Pi[o++]=null;var E=Pi[o];if(Pi[o++]=null,g!==null&&A!==null){var L=g.pending;L===null?A.next=A:(A.next=L.next,L.next=A),g.pending=A}E!==0&&Nh(h,A,E)}}function Iu(s,o,h,g){Pi[yl++]=s,Pi[yl++]=o,Pi[yl++]=h,Pi[yl++]=g,Dh|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Sc(s,o,h,g){return Iu(s,o,h,g),Mc(s)}function No(s,o){return Iu(s,null,null,o),Mc(s)}function Nh(s,o,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var A=!1,E=s.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(A=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,A&&o!==null&&(A=31-$(h),s=E.hiddenUpdates,g=s[A],g===null?s[A]=[o]:g.push(o),o.lane=h|536870912),E):null}function Mc(s){if(50<Ol)throw Ol=0,Pl=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Lo={};function ev(s,o,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(s,o,h,g){return new ev(s,o,h,g)}function xa(s){return s=s.prototype,!(!s||!s.isReactComponent)}function sr(s,o){var h=s.alternate;return h===null?(h=ya(s.tag,o,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=o,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,o=s.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function sa(s,o){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,o=h.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Fu(s,o,h,g,A,E){var L=0;if(g=s,typeof s=="function")xa(s)&&(L=1);else if(typeof s=="string")L=BL(s,h,De.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=ya(31,h,o,A),s.elementType=P,s.lanes=E,s;case C:return Pr(h.children,A,E,o);case T:L=8,A|=24;break;case S:return s=ya(12,h,o,A|2),s.elementType=S,s.lanes=E,s;case O:return s=ya(13,h,o,A),s.elementType=O,s.lanes=E,s;case I:return s=ya(19,h,o,A),s.elementType=I,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:L=10;break e;case w:L=9;break e;case D:L=11;break e;case F:L=14;break e;case z:L=16,g=null;break e}L=29,h=Error(i(130,s===null?"null":typeof s,"")),g=null}return o=ya(L,h,o,A),o.elementType=s,o.type=g,o.lanes=E,o}function Pr(s,o,h,g){return s=ya(7,s,g,o),s.lanes=h,s}function Lh(s,o,h){return s=ya(6,s,null,o),s.lanes=h,s}function tv(s){var o=ya(18,null,null,0);return o.stateNode=s,o}function Ps(s,o,h){return o=ya(4,s.children!==null?s.children:[],s.key,o),o.lanes=h,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var rm=new WeakMap;function Ba(s,o){if(typeof s=="object"&&s!==null){var h=rm.get(s);return h!==void 0?h:(o={value:s,source:o,stack:it(o)},rm.set(s,o),o)}return{value:s,source:o,stack:it(o)}}var Is=[],xl=0,Hu=null,Ec=0,$a=[],Da=0,rr=null,or=1,lr="";function Ir(s,o){Is[xl++]=Ec,Is[xl++]=Hu,Hu=s,Ec=o}function om(s,o,h){$a[Da++]=or,$a[Da++]=lr,$a[Da++]=rr,rr=s;var g=or;s=lr;var A=32-$(g)-1;g&=~(1<<A),h+=1;var E=32-$(o)+A;if(30<E){var L=A-A%5;E=(g&(1<<L)-1).toString(32),g>>=L,A-=L,or=1<<32-$(o)+A|h<<A|g,lr=E+s}else or=1<<E|h<<A|g,lr=s}function Uh(s){s.return!==null&&(Ir(s,1),om(s,1,0))}function Uo(s){for(;s===Hu;)Hu=Is[--xl],Is[xl]=null,Ec=Is[--xl],Is[xl]=null;for(;s===rr;)rr=$a[--Da],$a[Da]=null,lr=$a[--Da],$a[Da]=null,or=$a[--Da],$a[Da]=null}function zu(s,o){$a[Da++]=or,$a[Da++]=lr,$a[Da++]=rr,or=o.id,lr=o.overflow,rr=s}var Ii=null,Vn=null,fn=!1,Fr=null,Fi=!1,Oh=Error(i(519));function ln(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gu(Ba(o,s)),Oh}function Ph(s){var o=s.stateNode,h=s.type,g=s.memoizedProps;switch(o[Zt]=s,o[Ci]=g,h){case"dialog":hn("cancel",o),hn("close",o);break;case"iframe":case"object":case"embed":hn("load",o);break;case"video":case"audio":for(h=0;h<$m.length;h++)hn($m[h],o);break;case"source":hn("error",o);break;case"img":case"image":case"link":hn("error",o),hn("load",o);break;case"details":hn("toggle",o);break;case"input":hn("invalid",o),na(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":hn("invalid",o);break;case"textarea":hn("invalid",o),ga(o,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||g.suppressHydrationWarning===!0||ME(o.textContent,h)?(g.popover!=null&&(hn("beforetoggle",o),hn("toggle",o)),g.onScroll!=null&&hn("scroll",o),g.onScrollEnd!=null&&hn("scrollend",o),g.onClick!=null&&(o.onclick=nr),o=!0):o=!1,o||ln(s,!0)}function nv(s){for(Ii=s.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:Ii=Ii.return}}function _l(s){if(s!==Ii)return!1;if(!fn)return nv(s),fn=!0,!1;var o=s.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||EA(s.type,s.memoizedProps)),h=!h),h&&Vn&&ln(s),nv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Vn=LE(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Vn=LE(s)}else o===27?(o=Vn,jc(s.type)?(s=BA,BA=null,Vn=s):Vn=o):Vn=Ii?xr(s.stateNode.nextSibling):null;return!0}function Al(){Vn=Ii=null,fn=!1}function lm(){var s=Fr;return s!==null&&(fa===null?fa=s:fa.push.apply(fa,s),Fr=null),s}function Gu(s){Fr===null?Fr=[s]:Fr.push(s)}var cm=Y(null),Hr=null,ra=null;function zr(s,o,h){Be(cm,o._currentValue),o._currentValue=h}function bs(s){s._currentValue=cm.current,oe(cm)}function Gr(s,o,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===h)break;s=s.return}}function Ih(s,o,h,g){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var E=A.dependencies;if(E!==null){var L=A.child;E=E.firstContext;e:for(;E!==null;){var G=E;E=A;for(var ie=0;ie<o.length;ie++)if(G.context===o[ie]){E.lanes|=h,G=E.alternate,G!==null&&(G.lanes|=h),Gr(E.return,h,s),g||(L=null);break e}E=G.next}}else if(A.tag===18){if(L=A.return,L===null)throw Error(i(341));L.lanes|=h,E=L.alternate,E!==null&&(E.lanes|=h),Gr(L,h,s),L=null}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===s){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}}function Oo(s,o,h,g){s=null;for(var A=o,E=!1;A!==null;){if(!E){if((A.flags&524288)!==0)E=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var L=A.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var G=A.type;qn(A.pendingProps.value,L.value)||(s!==null?s.push(G):s=[G])}}else if(A===Ie.current){if(L=A.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(ag):s=[ag])}A=A.return}s!==null&&Ih(o,s,h,g),o.flags|=262144}function Tc(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function bl(s){Hr=s,ra=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hi(s){return um(Hr,s)}function Vu(s,o){return Hr===null&&bl(s),um(s,o)}function um(s,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},ra===null){if(s===null)throw Error(i(308));ra=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ra=ra.next=o;return h}var iv=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){o.aborted=!0,s.forEach(function(h){return h()})}},av=n.unstable_scheduleCallback,fm=n.unstable_NormalPriority,Rt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new iv,data:new Map,refCount:0}}function Yi(s){s.refCount--,s.refCount===0&&av(fm,function(){s.controller.abort()})}var Sl=null,dm=0,Vr=0,Fs=null;function Cc(s,o){if(Sl===null){var h=Sl=[];dm=0,Vr=gA(),Fs={status:"pending",value:void 0,then:function(g){h.push(g)}}}return dm++,o.then(pm,pm),o}function pm(){if(--dm===0&&Sl!==null){Fs!==null&&(Fs.status="fulfilled");var s=Sl;Sl=null,Vr=0,Fs=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function mm(s,o){var h=[],g={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return s.then(function(){g.status="fulfilled",g.value=o;for(var A=0;A<h.length;A++)(0,h[A])(o)},function(A){for(g.status="rejected",g.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),g}var sv=j.S;j.S=function(s,o){Gc=H(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Cc(s,o),sv!==null&&sv(s,o)};var Po=Y(null);function cr(){var s=Po.current;return s!==null?s:Dn.pooledCache}function Rc(s,o){o===null?Be(Po,Po.current):Be(Po,o.pool)}function Fh(){var s=cr();return s===null?null:{parent:Rt._currentValue,pool:s}}var Io=Error(i(460)),ku=Error(i(474)),Hs=Error(i(542)),ju={then:function(){}};function rv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gm(s,o,h){switch(h=s[h],h===void 0?s.push(o):h!==o&&(o.then(nr,nr),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,vm(s),s;default:if(typeof o.status=="string")o.then(nr,nr);else{if(s=Dn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(g){if(o.status==="pending"){var A=o;A.status="fulfilled",A.value=g}},function(g){if(o.status==="pending"){var A=o;A.status="rejected",A.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,vm(s),s}throw Lt=o,Io}}function Ml(s){try{var o=s._init;return o(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Lt=h,Io):h}}var Lt=null;function Hh(){if(Lt===null)throw Error(i(459));var s=Lt;return Lt=null,s}function vm(s){if(s===Io||s===Hs)throw Error(i(483))}var Fo=null,Ho=0;function zh(s){var o=Ho;return Ho+=1,Fo===null&&(Fo=[]),gm(Fo,s,o)}function Xu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Yu(s,o){throw o.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function wc(s){function o(he,ae){if(s){var _e=he.deletions;_e===null?(he.deletions=[ae],he.flags|=16):_e.push(ae)}}function h(he,ae){if(!s)return null;for(;ae!==null;)o(he,ae),ae=ae.sibling;return null}function g(he){for(var ae=new Map;he!==null;)he.key!==null?ae.set(he.key,he):ae.set(he.index,he),he=he.sibling;return ae}function A(he,ae){return he=sr(he,ae),he.index=0,he.sibling=null,he}function E(he,ae,_e){return he.index=_e,s?(_e=he.alternate,_e!==null?(_e=_e.index,_e<ae?(he.flags|=67108866,ae):_e):(he.flags|=67108866,ae)):(he.flags|=1048576,ae)}function L(he){return s&&he.alternate===null&&(he.flags|=67108866),he}function G(he,ae,_e,ze){return ae===null||ae.tag!==6?(ae=Lh(_e,he.mode,ze),ae.return=he,ae):(ae=A(ae,_e),ae.return=he,ae)}function ie(he,ae,_e,ze){var Nt=_e.type;return Nt===C?Le(he,ae,_e.props.children,ze,_e.key):ae!==null&&(ae.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===z&&Ml(Nt)===ae.type)?(ae=A(ae,_e.props),Xu(ae,_e),ae.return=he,ae):(ae=Fu(_e.type,_e.key,_e.props,null,he.mode,ze),Xu(ae,_e),ae.return=he,ae)}function be(he,ae,_e,ze){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==_e.containerInfo||ae.stateNode.implementation!==_e.implementation?(ae=Ps(_e,he.mode,ze),ae.return=he,ae):(ae=A(ae,_e.children||[]),ae.return=he,ae)}function Le(he,ae,_e,ze,Nt){return ae===null||ae.tag!==7?(ae=Pr(_e,he.mode,ze,Nt),ae.return=he,ae):(ae=A(ae,_e),ae.return=he,ae)}function ke(he,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Lh(""+ae,he.mode,_e),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return _e=Fu(ae.type,ae.key,ae.props,null,he.mode,_e),Xu(_e,ae),_e.return=he,_e;case M:return ae=Ps(ae,he.mode,_e),ae.return=he,ae;case z:return ae=Ml(ae),ke(he,ae,_e)}if(Ae(ae)||ce(ae))return ae=Pr(ae,he.mode,_e,null),ae.return=he,ae;if(typeof ae.then=="function")return ke(he,zh(ae),_e);if(ae.$$typeof===B)return ke(he,Vu(he,ae),_e);Yu(he,ae)}return null}function Ee(he,ae,_e,ze){var Nt=ae!==null?ae.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Nt!==null?null:G(he,ae,""+_e,ze);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return _e.key===Nt?ie(he,ae,_e,ze):null;case M:return _e.key===Nt?be(he,ae,_e,ze):null;case z:return _e=Ml(_e),Ee(he,ae,_e,ze)}if(Ae(_e)||ce(_e))return Nt!==null?null:Le(he,ae,_e,ze,null);if(typeof _e.then=="function")return Ee(he,ae,zh(_e),ze);if(_e.$$typeof===B)return Ee(he,ae,Vu(he,_e),ze);Yu(he,_e)}return null}function Ce(he,ae,_e,ze,Nt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return he=he.get(_e)||null,G(ae,he,""+ze,Nt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case _:return he=he.get(ze.key===null?_e:ze.key)||null,ie(ae,he,ze,Nt);case M:return he=he.get(ze.key===null?_e:ze.key)||null,be(ae,he,ze,Nt);case z:return ze=Ml(ze),Ce(he,ae,_e,ze,Nt)}if(Ae(ze)||ce(ze))return he=he.get(_e)||null,Le(ae,he,ze,Nt,null);if(typeof ze.then=="function")return Ce(he,ae,_e,zh(ze),Nt);if(ze.$$typeof===B)return Ce(he,ae,_e,Vu(ae,ze),Nt);Yu(ae,ze)}return null}function _t(he,ae,_e,ze){for(var Nt=null,Ln=null,bt=ae,an=ae=0,vn=null;bt!==null&&an<_e.length;an++){bt.index>an?(vn=bt,bt=null):vn=bt.sibling;var Un=Ee(he,bt,_e[an],ze);if(Un===null){bt===null&&(bt=vn);break}s&&bt&&Un.alternate===null&&o(he,bt),ae=E(Un,ae,an),Ln===null?Nt=Un:Ln.sibling=Un,Ln=Un,bt=vn}if(an===_e.length)return h(he,bt),fn&&Ir(he,an),Nt;if(bt===null){for(;an<_e.length;an++)bt=ke(he,_e[an],ze),bt!==null&&(ae=E(bt,ae,an),Ln===null?Nt=bt:Ln.sibling=bt,Ln=bt);return fn&&Ir(he,an),Nt}for(bt=g(bt);an<_e.length;an++)vn=Ce(bt,he,an,_e[an],ze),vn!==null&&(s&&vn.alternate!==null&&bt.delete(vn.key===null?an:vn.key),ae=E(vn,ae,an),Ln===null?Nt=vn:Ln.sibling=vn,Ln=vn);return s&&bt.forEach(function(Kc){return o(he,Kc)}),fn&&Ir(he,an),Nt}function Ft(he,ae,_e,ze){if(_e==null)throw Error(i(151));for(var Nt=null,Ln=null,bt=ae,an=ae=0,vn=null,Un=_e.next();bt!==null&&!Un.done;an++,Un=_e.next()){bt.index>an?(vn=bt,bt=null):vn=bt.sibling;var Kc=Ee(he,bt,Un.value,ze);if(Kc===null){bt===null&&(bt=vn);break}s&&bt&&Kc.alternate===null&&o(he,bt),ae=E(Kc,ae,an),Ln===null?Nt=Kc:Ln.sibling=Kc,Ln=Kc,bt=vn}if(Un.done)return h(he,bt),fn&&Ir(he,an),Nt;if(bt===null){for(;!Un.done;an++,Un=_e.next())Un=ke(he,Un.value,ze),Un!==null&&(ae=E(Un,ae,an),Ln===null?Nt=Un:Ln.sibling=Un,Ln=Un);return fn&&Ir(he,an),Nt}for(bt=g(bt);!Un.done;an++,Un=_e.next())Un=Ce(bt,he,an,Un.value,ze),Un!==null&&(s&&Un.alternate!==null&&bt.delete(Un.key===null?an:Un.key),ae=E(Un,ae,an),Ln===null?Nt=Un:Ln.sibling=Un,Ln=Un);return s&&bt.forEach(function(GL){return o(he,GL)}),fn&&Ir(he,an),Nt}function Xn(he,ae,_e,ze){if(typeof _e=="object"&&_e!==null&&_e.type===C&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:e:{for(var Nt=_e.key;ae!==null;){if(ae.key===Nt){if(Nt=_e.type,Nt===C){if(ae.tag===7){h(he,ae.sibling),ze=A(ae,_e.props.children),ze.return=he,he=ze;break e}}else if(ae.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===z&&Ml(Nt)===ae.type){h(he,ae.sibling),ze=A(ae,_e.props),Xu(ze,_e),ze.return=he,he=ze;break e}h(he,ae);break}else o(he,ae);ae=ae.sibling}_e.type===C?(ze=Pr(_e.props.children,he.mode,ze,_e.key),ze.return=he,he=ze):(ze=Fu(_e.type,_e.key,_e.props,null,he.mode,ze),Xu(ze,_e),ze.return=he,he=ze)}return L(he);case M:e:{for(Nt=_e.key;ae!==null;){if(ae.key===Nt)if(ae.tag===4&&ae.stateNode.containerInfo===_e.containerInfo&&ae.stateNode.implementation===_e.implementation){h(he,ae.sibling),ze=A(ae,_e.children||[]),ze.return=he,he=ze;break e}else{h(he,ae);break}else o(he,ae);ae=ae.sibling}ze=Ps(_e,he.mode,ze),ze.return=he,he=ze}return L(he);case z:return _e=Ml(_e),Xn(he,ae,_e,ze)}if(Ae(_e))return _t(he,ae,_e,ze);if(ce(_e)){if(Nt=ce(_e),typeof Nt!="function")throw Error(i(150));return _e=Nt.call(_e),Ft(he,ae,_e,ze)}if(typeof _e.then=="function")return Xn(he,ae,zh(_e),ze);if(_e.$$typeof===B)return Xn(he,ae,Vu(he,_e),ze);Yu(he,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ae!==null&&ae.tag===6?(h(he,ae.sibling),ze=A(ae,_e),ze.return=he,he=ze):(h(he,ae),ze=Lh(_e,he.mode,ze),ze.return=he,he=ze),L(he)):h(he,ae)}return function(he,ae,_e,ze){try{Ho=0;var Nt=Xn(he,ae,_e,ze);return Fo=null,Nt}catch(bt){if(bt===Io||bt===Hs)throw bt;var Ln=ya(29,bt,null,he.mode);return Ln.lanes=ze,Ln.return=he,Ln}finally{}}}var El=wc(!0),ov=wc(!1),zo=!1;function ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ur(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function kr(s,o,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(mn&2)!==0){var A=g.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),g.pending=o,o=Mc(s),Nh(s,null,h),o}return Iu(s,g,o,h),Mc(s)}function Go(s,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var g=o.lanes;g&=s.pendingLanes,h|=g,o.lanes=h,As(s,h)}}function Gh(s,o){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var A=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?A=E=L:E=E.next=L,h=h.next}while(h!==null);E===null?A=E=o:E=E.next=o}else A=E=o;h={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=o:s.next=o,h.lastBaseUpdate=o}var _m=!1;function qu(){if(_m){var s=Fs;if(s!==null)throw s}}function Tl(s,o,h,g){_m=!1;var A=s.updateQueue;zo=!1;var E=A.firstBaseUpdate,L=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var ie=G,be=ie.next;ie.next=null,L===null?E=be:L.next=be,L=ie;var Le=s.alternate;Le!==null&&(Le=Le.updateQueue,G=Le.lastBaseUpdate,G!==L&&(G===null?Le.firstBaseUpdate=be:G.next=be,Le.lastBaseUpdate=ie))}if(E!==null){var ke=A.baseState;L=0,Le=be=ie=null,G=E;do{var Ee=G.lane&-536870913,Ce=Ee!==G.lane;if(Ce?(cn&Ee)===Ee:(g&Ee)===Ee){Ee!==0&&Ee===Vr&&(_m=!0),Le!==null&&(Le=Le.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var _t=s,Ft=G;Ee=o;var Xn=h;switch(Ft.tag){case 1:if(_t=Ft.payload,typeof _t=="function"){ke=_t.call(Xn,ke,Ee);break e}ke=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ft.payload,Ee=typeof _t=="function"?_t.call(Xn,ke,Ee):_t,Ee==null)break e;ke=v({},ke,Ee);break e;case 2:zo=!0}}Ee=G.callback,Ee!==null&&(s.flags|=64,Ce&&(s.flags|=8192),Ce=A.callbacks,Ce===null?A.callbacks=[Ee]:Ce.push(Ee))}else Ce={lane:Ee,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Le===null?(be=Le=Ce,ie=ke):Le=Le.next=Ce,L|=Ee;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;Ce=G,G=Ce.next,Ce.next=null,A.lastBaseUpdate=Ce,A.shared.pending=null}}while(!0);Le===null&&(ie=ke),A.baseState=ie,A.firstBaseUpdate=be,A.lastBaseUpdate=Le,E===null&&(A.shared.lanes=0),us|=L,s.lanes=L,s.memoizedState=ke}}function fr(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function qi(s,o){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)fr(h[s],o)}var es=Y(null),_a=Y(0);function Am(s,o){s=pi,Be(_a,s),Be(es,o),pi=s|o.baseLanes}function bm(){Be(_a,pi),Be(es,es.current)}function oa(){pi=_a.current,oe(es),oe(_a)}var Ri=Y(null),Ss=null;function Vo(s){var o=s.alternate;Be(ei,ei.current&1),Be(Ri,s),Ss===null&&(o===null||es.current!==null||o.memoizedState!==null)&&(Ss=s)}function Sm(s){Be(ei,ei.current),Be(Ri,s),Ss===null&&(Ss=s)}function lv(s){s.tag===22?(Be(ei,ei.current),Be(Ri,s),Ss===null&&(Ss=s)):jr()}function jr(){Be(ei,ei.current),Be(Ri,Ri.current)}function ts(s){oe(Ri),Ss===s&&(Ss=null),oe(ei)}var ei=Y(0);function Vh(s){for(var o=s;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||RA(h)||wA(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Na=0,Ht=null,In=null,Ai=null,kh=!1,hr=!1,Cl=!1,jh=0,Ju=0,dr=null,rA=0;function ti(){throw Error(i(321))}function Mm(s,o){if(o===null)return!1;for(var h=0;h<o.length&&h<s.length;h++)if(!qn(s[h],o[h]))return!1;return!0}function Em(s,o,h,g,A,E){return Na=E,Ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=s===null||s.memoizedState===null?Rv:Nc,Cl=!1,E=h(g,A),Cl=!1,hr&&(E=uv(o,h,g,A)),cv(s),E}function cv(s){j.H=$u;var o=In!==null&&In.next!==null;if(Na=0,Ai=In=Ht=null,kh=!1,Ju=0,dr=null,o)throw Error(i(300));s===null||Jn||(s=s.dependencies,s!==null&&Tc(s)&&(Jn=!0))}function uv(s,o,h,g){Ht=s;var A=0;do{if(hr&&(dr=null),Ju=0,hr=!1,25<=A)throw Error(i(301));if(A+=1,Ai=In=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}j.H=ef,E=o(h,g)}while(hr);return E}function oA(){var s=j.H,o=s.useState()[0];return o=typeof o.then=="function"?Wu(o):o,s=s.useState()[0],(In!==null?In.memoizedState:null)!==s&&(Ht.flags|=1024),o}function Tm(){var s=jh!==0;return jh=0,s}function Cm(s,o,h){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~h}function Rm(s){if(kh){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}kh=!1}Na=0,Ai=In=Ht=null,hr=!1,Ju=jh=0,dr=null}function Aa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Ht.memoizedState=Ai=s:Ai=Ai.next=s,Ai}function ui(){if(In===null){var s=Ht.alternate;s=s!==null?s.memoizedState:null}else s=In.next;var o=Ai===null?Ht.memoizedState:Ai.next;if(o!==null)Ai=o,In=s;else{if(s===null)throw Ht.alternate===null?Error(i(467)):Error(i(310));In=s,s={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Ai===null?Ht.memoizedState=Ai=s:Ai=Ai.next=s}return Ai}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(s){var o=Ju;return Ju+=1,dr===null&&(dr=[]),s=gm(dr,s,o),o=Ht,(Ai===null?o.memoizedState:Ai.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?Rv:Nc),s}function Xh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wu(s);if(s.$$typeof===B)return Hi(s)}throw Error(i(438,String(s)))}function wm(s){var o=null,h=Ht.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var g=Ht.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(A){return A.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Ku(),Ht.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(s),g=0;g<s;g++)h[g]=U;return o.index++,h}function Xr(s,o){return typeof o=="function"?o(s):o}function Yh(s){var o=ui();return Bm(o,In,s)}function Bm(s,o,h){var g=s.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var A=s.baseQueue,E=g.pending;if(E!==null){if(A!==null){var L=A.next;A.next=E.next,E.next=L}o.baseQueue=A=E,g.pending=null}if(E=s.baseState,A===null)s.memoizedState=E;else{o=A.next;var G=L=null,ie=null,be=o,Le=!1;do{var ke=be.lane&-536870913;if(ke!==be.lane?(cn&ke)===ke:(Na&ke)===ke){var Ee=be.revertLane;if(Ee===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),ke===Vr&&(Le=!0);else if((Na&Ee)===Ee){be=be.next,Ee===Vr&&(Le=!0);continue}else ke={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},ie===null?(G=ie=ke,L=E):ie=ie.next=ke,Ht.lanes|=Ee,us|=Ee;ke=be.action,Cl&&h(E,ke),E=be.hasEagerState?be.eagerState:h(E,ke)}else Ee={lane:ke,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},ie===null?(G=ie=Ee,L=E):ie=ie.next=Ee,Ht.lanes|=ke,us|=ke;be=be.next}while(be!==null&&be!==o);if(ie===null?L=E:ie.next=G,!qn(E,s.memoizedState)&&(Jn=!0,Le&&(h=Fs,h!==null)))throw h;s.memoizedState=E,s.baseState=L,s.baseQueue=ie,g.lastRenderedState=E}return A===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function qh(s){var o=ui(),h=o.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=s;var g=h.dispatch,A=h.pending,E=o.memoizedState;if(A!==null){h.pending=null;var L=A=A.next;do E=s(E,L.action),L=L.next;while(L!==A);qn(E,o.memoizedState)||(Jn=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),h.lastRenderedState=E}return[E,g]}function Dm(s,o,h){var g=Ht,A=ui(),E=fn;if(E){if(h===void 0)throw Error(i(407));h=h()}else h=o();var L=!qn((In||A).memoizedState,h);if(L&&(A.memoizedState=h,Jn=!0),A=A.queue,Pm(Lm.bind(null,g,A,s),[s]),A.getSnapshot!==o||L||Ai!==null&&Ai.memoizedState.tag&1){if(g.flags|=2048,Bc(9,{destroy:void 0},Nm.bind(null,g,A,h,o),null),Dn===null)throw Error(i(349));E||(Na&127)!==0||fv(g,o,h)}return h}function fv(s,o,h){s.flags|=16384,s={getSnapshot:o,value:h},o=Ht.updateQueue,o===null?(o=Ku(),Ht.updateQueue=o,o.stores=[s]):(h=o.stores,h===null?o.stores=[s]:h.push(s))}function Nm(s,o,h,g){o.value=h,o.getSnapshot=g,Um(o)&&Jh(s)}function Lm(s,o,h){return h(function(){Um(o)&&Jh(s)})}function Um(s){var o=s.getSnapshot;s=s.value;try{var h=o();return!qn(s,h)}catch{return!0}}function Jh(s){var o=No(s,2);o!==null&&f(o,s,2)}function Zu(s){var o=Aa();if(typeof s=="function"){var h=s;if(s=h(),Cl){vt(!0);try{h()}finally{vt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:s},o}function hv(s,o,h,g){return s.baseState=h,Bm(s,In,typeof g=="function"?g:Xr)}function lA(s,o,h,g,A){if(Yr(s))throw Error(i(485));if(s=o.action,s!==null){var E={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};j.T!==null?h(!0):E.isTransition=!1,g(E),h=o.pending,h===null?(E.next=o.pending=E,dv(o,E)):(E.next=h.next,o.pending=h.next=E)}}function dv(s,o){var h=o.action,g=o.payload,A=s.state;if(o.isTransition){var E=j.T,L={};j.T=L;try{var G=h(A,g),ie=j.S;ie!==null&&ie(L,G),pv(s,o,G)}catch(be){Kh(s,o,be)}finally{E!==null&&L.types!==null&&(E.types=L.types),j.T=E}}else try{E=h(A,g),pv(s,o,E)}catch(be){Kh(s,o,be)}}function pv(s,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Om(s,o,g)},function(g){return Kh(s,o,g)}):Om(s,o,h)}function Om(s,o,h){o.status="fulfilled",o.value=h,mv(o),s.state=h,o=s.pending,o!==null&&(h=o.next,h===o?s.pending=null:(h=h.next,o.next=h,dv(s,h)))}function Kh(s,o,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=h,mv(o),o=o.next;while(o!==g)}s.action=null}function mv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function gv(s,o){return o}function vv(s,o){if(fn){var h=Dn.formState;if(h!==null){e:{var g=Ht;if(fn){if(Vn){t:{for(var A=Vn,E=Fi;A.nodeType!==8;){if(!E){A=null;break t}if(A=xr(A.nextSibling),A===null){A=null;break t}}E=A.data,A=E==="F!"||E==="F"?A:null}if(A){Vn=xr(A.nextSibling),g=A.data==="F!";break e}}ln(g)}g=!1}g&&(o=h[0])}}return h=Aa(),h.memoizedState=h.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:o},h.queue=g,h=Cv.bind(null,Ht,g),g.dispatch=h,g=Zu(!1),E=Qu.bind(null,Ht,!1,g.queue),g=Aa(),A={state:o,dispatch:null,action:s,pending:null},g.queue=A,h=lA.bind(null,Ht,A,E,h),A.dispatch=h,g.memoizedState=s,[o,h,!1]}function yv(s){var o=ui();return xv(o,In,s)}function xv(s,o,h){if(o=Bm(s,o,gv)[0],s=Yh(Xr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Wu(o)}catch(L){throw L===Io?Hs:L}else g=o;o=ui();var A=o.queue,E=A.dispatch;return h!==o.memoizedState&&(Ht.flags|=2048,Bc(9,{destroy:void 0},cA.bind(null,A,h),null)),[g,E,s]}function cA(s,o){s.action=o}function _v(s){var o=ui(),h=In;if(h!==null)return xv(o,h,s);ui(),o=o.memoizedState,h=ui();var g=h.queue.dispatch;return h.memoizedState=s,[o,g,!1]}function Bc(s,o,h,g){return s={tag:s,create:h,deps:g,inst:o,next:null},o=Ht.updateQueue,o===null&&(o=Ku(),Ht.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,o.lastEffect=s),s}function Av(){return ui().memoizedState}function Wh(s,o,h,g){var A=Aa();Ht.flags|=s,A.memoizedState=Bc(1|o,{destroy:void 0},h,g===void 0?null:g)}function Zh(s,o,h,g){var A=ui();g=g===void 0?null:g;var E=A.memoizedState.inst;In!==null&&g!==null&&Mm(g,In.memoizedState.deps)?A.memoizedState=Bc(o,E,h,g):(Ht.flags|=s,A.memoizedState=Bc(1|o,E,h,g))}function bv(s,o){Wh(8390656,8,s,o)}function Pm(s,o){Zh(2048,8,s,o)}function Sv(s){Ht.flags|=4;var o=Ht.updateQueue;if(o===null)o=Ku(),Ht.updateQueue=o,o.events=[s];else{var h=o.events;h===null?o.events=[s]:h.push(s)}}function Mv(s){var o=ui().memoizedState;return Sv({ref:o,nextImpl:s}),function(){if((mn&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Ev(s,o){return Zh(4,2,s,o)}function ns(s,o){return Zh(4,4,s,o)}function Im(s,o){if(typeof o=="function"){s=s();var h=o(s);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Qh(s,o,h){h=h!=null?h.concat([s]):null,Zh(4,4,Im.bind(null,o,s),h)}function $h(){}function Fm(s,o){var h=ui();o=o===void 0?null:o;var g=h.memoizedState;return o!==null&&Mm(o,g[1])?g[0]:(h.memoizedState=[s,o],s)}function Hm(s,o){var h=ui();o=o===void 0?null:o;var g=h.memoizedState;if(o!==null&&Mm(o,g[1]))return g[0];if(g=s(),Cl){vt(!0);try{s()}finally{vt(!1)}}return h.memoizedState=[g,o],g}function zm(s,o,h){return h===void 0||(Na&1073741824)!==0&&(cn&261930)===0?s.memoizedState=o:(s.memoizedState=h,s=c(),Ht.lanes|=s,us|=s,h)}function Gm(s,o,h,g){return qn(h,o)?h:es.current!==null?(s=zm(s,h,g),qn(s,o)||(Jn=!0),s):(Na&42)===0||(Na&1073741824)!==0&&(cn&261930)===0?(Jn=!0,s.memoizedState=h):(s=c(),Ht.lanes|=s,us|=s,o)}function Vm(s,o,h,g,A){var E=Z.p;Z.p=E!==0&&8>E?E:8;var L=j.T,G={};j.T=G,Qu(s,!1,o,h);try{var ie=A(),be=j.S;if(be!==null&&be(G,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Le=mm(ie,g);Dc(s,o,Le,Sa(s))}else Dc(s,o,g,Sa(s))}catch(ke){Dc(s,o,{then:function(){},status:"rejected",reason:ke},Sa())}finally{Z.p=E,L!==null&&G.types!==null&&(L.types=G.types),j.T=L}}function uA(){}function km(s,o,h,g){if(s.tag!==5)throw Error(i(476));var A=Tv(s).queue;Vm(s,A,o,Q,h===null?uA:function(){return jm(s),h(g)})}function Tv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:Q},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:h},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function jm(s){var o=Tv(s);o.next===null&&(o=s.alternate.memoizedState),Dc(s,o.next.queue,{},Sa())}function Xm(){return Hi(ag)}function Ji(){return ui().memoizedState}function Ym(){return ui().memoizedState}function fA(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var h=Sa();s=ur(h);var g=kr(o,s,h);g!==null&&(f(g,o,h),Go(g,o,h)),o={cache:hm()},s.payload=o;return}o=o.return}}function hA(s,o,h){var g=Sa();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Yr(s)?Rl(o,h):(h=Sc(s,o,h,g),h!==null&&(f(h,s,g),La(h,o,g)))}function Cv(s,o,h){var g=Sa();Dc(s,o,h,g)}function Dc(s,o,h,g){var A={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Yr(s))Rl(o,A);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var L=o.lastRenderedState,G=E(L,h);if(A.hasEagerState=!0,A.eagerState=G,qn(G,L))return Iu(s,o,A,0),Dn===null&&Do(),!1}catch{}finally{}if(h=Sc(s,o,A,g),h!==null)return f(h,s,g),La(h,o,g),!0}return!1}function Qu(s,o,h,g){if(g={lane:2,revertLane:gA(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Yr(s)){if(o)throw Error(i(479))}else o=Sc(s,h,g,2),o!==null&&f(o,s,2)}function Yr(s){var o=s.alternate;return s===Ht||o!==null&&o===Ht}function Rl(s,o){hr=kh=!0;var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}function La(s,o,h){if((h&4194048)!==0){var g=o.lanes;g&=s.pendingLanes,h|=g,o.lanes=h,As(s,h)}}var $u={readContext:Hi,use:Xh,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};$u.useEffectEvent=ti;var Rv={readContext:Hi,use:Xh,useCallback:function(s,o){return Aa().memoizedState=[s,o===void 0?null:o],s},useContext:Hi,useEffect:bv,useImperativeHandle:function(s,o,h){h=h!=null?h.concat([s]):null,Wh(4194308,4,Im.bind(null,o,s),h)},useLayoutEffect:function(s,o){return Wh(4194308,4,s,o)},useInsertionEffect:function(s,o){Wh(4,2,s,o)},useMemo:function(s,o){var h=Aa();o=o===void 0?null:o;var g=s();if(Cl){vt(!0);try{s()}finally{vt(!1)}}return h.memoizedState=[g,o],g},useReducer:function(s,o,h){var g=Aa();if(h!==void 0){var A=h(o);if(Cl){vt(!0);try{h(o)}finally{vt(!1)}}}else A=o;return g.memoizedState=g.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},g.queue=s,s=s.dispatch=hA.bind(null,Ht,s),[g.memoizedState,s]},useRef:function(s){var o=Aa();return s={current:s},o.memoizedState=s},useState:function(s){s=Zu(s);var o=s.queue,h=Cv.bind(null,Ht,o);return o.dispatch=h,[s.memoizedState,h]},useDebugValue:$h,useDeferredValue:function(s,o){var h=Aa();return zm(h,s,o)},useTransition:function(){var s=Zu(!1);return s=Vm.bind(null,Ht,s.queue,!0,!1),Aa().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,h){var g=Ht,A=Aa();if(fn){if(h===void 0)throw Error(i(407));h=h()}else{if(h=o(),Dn===null)throw Error(i(349));(cn&127)!==0||fv(g,o,h)}A.memoizedState=h;var E={value:h,getSnapshot:o};return A.queue=E,bv(Lm.bind(null,g,E,s),[s]),g.flags|=2048,Bc(9,{destroy:void 0},Nm.bind(null,g,E,h,o),null),h},useId:function(){var s=Aa(),o=Dn.identifierPrefix;if(fn){var h=lr,g=or;h=(g&~(1<<32-$(g)-1)).toString(32)+h,o="_"+o+"R_"+h,h=jh++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=rA++,o="_"+o+"r_"+h.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Xm,useFormState:vv,useActionState:vv,useOptimistic:function(s){var o=Aa();o.memoizedState=o.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=Qu.bind(null,Ht,!0,h),h.dispatch=o,[s,o]},useMemoCache:wm,useCacheRefresh:function(){return Aa().memoizedState=fA.bind(null,Ht)},useEffectEvent:function(s){var o=Aa(),h={impl:s};return o.memoizedState=h,function(){if((mn&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Nc={readContext:Hi,use:Xh,useCallback:Fm,useContext:Hi,useEffect:Pm,useImperativeHandle:Qh,useInsertionEffect:Ev,useLayoutEffect:ns,useMemo:Hm,useReducer:Yh,useRef:Av,useState:function(){return Yh(Xr)},useDebugValue:$h,useDeferredValue:function(s,o){var h=ui();return Gm(h,In.memoizedState,s,o)},useTransition:function(){var s=Yh(Xr)[0],o=ui().memoizedState;return[typeof s=="boolean"?s:Wu(s),o]},useSyncExternalStore:Dm,useId:Ji,useHostTransitionStatus:Xm,useFormState:yv,useActionState:yv,useOptimistic:function(s,o){var h=ui();return hv(h,In,s,o)},useMemoCache:wm,useCacheRefresh:Ym};Nc.useEffectEvent=Mv;var ef={readContext:Hi,use:Xh,useCallback:Fm,useContext:Hi,useEffect:Pm,useImperativeHandle:Qh,useInsertionEffect:Ev,useLayoutEffect:ns,useMemo:Hm,useReducer:qh,useRef:Av,useState:function(){return qh(Xr)},useDebugValue:$h,useDeferredValue:function(s,o){var h=ui();return In===null?zm(h,s,o):Gm(h,In.memoizedState,s,o)},useTransition:function(){var s=qh(Xr)[0],o=ui().memoizedState;return[typeof s=="boolean"?s:Wu(s),o]},useSyncExternalStore:Dm,useId:Ji,useHostTransitionStatus:Xm,useFormState:_v,useActionState:_v,useOptimistic:function(s,o){var h=ui();return In!==null?hv(h,In,s,o):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:wm,useCacheRefresh:Ym};ef.useEffectEvent=Mv;function Lc(s,o,h,g){o=s.memoizedState,h=h(g,o),h=h==null?o:v({},o,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var tf={enqueueSetState:function(s,o,h){s=s._reactInternals;var g=Sa(),A=ur(g);A.payload=o,h!=null&&(A.callback=h),o=kr(s,A,g),o!==null&&(f(o,s,g),Go(o,s,g))},enqueueReplaceState:function(s,o,h){s=s._reactInternals;var g=Sa(),A=ur(g);A.tag=1,A.payload=o,h!=null&&(A.callback=h),o=kr(s,A,g),o!==null&&(f(o,s,g),Go(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var h=Sa(),g=ur(h);g.tag=2,o!=null&&(g.callback=o),o=kr(s,g,h),o!==null&&(f(o,s,h),Go(o,s,h))}};function wv(s,o,h,g,A,E,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,L):o.prototype&&o.prototype.isPureReactComponent?!vc(h,g)||!vc(A,E):!0}function Bv(s,o,h,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,g),o.state!==s&&tf.enqueueReplaceState(o,o.state,null)}function Ki(s,o){var h=o;if("ref"in o){h={};for(var g in o)g!=="ref"&&(h[g]=o[g])}if(s=s.defaultProps){h===o&&(h=v({},h));for(var A in s)h[A]===void 0&&(h[A]=s[A])}return h}function qm(s){Bo(s)}function Dv(s){console.error(s)}function ed(s){Bo(s)}function td(s,o){try{var h=s.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function Nv(s,o,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Jm(s,o,h){return h=ur(h),h.tag=3,h.payload={element:null},h.callback=function(){td(s,o)},h}function Uc(s){return s=ur(s),s.tag=3,s}function Ua(s,o,h,g){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var E=g.value;s.payload=function(){return A(E)},s.callback=function(){Nv(o,h,g)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){Nv(o,h,g),typeof A!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function is(s,o,h,g,A){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=h.alternate,o!==null&&Oo(o,h,A,!0),h=Ri.current,h!==null){switch(h.tag){case 31:case 13:return Ss===null?kt():h.alternate===null&&Nn===0&&(Nn=3),h.flags&=-257,h.flags|=65536,h.lanes=A,g===ju?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([g]):o.add(g),dA(s,g,A)),!1;case 22:return h.flags|=65536,g===ju?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([g]):h.add(g)),dA(s,g,A)),!1}throw Error(i(435,h.tag))}return dA(s,g,A),kt(),!1}if(fn)return o=Ri.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=A,g!==Oh&&(s=Error(i(422),{cause:g}),Gu(Ba(s,h)))):(g!==Oh&&(o=Error(i(423),{cause:g}),Gu(Ba(o,h))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,g=Ba(g,h),A=Jm(s.stateNode,g,A),Gh(s,A),Nn!==4&&(Nn=2)),!1;var E=Error(i(520),{cause:g});if(E=Ba(E,h),js===null?js=[E]:js.push(E),Nn!==4&&(Nn=2),o===null)return!0;g=Ba(g,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,s=A&-A,h.lanes|=s,s=Jm(h.stateNode,g,s),Gh(h,s),!1;case 1:if(o=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(yr===null||!yr.has(E))))return h.flags|=65536,A&=-A,h.lanes|=A,A=Uc(A),Ua(A,s,h,g),Gh(h,A),!1}h=h.return}while(h!==null);return!1}var nd=Error(i(461)),Jn=!1;function ni(s,o,h,g){o.child=s===null?ov(o,null,h,g):El(o,s.child,h,g)}function nf(s,o,h,g,A){h=h.render;var E=o.ref;if("ref"in g){var L={};for(var G in g)G!=="ref"&&(L[G]=g[G])}else L=g;return bl(o),g=Em(s,o,h,L,E,A),G=Tm(),s!==null&&!Jn?(Cm(s,o,A),Vs(s,o,A)):(fn&&G&&Uh(o),o.flags|=1,ni(s,o,g,A),o.child)}function af(s,o,h,g,A){if(s===null){var E=h.type;return typeof E=="function"&&!xa(E)&&E.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=E,as(s,o,E,g,A)):(s=Fu(h.type,null,g,o,o.mode,A),s.ref=o.ref,s.return=o,o.child=s)}if(E=s.child,!jo(s,A)){var L=E.memoizedProps;if(h=h.compare,h=h!==null?h:vc,h(L,g)&&s.ref===o.ref)return Vs(s,o,A)}return o.flags|=1,s=sr(E,g),s.ref=o.ref,s.return=o,o.child=s}function as(s,o,h,g,A){if(s!==null){var E=s.memoizedProps;if(vc(E,g)&&s.ref===o.ref)if(Jn=!1,o.pendingProps=g=E,jo(s,A))(s.flags&131072)!==0&&(Jn=!0);else return o.lanes=s.lanes,Vs(s,o,A)}return Oc(s,o,h,g,A)}function ss(s,o,h,g){var A=g.children,E=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,s!==null){for(g=o.child=s.child,A=0;g!==null;)A=A|g.lanes|g.childLanes,g=g.sibling;g=A&~E}else g=0,o.child=null;return pr(s,o,E,h,g)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rc(o,E!==null?E.cachePool:null),E!==null?Am(o,E):bm(),lv(o);else return g=o.lanes=536870912,pr(s,o,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(Rc(o,E.cachePool),Am(o,E),jr(),o.memoizedState=null):(s!==null&&Rc(o,null),bm(),jr());return ni(s,o,A,h),o.child}function zs(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function pr(s,o,h,g,A){var E=cr();return E=E===null?null:{parent:Rt._currentValue,pool:E},o.memoizedState={baseLanes:h,cachePool:E},s!==null&&Rc(o,null),bm(),lv(o),s!==null&&Oo(s,o,g,!0),o.childLanes=A,null}function Ms(s,o){return o=Pc({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function zi(s,o,h){return El(o,s.child,null,h),s=Ms(o,o.pendingProps),s.flags|=2,ts(o),o.memoizedState=null,s}function sf(s,o,h){var g=o.pendingProps,A=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(fn){if(g.mode==="hidden")return s=Ms(o,g),o.lanes=536870912,zs(null,s);if(Sm(o),(s=Vn)?(s=NE(s,Fi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:rr!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},h=tv(s),h.return=o,o.child=h,Ii=o,Vn=null)):s=null,s===null)throw ln(o);return o.lanes=536870912,null}return Ms(o,g)}var E=s.memoizedState;if(E!==null){var L=E.dehydrated;if(Sm(o),A)if(o.flags&256)o.flags&=-257,o=zi(s,o,h);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(Jn||Oo(s,o,h,!1),A=(h&s.childLanes)!==0,Jn||A){if(g=Dn,g!==null&&(L=vo(g,h),L!==0&&L!==E.retryLane))throw E.retryLane=L,No(s,L),f(g,s,L),nd;kt(),o=zi(s,o,h)}else s=E.treeContext,Vn=xr(L.nextSibling),Ii=o,fn=!0,Fr=null,Fi=!1,s!==null&&zu(o,s),o=Ms(o,g),o.flags|=4096;return o}return s=sr(s.child,{mode:g.mode,children:g.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Gs(s,o){var h=o.ref;if(h===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(s===null||s.ref!==h)&&(o.flags|=4194816)}}function Oc(s,o,h,g,A){return bl(o),h=Em(s,o,h,g,void 0,A),g=Tm(),s!==null&&!Jn?(Cm(s,o,A),Vs(s,o,A)):(fn&&g&&Uh(o),o.flags|=1,ni(s,o,h,A),o.child)}function la(s,o,h,g,A,E){return bl(o),o.updateQueue=null,h=uv(o,g,h,A),cv(s),g=Tm(),s!==null&&!Jn?(Cm(s,o,E),Vs(s,o,E)):(fn&&g&&Uh(o),o.flags|=1,ni(s,o,h,E),o.child)}function Wi(s,o,h,g,A){if(bl(o),o.stateNode===null){var E=Lo,L=h.contextType;typeof L=="object"&&L!==null&&(E=Hi(L)),E=new h(g,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=tf,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=g,E.state=o.memoizedState,E.refs={},ym(o),L=h.contextType,E.context=typeof L=="object"&&L!==null?Hi(L):Lo,E.state=o.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Lc(o,h,L,g),E.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&tf.enqueueReplaceState(E,E.state,null),Tl(o,g,E,A),qu(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(s===null){E=o.stateNode;var G=o.memoizedProps,ie=Ki(h,G);E.props=ie;var be=E.context,Le=h.contextType;L=Lo,typeof Le=="object"&&Le!==null&&(L=Hi(Le));var ke=h.getDerivedStateFromProps;Le=typeof ke=="function"||typeof E.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,Le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(G||be!==L)&&Bv(o,E,g,L),zo=!1;var Ee=o.memoizedState;E.state=Ee,Tl(o,g,E,A),qu(),be=o.memoizedState,G||Ee!==be||zo?(typeof ke=="function"&&(Lc(o,h,ke,g),be=o.memoizedState),(ie=zo||wv(o,h,ie,g,Ee,be,L))?(Le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=be),E.props=g,E.state=be,E.context=L,g=ie):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{E=o.stateNode,xm(s,o),L=o.memoizedProps,Le=Ki(h,L),E.props=Le,ke=o.pendingProps,Ee=E.context,be=h.contextType,ie=Lo,typeof be=="object"&&be!==null&&(ie=Hi(be)),G=h.getDerivedStateFromProps,(be=typeof G=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==ke||Ee!==ie)&&Bv(o,E,g,ie),zo=!1,Ee=o.memoizedState,E.state=Ee,Tl(o,g,E,A),qu();var Ce=o.memoizedState;L!==ke||Ee!==Ce||zo||s!==null&&s.dependencies!==null&&Tc(s.dependencies)?(typeof G=="function"&&(Lc(o,h,G,g),Ce=o.memoizedState),(Le=zo||wv(o,h,Le,g,Ee,Ce,ie)||s!==null&&s.dependencies!==null&&Tc(s.dependencies))?(be||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,Ce,ie),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,Ce,ie)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&Ee===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&Ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ce),E.props=g,E.state=Ce,E.context=ie,g=Le):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&Ee===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&Ee===s.memoizedState||(o.flags|=1024),g=!1)}return E=g,Gs(s,o),g=(o.flags&128)!==0,E||g?(E=o.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,s!==null&&g?(o.child=El(o,s.child,null,A),o.child=El(o,null,h,A)):ni(s,o,h,A),o.memoizedState=E.state,s=o.child):s=Vs(s,o,A),s}function yn(s,o,h,g){return Al(),o.flags|=256,ni(s,o,h,g),o.child}var rs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Es(s){return{baseLanes:s,cachePool:Fh()}}function rf(s,o,h){return s=s!==null?s.childLanes&~h:0,o&&(s|=gn),s}function os(s,o,h){var g=o.pendingProps,A=!1,E=(o.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(ei.current&2)!==0),L&&(A=!0,o.flags&=-129),L=(o.flags&32)!==0,o.flags&=-33,s===null){if(fn){if(A?Vo(o):jr(),(s=Vn)?(s=NE(s,Fi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:rr!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},h=tv(s),h.return=o,o.child=h,Ii=o,Vn=null)):s=null,s===null)throw ln(o);return wA(s)?o.lanes=32:o.lanes=536870912,null}var G=g.children;return g=g.fallback,A?(jr(),A=o.mode,G=Pc({mode:"hidden",children:G},A),g=Pr(g,A,h,null),G.return=o,g.return=o,G.sibling=g,o.child=G,g=o.child,g.memoizedState=Es(h),g.childLanes=rf(s,L,h),o.memoizedState=rs,zs(null,g)):(Vo(o),ko(o,G))}var ie=s.memoizedState;if(ie!==null&&(G=ie.dehydrated,G!==null)){if(E)o.flags&256?(Vo(o),o.flags&=-257,o=Ic(s,o,h)):o.memoizedState!==null?(jr(),o.child=s.child,o.flags|=128,o=null):(jr(),G=g.fallback,A=o.mode,g=Pc({mode:"visible",children:g.children},A),G=Pr(G,A,h,null),G.flags|=2,g.return=o,G.return=o,g.sibling=G,o.child=g,El(o,s.child,null,h),g=o.child,g.memoizedState=Es(h),g.childLanes=rf(s,L,h),o.memoizedState=rs,o=zs(null,g));else if(Vo(o),wA(G)){if(L=G.nextSibling&&G.nextSibling.dataset,L)var be=L.dgst;L=be,g=Error(i(419)),g.stack="",g.digest=L,Gu({value:g,source:null,stack:null}),o=Ic(s,o,h)}else if(Jn||Oo(s,o,h,!1),L=(h&s.childLanes)!==0,Jn||L){if(L=Dn,L!==null&&(g=vo(L,h),g!==0&&g!==ie.retryLane))throw ie.retryLane=g,No(s,g),f(L,s,g),nd;RA(G)||kt(),o=Ic(s,o,h)}else RA(G)?(o.flags|=192,o.child=s.child,o=null):(s=ie.treeContext,Vn=xr(G.nextSibling),Ii=o,fn=!0,Fr=null,Fi=!1,s!==null&&zu(o,s),o=ko(o,g.children),o.flags|=4096);return o}return A?(jr(),G=g.fallback,A=o.mode,ie=s.child,be=ie.sibling,g=sr(ie,{mode:"hidden",children:g.children}),g.subtreeFlags=ie.subtreeFlags&65011712,be!==null?G=sr(be,G):(G=Pr(G,A,h,null),G.flags|=2),G.return=o,g.return=o,g.sibling=G,o.child=g,zs(null,g),g=o.child,G=s.child.memoizedState,G===null?G=Es(h):(A=G.cachePool,A!==null?(ie=Rt._currentValue,A=A.parent!==ie?{parent:ie,pool:ie}:A):A=Fh(),G={baseLanes:G.baseLanes|h,cachePool:A}),g.memoizedState=G,g.childLanes=rf(s,L,h),o.memoizedState=rs,zs(s.child,g)):(Vo(o),h=s.child,s=h.sibling,h=sr(h,{mode:"visible",children:g.children}),h.return=o,h.sibling=null,s!==null&&(L=o.deletions,L===null?(o.deletions=[s],o.flags|=16):L.push(s)),o.child=h,o.memoizedState=null,h)}function ko(s,o){return o=Pc({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Pc(s,o){return s=ya(22,s,null,o),s.lanes=0,s}function Ic(s,o,h){return El(o,s.child,null,h),s=ko(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function wl(s,o,h){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Gr(s.return,o,h)}function of(s,o,h,g,A,E){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:A,treeForkCount:E}:(L.isBackwards=o,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=h,L.tailMode=A,L.treeForkCount=E)}function lf(s,o,h){var g=o.pendingProps,A=g.revealOrder,E=g.tail;g=g.children;var L=ei.current,G=(L&2)!==0;if(G?(L=L&1|2,o.flags|=128):L&=1,Be(ei,L),ni(s,o,g,h),g=fn?Ec:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wl(s,h,o);else if(s.tag===19)wl(s,h,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(h=o.child,A=null;h!==null;)s=h.alternate,s!==null&&Vh(s)===null&&(A=h),h=h.sibling;h=A,h===null?(A=o.child,o.child=null):(A=h.sibling,h.sibling=null),of(o,!1,A,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=o.child,o.child=null;A!==null;){if(s=A.alternate,s!==null&&Vh(s)===null){o.child=A;break}s=A.sibling,A.sibling=h,h=A,A=s}of(o,!0,h,null,E,g);break;case"together":of(o,!1,null,null,void 0,g);break;default:o.memoizedState=null}return o.child}function Vs(s,o,h){if(s!==null&&(o.dependencies=s.dependencies),us|=o.lanes,(h&o.childLanes)===0)if(s!==null){if(Oo(s,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,h=sr(s,s.pendingProps),o.child=h,h.return=o;s.sibling!==null;)s=s.sibling,h=h.sibling=sr(s,s.pendingProps),h.return=o;h.sibling=null}return o.child}function jo(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Tc(s)))}function cf(s,o,h){switch(o.tag){case 3:lt(o,o.stateNode.containerInfo),zr(o,Rt,s.memoizedState.cache),Al();break;case 27:case 5:Tt(o);break;case 4:lt(o,o.stateNode.containerInfo);break;case 10:zr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sm(o),null;break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(Vo(o),o.flags|=128,null):(h&o.child.childLanes)!==0?os(s,o,h):(Vo(o),s=Vs(s,o,h),s!==null?s.sibling:null);Vo(o);break;case 19:var A=(s.flags&128)!==0;if(g=(h&o.childLanes)!==0,g||(Oo(s,o,h,!1),g=(h&o.childLanes)!==0),A){if(g)return lf(s,o,h);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Be(ei,ei.current),g)break;return null;case 22:return o.lanes=0,ss(s,o,h,o.pendingProps);case 24:zr(o,Rt,s.memoizedState.cache)}return Vs(s,o,h)}function id(s,o,h){if(s!==null)if(s.memoizedProps!==o.pendingProps)Jn=!0;else{if(!jo(s,h)&&(o.flags&128)===0)return Jn=!1,cf(s,o,h);Jn=(s.flags&131072)!==0}else Jn=!1,fn&&(o.flags&1048576)!==0&&om(o,Ec,o.index);switch(o.lanes=0,o.tag){case 16:e:{var g=o.pendingProps;if(s=Ml(o.elementType),o.type=s,typeof s=="function")xa(s)?(g=Ki(s,g),o.tag=1,o=Wi(null,o,s,g,h)):(o.tag=0,o=Oc(null,o,s,g,h));else{if(s!=null){var A=s.$$typeof;if(A===D){o.tag=11,o=nf(null,o,s,g,h);break e}else if(A===F){o.tag=14,o=af(null,o,s,g,h);break e}}throw o=pe(s)||s,Error(i(306,o,""))}}return o;case 0:return Oc(s,o,o.type,o.pendingProps,h);case 1:return g=o.type,A=Ki(g,o.pendingProps),Wi(s,o,g,A,h);case 3:e:{if(lt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));g=o.pendingProps;var E=o.memoizedState;A=E.element,xm(s,o),Tl(o,g,null,h);var L=o.memoizedState;if(g=L.cache,zr(o,Rt,g),g!==E.cache&&Ih(o,[Rt],h,!0),qu(),g=L.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:L.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=yn(s,o,g,h);break e}else if(g!==A){A=Ba(Error(i(424)),o),Gu(A),o=yn(s,o,g,h);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vn=xr(s.firstChild),Ii=o,fn=!0,Fr=null,Fi=!0,h=ov(o,null,g,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Al(),g===A){o=Vs(s,o,h);break e}ni(s,o,g,h)}o=o.child}return o;case 26:return Gs(s,o),s===null?(h=FE(o.type,null,o.pendingProps,null))?o.memoizedState=h:fn||(h=o.type,s=o.pendingProps,g=zv(Ue.current).createElement(h),g[Zt]=o,g[Ci]=s,Ma(g,h,s),je(g),o.stateNode=g):o.memoizedState=FE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Tt(o),s===null&&fn&&(g=o.stateNode=OE(o.type,o.pendingProps,Ue.current),Ii=o,Fi=!0,A=Vn,jc(o.type)?(BA=A,Vn=xr(g.firstChild)):Vn=A),ni(s,o,o.pendingProps.children,h),Gs(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&fn&&((A=g=Vn)&&(g=vL(g,o.type,o.pendingProps,Fi),g!==null?(o.stateNode=g,Ii=o,Vn=xr(g.firstChild),Fi=!1,A=!0):A=!1),A||ln(o)),Tt(o),A=o.type,E=o.pendingProps,L=s!==null?s.memoizedProps:null,g=E.children,EA(A,E)?g=null:L!==null&&EA(A,L)&&(o.flags|=32),o.memoizedState!==null&&(A=Em(s,o,oA,null,null,h),ag._currentValue=A),Gs(s,o),ni(s,o,g,h),o.child;case 6:return s===null&&fn&&((s=h=Vn)&&(h=yL(h,o.pendingProps,Fi),h!==null?(o.stateNode=h,Ii=o,Vn=null,s=!0):s=!1),s||ln(o)),null;case 13:return os(s,o,h);case 4:return lt(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=El(o,null,g,h):ni(s,o,g,h),o.child;case 11:return nf(s,o,o.type,o.pendingProps,h);case 7:return ni(s,o,o.pendingProps,h),o.child;case 8:return ni(s,o,o.pendingProps.children,h),o.child;case 12:return ni(s,o,o.pendingProps.children,h),o.child;case 10:return g=o.pendingProps,zr(o,o.type,g.value),ni(s,o,g.children,h),o.child;case 9:return A=o.type._context,g=o.pendingProps.children,bl(o),A=Hi(A),g=g(A),o.flags|=1,ni(s,o,g,h),o.child;case 14:return af(s,o,o.type,o.pendingProps,h);case 15:return as(s,o,o.type,o.pendingProps,h);case 19:return lf(s,o,h);case 31:return sf(s,o,h);case 22:return ss(s,o,h,o.pendingProps);case 24:return bl(o),g=Hi(Rt),s===null?(A=cr(),A===null&&(A=Dn,E=hm(),A.pooledCache=E,E.refCount++,E!==null&&(A.pooledCacheLanes|=h),A=E),o.memoizedState={parent:g,cache:A},ym(o),zr(o,Rt,A)):((s.lanes&h)!==0&&(xm(s,o),Tl(o,null,null,h),qu()),A=s.memoizedState,E=o.memoizedState,A.parent!==g?(A={parent:g,cache:g},o.memoizedState=A,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=A),zr(o,Rt,g)):(g=E.cache,zr(o,Rt,g),g!==A.cache&&Ih(o,[Rt],h,!0))),ni(s,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Oa(s){s.flags|=4}function Xo(s,o,h,g,A){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(nt())s.flags|=8192;else throw Lt=ju,ku}else s.flags&=-16777217}function qr(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kE(o))if(nt())s.flags|=8192;else throw Lt=ju,ku}function Fc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?en():536870912,s.lanes|=o,fs|=o)}function uf(s,o){if(!fn)switch(s.tailMode){case"hidden":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function On(s){var o=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(o)for(var A=s.child;A!==null;)h|=A.lanes|A.childLanes,g|=A.subtreeFlags&65011712,g|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)h|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=g,s.childLanes=h,o}function Km(s,o,h){var g=o.pendingProps;switch(Uo(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(o),null;case 1:return On(o),null;case 3:return h=o.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),bs(Rt),at(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(_l(o)?Oa(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lm())),On(o),null;case 26:var A=o.type,E=o.memoizedState;return s===null?(Oa(o),E!==null?(On(o),qr(o,E)):(On(o),Xo(o,A,null,g,h))):E?E!==s.memoizedState?(Oa(o),On(o),qr(o,E)):(On(o),o.flags&=-16777217):(s=s.memoizedProps,s!==g&&Oa(o),On(o),Xo(o,A,s,g,h)),null;case 27:if(pn(o),h=Ue.current,A=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Oa(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return On(o),null}s=De.current,_l(o)?Ph(o):(s=OE(A,g,h),o.stateNode=s,Oa(o))}return On(o),null;case 5:if(pn(o),A=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Oa(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return On(o),null}if(E=De.current,_l(o))Ph(o);else{var L=zv(Ue.current);switch(E){case 1:E=L.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:E=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":E=L.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":E=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":E=L.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?L.createElement(A,{is:g.is}):L.createElement(A)}}E[Zt]=o,E[Ci]=g;e:for(L=o.child;L!==null;){if(L.tag===5||L.tag===6)E.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===o)break e;for(;L.sibling===null;){if(L.return===null||L.return===o)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}o.stateNode=E;e:switch(Ma(E,A,g),A){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Oa(o)}}return On(o),Xo(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,h),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==g&&Oa(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ue.current,_l(o)){if(s=o.stateNode,h=o.memoizedProps,g=null,A=Ii,A!==null)switch(A.tag){case 27:case 5:g=A.memoizedProps}s[Zt]=o,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||ME(s.nodeValue,h)),s||ln(o,!0)}else s=zv(s).createTextNode(g),s[Zt]=o,o.stateNode=s}return On(o),null;case 31:if(h=o.memoizedState,s===null||s.memoizedState!==null){if(g=_l(o),h!==null){if(s===null){if(!g)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Zt]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;On(o),s=!1}else h=lm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return o.flags&256?(ts(o),o):(ts(o),null);if((o.flags&128)!==0)throw Error(i(558))}return On(o),null;case 13:if(g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=_l(o),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(i(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[Zt]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;On(o),A=!1}else A=lm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return o.flags&256?(ts(o),o):(ts(o),null)}return ts(o),(o.flags&128)!==0?(o.lanes=h,o):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=o.child,A=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(A=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==A&&(g.flags|=2048)),h!==s&&h&&(o.child.flags|=8192),Fc(o,o.updateQueue),On(o),null);case 4:return at(),s===null&&_A(o.stateNode.containerInfo),On(o),null;case 10:return bs(o.type),On(o),null;case 19:if(oe(ei),g=o.memoizedState,g===null)return On(o),null;if(A=(o.flags&128)!==0,E=g.rendering,E===null)if(A)uf(g,!1);else{if(Nn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=Vh(s),E!==null){for(o.flags|=128,uf(g,!1),s=E.updateQueue,o.updateQueue=s,Fc(o,s),o.subtreeFlags=0,s=h,h=o.child;h!==null;)sa(h,s),h=h.sibling;return Be(ei,ei.current&1|2),fn&&Ir(o,g.treeForkCount),o.child}s=s.sibling}g.tail!==null&&H()>hs&&(o.flags|=128,A=!0,uf(g,!1),o.lanes=4194304)}else{if(!A)if(s=Vh(E),s!==null){if(o.flags|=128,A=!0,s=s.updateQueue,o.updateQueue=s,Fc(o,s),uf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!fn)return On(o),null}else 2*H()-g.renderingStartTime>hs&&h!==536870912&&(o.flags|=128,A=!0,uf(g,!1),o.lanes=4194304);g.isBackwards?(E.sibling=o.child,o.child=E):(s=g.last,s!==null?s.sibling=E:o.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=H(),s.sibling=null,h=ei.current,Be(ei,A?h&1|2:h&1),fn&&Ir(o,g.treeForkCount),s):(On(o),null);case 22:case 23:return ts(o),oa(),g=o.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(h&536870912)!==0&&(o.flags&128)===0&&(On(o),o.subtreeFlags&6&&(o.flags|=8192)):On(o),h=o.updateQueue,h!==null&&Fc(o,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==h&&(o.flags|=2048),s!==null&&oe(Po),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),bs(Rt),On(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function ad(s,o){switch(Uo(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bs(Rt),at(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return pn(o),null;case 31:if(o.memoizedState!==null){if(ts(o),o.alternate===null)throw Error(i(340));Al()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(ts(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Al()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return oe(ei),null;case 4:return at(),null;case 10:return bs(o.type),null;case 22:case 23:return ts(o),oa(),s!==null&&oe(Po),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return bs(Rt),null;case 25:return null;default:return null}}function Bl(s,o){switch(Uo(o),o.tag){case 3:bs(Rt),at();break;case 26:case 27:case 5:pn(o);break;case 4:at();break;case 31:o.memoizedState!==null&&ts(o);break;case 13:ts(o);break;case 19:oe(ei);break;case 10:bs(o.type);break;case 22:case 23:ts(o),oa(),s!==null&&oe(Po);break;case 24:bs(Rt)}}function mr(s,o){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var A=g.next;h=A;do{if((h.tag&s)===s){g=void 0;var E=h.create,L=h.inst;g=E(),L.destroy=g}h=h.next}while(h!==A)}}catch(G){Hn(o,o.return,G)}}function Ts(s,o,h){try{var g=o.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var E=A.next;g=E;do{if((g.tag&s)===s){var L=g.inst,G=L.destroy;if(G!==void 0){L.destroy=void 0,A=o;var ie=h,be=G;try{be()}catch(Le){Hn(A,ie,Le)}}}g=g.next}while(g!==E)}}catch(Le){Hn(o,o.return,Le)}}function Yo(s){var o=s.updateQueue;if(o!==null){var h=s.stateNode;try{qi(o,h)}catch(g){Hn(s,s.return,g)}}}function Wm(s,o,h){h.props=Ki(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){Hn(s,o,g)}}function gr(s,o){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(A){Hn(s,o,A)}}function ls(s,o){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(A){Hn(s,o,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Hn(s,o,A)}else h.current=null}function cs(s){var o=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(A){Hn(s,s.return,A)}}function Cs(s,o,h){try{var g=s.stateNode;fL(g,s.type,h,o),g[Ci]=o}catch(A){Hn(s,s.return,A)}}function bi(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jc(s.type)||s.tag===4}function vr(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||bi(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jt(s,o,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(s),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=nr));else if(g!==4&&(g===27&&jc(s.type)&&(h=s.stateNode,o=null),s=s.child,s!==null))for(Jt(s,o,h),s=s.sibling;s!==null;)Jt(s,o,h),s=s.sibling}function Cn(s,o,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?h.insertBefore(s,o):h.appendChild(s);else if(g!==4&&(g===27&&jc(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Cn(s,o,h),s=s.sibling;s!==null;)Cn(s,o,h),s=s.sibling}function fi(s){var o=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,A=o.attributes;A.length;)o.removeAttributeNode(A[0]);Ma(o,g,h),o[Zt]=s,o[Ci]=h}catch(E){Hn(s,s.return,E)}}var Rs=!1,Kn=!1,Jr=!1,ff=typeof WeakSet=="function"?WeakSet:Set,ii=null;function Hc(s,o){if(s=s.containerInfo,SA=qv,s=Th(s),yc(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var A=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var L=0,G=-1,ie=-1,be=0,Le=0,ke=s,Ee=null;t:for(;;){for(var Ce;ke!==h||A!==0&&ke.nodeType!==3||(G=L+A),ke!==E||g!==0&&ke.nodeType!==3||(ie=L+g),ke.nodeType===3&&(L+=ke.nodeValue.length),(Ce=ke.firstChild)!==null;)Ee=ke,ke=Ce;for(;;){if(ke===s)break t;if(Ee===h&&++be===A&&(G=L),Ee===E&&++Le===g&&(ie=L),(Ce=ke.nextSibling)!==null)break;ke=Ee,Ee=ke.parentNode}ke=Ce}h=G===-1||ie===-1?null:{start:G,end:ie}}else h=null}h=h||{start:0,end:0}}else h=null;for(MA={focusedElem:s,selectionRange:h},qv=!1,ii=o;ii!==null;)if(o=ii,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ii=s;else for(;ii!==null;){switch(o=ii,E=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)A=s[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,h=o,A=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var _t=Ki(h.type,A);s=g.getSnapshotBeforeUpdate(_t,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Ft){Hn(h,h.return,Ft)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,h=s.nodeType,h===9)CA(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":CA(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,ii=s;break}ii=o.return}}function Lv(s,o,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Kr(s,h),g&4&&mr(5,h);break;case 1:if(Kr(s,h),g&4)if(s=h.stateNode,o===null)try{s.componentDidMount()}catch(L){Hn(h,h.return,L)}else{var A=Ki(h.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(A,o,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Hn(h,h.return,L)}}g&64&&Yo(h),g&512&&gr(h,h.return);break;case 3:if(Kr(s,h),g&64&&(s=h.updateQueue,s!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{qi(s,o)}catch(L){Hn(h,h.return,L)}}break;case 27:o===null&&g&4&&fi(h);case 26:case 5:Kr(s,h),o===null&&g&4&&cs(h),g&512&&gr(h,h.return);break;case 12:Kr(s,h);break;case 31:Kr(s,h),g&4&&rd(s,h);break;case 13:Kr(s,h),g&4&&Zm(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=$N.bind(null,h),xL(s,h))));break;case 22:if(g=h.memoizedState!==null||Rs,!g){o=o!==null&&o.memoizedState!==null||Kn,A=Rs;var E=Kn;Rs=g,(Kn=o)&&!E?Bn(s,h,(h.subtreeFlags&8772)!==0):Kr(s,h),Rs=A,Kn=E}break;case 30:break;default:Kr(s,h)}}function sd(s){var o=s.alternate;o!==null&&(s.alternate=null,sd(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&V(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xn=null,Si=!1;function ca(s,o,h){for(h=h.child;h!==null;)qo(s,o,h),h=h.sibling}function qo(s,o,h){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Ye,h)}catch{}switch(h.tag){case 26:Kn||ls(h,o),ca(s,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Kn||ls(h,o);var g=xn,A=Si;jc(h.type)&&(xn=h.stateNode,Si=!1),ca(s,o,h),tg(h.stateNode),xn=g,Si=A;break;case 5:Kn||ls(h,o);case 6:if(g=xn,A=Si,xn=null,ca(s,o,h),xn=g,Si=A,xn!==null)if(Si)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(h.stateNode)}catch(E){Hn(h,o,E)}else try{xn.removeChild(h.stateNode)}catch(E){Hn(h,o,E)}break;case 18:xn!==null&&(Si?(s=xn,BE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),vd(s)):BE(xn,h.stateNode));break;case 4:g=xn,A=Si,xn=h.stateNode.containerInfo,Si=!0,ca(s,o,h),xn=g,Si=A;break;case 0:case 11:case 14:case 15:Ts(2,h,o),Kn||Ts(4,h,o),ca(s,o,h);break;case 1:Kn||(ls(h,o),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Wm(h,o,g)),ca(s,o,h);break;case 21:ca(s,o,h);break;case 22:Kn=(g=Kn)||h.memoizedState!==null,ca(s,o,h),Kn=g;break;default:ca(s,o,h)}}function rd(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{vd(s)}catch(h){Hn(o,o.return,h)}}}function Zm(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vd(s)}catch(h){Hn(o,o.return,h)}}function Uv(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new ff),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new ff),o;default:throw Error(i(435,s.tag))}}function hi(s,o){var h=Uv(s);o.forEach(function(g){if(!h.has(g)){h.add(g);var A=eL.bind(null,s,g);g.then(A,A)}})}function ua(s,o){var h=o.deletions;if(h!==null)for(var g=0;g<h.length;g++){var A=h[g],E=s,L=o,G=L;e:for(;G!==null;){switch(G.tag){case 27:if(jc(G.type)){xn=G.stateNode,Si=!1;break e}break;case 5:xn=G.stateNode,Si=!1;break e;case 3:case 4:xn=G.stateNode.containerInfo,Si=!0;break e}G=G.return}if(xn===null)throw Error(i(160));qo(E,L,A),xn=null,Si=!1,E=A.alternate,E!==null&&(E.return=null),A.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Jo(o,s),o=o.sibling}var Pa=null;function Jo(s,o){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ua(o,s),ai(s),g&4&&(Ts(3,s,s.return),mr(3,s),Ts(5,s,s.return));break;case 1:ua(o,s),ai(s),g&512&&(Kn||h===null||ls(h,h.return)),g&64&&Rs&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var A=Pa;if(ua(o,s),ai(s),g&512&&(Kn||h===null||ls(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,A=A.ownerDocument||A;t:switch(g){case"title":E=A.getElementsByTagName("title")[0],(!E||E[Nr]||E[Zt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=A.createElement(g),A.head.insertBefore(E,A.querySelector("head > title"))),Ma(E,g,h),E[Zt]=s,je(E),g=E;break e;case"link":var L=GE("link","href",A).get(g+(h.href||""));if(L){for(var G=0;G<L.length;G++)if(E=L[G],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(G,1);break t}}E=A.createElement(g),Ma(E,g,h),A.head.appendChild(E);break;case"meta":if(L=GE("meta","content",A).get(g+(h.content||""))){for(G=0;G<L.length;G++)if(E=L[G],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(G,1);break t}}E=A.createElement(g),Ma(E,g,h),A.head.appendChild(E);break;default:throw Error(i(468,g))}E[Zt]=s,je(E),g=E}s.stateNode=g}else VE(A,s.type,s.stateNode);else s.stateNode=zE(A,g,s.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?VE(A,s.type,s.stateNode):zE(A,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Cs(s,s.memoizedProps,h.memoizedProps)}break;case 27:ua(o,s),ai(s),g&512&&(Kn||h===null||ls(h,h.return)),h!==null&&g&4&&Cs(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ua(o,s),ai(s),g&512&&(Kn||h===null||ls(h,h.return)),s.flags&32){A=s.stateNode;try{ul(A,"")}catch(_t){Hn(s,s.return,_t)}}g&4&&s.stateNode!=null&&(A=s.memoizedProps,Cs(s,A,h!==null?h.memoizedProps:A)),g&1024&&(Jr=!0);break;case 6:if(ua(o,s),ai(s),g&4){if(s.stateNode===null)throw Error(i(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(_t){Hn(s,s.return,_t)}}break;case 3:if(kv=null,A=Pa,Pa=Gv(o.containerInfo),ua(o,s),Pa=A,ai(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{vd(o.containerInfo)}catch(_t){Hn(s,s.return,_t)}Jr&&(Jr=!1,Ov(s));break;case 4:g=Pa,Pa=Gv(s.stateNode.containerInfo),ua(o,s),ai(s),Pa=g;break;case 12:ua(o,s),ai(s);break;case 31:ua(o,s),ai(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hi(s,g)));break;case 13:ua(o,s),ai(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Qr=H()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hi(s,g)));break;case 22:A=s.memoizedState!==null;var ie=h!==null&&h.memoizedState!==null,be=Rs,Le=Kn;if(Rs=be||A,Kn=Le||ie,ua(o,s),Kn=Le,Rs=be,ai(s),g&8192)e:for(o=s.stateNode,o._visibility=A?o._visibility&-2:o._visibility|1,A&&(h===null||ie||Rs||Kn||Dl(s)),h=null,o=s;;){if(o.tag===5||o.tag===26){if(h===null){ie=h=o;try{if(E=ie.stateNode,A)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{G=ie.stateNode;var ke=ie.memoizedProps.style,Ee=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;G.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(_t){Hn(ie,ie.return,_t)}}}else if(o.tag===6){if(h===null){ie=o;try{ie.stateNode.nodeValue=A?"":ie.memoizedProps}catch(_t){Hn(ie,ie.return,_t)}}}else if(o.tag===18){if(h===null){ie=o;try{var Ce=ie.stateNode;A?DE(Ce,!0):DE(ie.stateNode,!1)}catch(_t){Hn(ie,ie.return,_t)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,hi(s,h))));break;case 19:ua(o,s),ai(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hi(s,g)));break;case 30:break;case 21:break;default:ua(o,s),ai(s)}}function ai(s){var o=s.flags;if(o&2){try{for(var h,g=s.return;g!==null;){if(bi(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var A=h.stateNode,E=vr(s);Cn(s,E,A);break;case 5:var L=h.stateNode;h.flags&32&&(ul(L,""),h.flags&=-33);var G=vr(s);Cn(s,G,L);break;case 3:case 4:var ie=h.stateNode.containerInfo,be=vr(s);Jt(s,be,ie);break;default:throw Error(i(161))}}catch(Le){Hn(s,s.return,Le)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Ov(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Ov(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Kr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Lv(s,o.alternate,o),o=o.sibling}function Dl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ts(4,o,o.return),Dl(o);break;case 1:ls(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&Wm(o,o.return,h),Dl(o);break;case 27:tg(o.stateNode);case 26:case 5:ls(o,o.return),Dl(o);break;case 22:o.memoizedState===null&&Dl(o);break;case 30:Dl(o);break;default:Dl(o)}s=s.sibling}}function Bn(s,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,A=s,E=o,L=E.flags;switch(E.tag){case 0:case 11:case 15:Bn(A,E,h),mr(4,E);break;case 1:if(Bn(A,E,h),g=E,A=g.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(be){Hn(g,g.return,be)}if(g=E,A=g.updateQueue,A!==null){var G=g.stateNode;try{var ie=A.shared.hiddenCallbacks;if(ie!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ie.length;A++)fr(ie[A],G)}catch(be){Hn(g,g.return,be)}}h&&L&64&&Yo(E),gr(E,E.return);break;case 27:fi(E);case 26:case 5:Bn(A,E,h),h&&g===null&&L&4&&cs(E),gr(E,E.return);break;case 12:Bn(A,E,h);break;case 31:Bn(A,E,h),h&&L&4&&rd(A,E);break;case 13:Bn(A,E,h),h&&L&4&&Zm(A,E);break;case 22:E.memoizedState===null&&Bn(A,E,h),gr(E,E.return);break;case 30:break;default:Bn(A,E,h)}o=o.sibling}}function od(s,o){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Yi(h))}function Wr(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Yi(s))}function wi(s,o,h,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Wn(s,o,h,g),o=o.sibling}function Wn(s,o,h,g){var A=o.flags;switch(o.tag){case 0:case 11:case 15:wi(s,o,h,g),A&2048&&mr(9,o);break;case 1:wi(s,o,h,g);break;case 3:wi(s,o,h,g),A&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Yi(s)));break;case 12:if(A&2048){wi(s,o,h,g),s=o.stateNode;try{var E=o.memoizedProps,L=E.id,G=E.onPostCommit;typeof G=="function"&&G(L,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ie){Hn(o,o.return,ie)}}else wi(s,o,h,g);break;case 31:wi(s,o,h,g);break;case 13:wi(s,o,h,g);break;case 23:break;case 22:E=o.stateNode,L=o.alternate,o.memoizedState!==null?E._visibility&2?wi(s,o,h,g):zc(s,o):E._visibility&2?wi(s,o,h,g):(E._visibility|=2,Ko(s,o,h,g,(o.subtreeFlags&10256)!==0||!1)),A&2048&&od(L,o);break;case 24:wi(s,o,h,g),A&2048&&Wr(o.alternate,o);break;default:wi(s,o,h,g)}}function Ko(s,o,h,g,A){for(A=A&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=s,L=o,G=h,ie=g,be=L.flags;switch(L.tag){case 0:case 11:case 15:Ko(E,L,G,ie,A),mr(8,L);break;case 23:break;case 22:var Le=L.stateNode;L.memoizedState!==null?Le._visibility&2?Ko(E,L,G,ie,A):zc(E,L):(Le._visibility|=2,Ko(E,L,G,ie,A)),A&&be&2048&&od(L.alternate,L);break;case 24:Ko(E,L,G,ie,A),A&&be&2048&&Wr(L.alternate,L);break;default:Ko(E,L,G,ie,A)}o=o.sibling}}function zc(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=s,g=o,A=g.flags;switch(g.tag){case 22:zc(h,g),A&2048&&od(g.alternate,g);break;case 24:zc(h,g),A&2048&&Wr(g.alternate,g);break;default:zc(h,g)}o=o.sibling}}var si=8192;function Nl(s,o,h){if(s.subtreeFlags&si)for(s=s.child;s!==null;)di(s,o,h),s=s.sibling}function di(s,o,h){switch(s.tag){case 26:Nl(s,o,h),s.flags&si&&s.memoizedState!==null&&DL(h,Pa,s.memoizedState,s.memoizedProps);break;case 5:Nl(s,o,h);break;case 3:case 4:var g=Pa;Pa=Gv(s.stateNode.containerInfo),Nl(s,o,h),Pa=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=si,si=16777216,Nl(s,o,h),si=g):Nl(s,o,h));break;default:Nl(s,o,h)}}function Ia(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function ba(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var g=o[h];ii=g,hf(g,s)}Ia(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ll(s),s=s.sibling}function Ll(s){switch(s.tag){case 0:case 11:case 15:ba(s),s.flags&2048&&Ts(9,s,s.return);break;case 3:ba(s);break;case 12:ba(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,ld(s)):ba(s);break;default:ba(s)}}function ld(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var g=o[h];ii=g,hf(g,s)}Ia(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ts(8,o,o.return),ld(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,ld(o));break;default:ld(o)}s=s.sibling}}function hf(s,o){for(;ii!==null;){var h=ii;switch(h.tag){case 0:case 11:case 15:Ts(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Yi(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ii=g;else e:for(h=s;ii!==null;){g=ii;var A=g.sibling,E=g.return;if(sd(g),g===h){ii=null;break e}if(A!==null){A.return=E,ii=A;break e}ii=E}}}var cd={getCacheForType:function(s){var o=Hi(Rt),h=o.data.get(s);return h===void 0&&(h=s(),o.data.set(s,h)),h},cacheSignal:function(){return Hi(Rt).controller.signal}},ud=typeof WeakMap=="function"?WeakMap:Map,mn=0,Dn=null,Kt=null,cn=0,wt=0,rn=null,jt=!1,nn=!1,Fn=!1,pi=0,Nn=0,us=0,Zr=0,ks=0,gn=0,fs=0,js=null,fa=null,Fa=!1,Qr=0,Gc=0,hs=1/0,Vc=null,yr=null,Zn=0,Xs=null,ds=null,ws=0,$r=0,Ul=null,fd=null,Ol=0,Pl=null;function Sa(){return(mn&2)!==0&&cn!==0?cn&-cn:j.T!==null?gA():Ra()}function c(){if(gn===0)if((cn&536870912)===0||fn){var s=We;We<<=1,(We&3932160)===0&&(We=262144),gn=s}else gn=536870912;return s=Ri.current,s!==null&&(s.flags|=32),gn}function f(s,o,h){(s===Dn&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(de(s,0),N(s,cn,gn,!1)),$n(s,h),((mn&2)===0||s!==Dn)&&(s===Dn&&((mn&2)===0&&(Zr|=h),Nn===4&&N(s,cn,gn,!1)),Wo(s))}function y(s,o,h){if((mn&6)!==0)throw Error(i(327));var g=!h&&(o&127)===0&&(o&s.expiredLanes)===0||ot(s,o),A=g?Il(s,o):Ha(s,o,!0),E=g;do{if(A===0){nn&&!g&&N(s,o,0,!1);break}else{if(h=s.current.alternate,E&&!R(h)){A=Ha(s,o,!1),E=!1;continue}if(A===2){if(E=o,s.errorRecoveryDisabledLanes&E)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){o=L;e:{var G=s;A=js;var ie=G.current.memoizedState.isDehydrated;if(ie&&(de(G,L).flags|=256),L=Ha(G,L,!1),L!==2){if(Fn&&!ie){G.errorRecoveryDisabledLanes|=E,Zr|=E,A=4;break e}E=fa,fa=A,E!==null&&(fa===null?fa=E:fa.push.apply(fa,E))}A=L}if(E=!1,A!==2)continue}}if(A===1){de(s,0),N(s,o,0,!0);break}e:{switch(g=s,E=A,E){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:N(g,o,gn,!jt);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(A=Qr+300-H(),10<A)){if(N(g,o,gn,!jt),He(g,0,!0)!==0)break e;ws=o,g.timeoutHandle=RE(b.bind(null,g,h,fa,Vc,Fa,o,gn,Zr,fs,jt,E,"Throttled",-0,0),A);break e}b(g,h,fa,Vc,Fa,o,gn,Zr,fs,jt,E,null,-0,0)}}break}while(!0);Wo(s)}function b(s,o,h,g,A,E,L,G,ie,be,Le,ke,Ee,Ce){if(s.timeoutHandle=-1,ke=o.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nr},di(o,E,ke);var _t=(E&62914560)===E?Qr-H():(E&4194048)===E?Gc-H():0;if(_t=NL(ke,_t),_t!==null){ws=E,s.cancelPendingCommit=_t(zt.bind(null,s,o,E,h,g,A,L,G,ie,Le,ke,null,Ee,Ce)),N(s,E,L,!be);return}}zt(s,o,E,h,g,A,L,G,ie)}function R(s){for(var o=s;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var A=h[g],E=A.getSnapshot;A=A.value;try{if(!qn(E(),A))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function N(s,o,h,g){o&=~ks,o&=~Zr,s.suspendedLanes|=o,s.pingedLanes&=~o,g&&(s.warmLanes|=o),g=s.expirationTimes;for(var A=o;0<A;){var E=31-$(A),L=1<<E;g[E]=-1,A&=~L}h!==0&&cc(s,h,o)}function k(){return(mn&6)===0?(Qm(0),!1):!0}function ne(){if(Kt!==null){if(wt===0)var s=Kt.return;else s=Kt,ra=Hr=null,Rm(s),Fo=null,Ho=0,s=Kt;for(;s!==null;)Bl(s.alternate,s),s=s.return;Kt=null}}function de(s,o){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,pL(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),ws=0,ne(),Dn=s,Kt=h=sr(s.current,null),cn=o,wt=0,rn=null,jt=!1,nn=ot(s,o),Fn=!1,fs=gn=ks=Zr=us=Nn=0,fa=js=null,Fa=!1,(o&8)!==0&&(o|=o&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=o;0<g;){var A=31-$(g),E=1<<A;o|=s[A],g&=~E}return pi=o,Do(),h}function Pe(s,o){Ht=null,j.H=$u,o===Io||o===Hs?(o=Hh(),wt=3):o===ku?(o=Hh(),wt=4):wt=o===nd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,rn=o,Kt===null&&(Nn=1,td(s,Ba(o,s.current)))}function nt(){var s=Ri.current;return s===null?!0:(cn&4194048)===cn?Ss===null:(cn&62914560)===cn||(cn&536870912)!==0?s===Ss:!1}function ft(){var s=j.H;return j.H=$u,s===null?$u:s}function dt(){var s=j.A;return j.A=cd,s}function kt(){Nn=4,jt||(cn&4194048)!==cn&&Ri.current!==null||(nn=!0),(us&134217727)===0&&(Zr&134217727)===0||Dn===null||N(Dn,cn,gn,!1)}function Ha(s,o,h){var g=mn;mn|=2;var A=ft(),E=dt();(Dn!==s||cn!==o)&&(Vc=null,de(s,o)),o=!1;var L=Nn;e:do try{if(wt!==0&&Kt!==null){var G=Kt,ie=rn;switch(wt){case 8:ne(),L=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(o=!0);var be=wt;if(wt=0,rn=null,Ze(s,G,ie,be),h&&nn){L=0;break e}break;default:be=wt,wt=0,rn=null,Ze(s,G,ie,be)}}df(),L=Nn;break}catch(Le){Pe(s,Le)}while(!0);return o&&s.shellSuspendCounter++,ra=Hr=null,mn=g,j.H=A,j.A=E,Kt===null&&(Dn=null,cn=0,Do()),L}function df(){for(;Kt!==null;)fe(Kt)}function Il(s,o){var h=mn;mn|=2;var g=ft(),A=dt();Dn!==s||cn!==o?(Vc=null,hs=H()+500,de(s,o)):nn=ot(s,o);e:do try{if(wt!==0&&Kt!==null){o=Kt;var E=rn;t:switch(wt){case 1:wt=0,rn=null,Ze(s,o,E,1);break;case 2:case 9:if(rv(E)){wt=0,rn=null,Te(o);break}o=function(){wt!==2&&wt!==9||Dn!==s||(wt=7),Wo(s)},E.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:rv(E)?(wt=0,rn=null,Te(o)):(wt=0,rn=null,Ze(s,o,E,7));break;case 5:var L=null;switch(Kt.tag){case 26:L=Kt.memoizedState;case 5:case 27:var G=Kt;if(L?kE(L):G.stateNode.complete){wt=0,rn=null;var ie=G.sibling;if(ie!==null)Kt=ie;else{var be=G.return;be!==null?(Kt=be,Et(be)):Kt=null}break t}}wt=0,rn=null,Ze(s,o,E,5);break;case 6:wt=0,rn=null,Ze(s,o,E,6);break;case 8:ne(),Nn=6;break e;default:throw Error(i(462))}}Se();break}catch(Le){Pe(s,Le)}while(!0);return ra=Hr=null,j.H=g,j.A=A,mn=h,Kt!==null?0:(Dn=null,cn=0,Do(),Nn)}function Se(){for(;Kt!==null&&!Ut();)fe(Kt)}function fe(s){var o=id(s.alternate,s,pi);s.memoizedProps=s.pendingProps,o===null?Et(s):Kt=o}function Te(s){var o=s,h=o.alternate;switch(o.tag){case 15:case 0:o=la(h,o,o.pendingProps,o.type,void 0,cn);break;case 11:o=la(h,o,o.pendingProps,o.type.render,o.ref,cn);break;case 5:Rm(o);default:Bl(h,o),o=Kt=sa(o,pi),o=id(h,o,pi)}s.memoizedProps=s.pendingProps,o===null?Et(s):Kt=o}function Ze(s,o,h,g){ra=Hr=null,Rm(o),Fo=null,Ho=0;var A=o.return;try{if(is(s,A,o,h,cn)){Nn=1,td(s,Ba(h,s.current)),Kt=null;return}}catch(E){if(A!==null)throw Kt=A,E;Nn=1,td(s,Ba(h,s.current)),Kt=null;return}o.flags&32768?(fn||g===1?s=!0:nn||(cn&536870912)!==0?s=!1:(jt=s=!0,(g===2||g===9||g===3||g===6)&&(g=Ri.current,g!==null&&g.tag===13&&(g.flags|=16384))),kn(o,s)):Et(o)}function Et(s){var o=s;do{if((o.flags&32768)!==0){kn(o,jt);return}s=o.return;var h=Km(o.alternate,o,pi);if(h!==null){Kt=h;return}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=s}while(o!==null);Nn===0&&(Nn=5)}function kn(s,o){do{var h=ad(s.alternate,s);if(h!==null){h.flags&=32767,Kt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(s=s.sibling,s!==null)){Kt=s;return}Kt=s=h}while(s!==null);Nn=6,Kt=null}function zt(s,o,h,g,A,E,L,G,ie){s.cancelPendingCommit=null;do hd();while(Zn!==0);if((mn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(E=o.lanes|o.childLanes,E|=Dh,Ui(s,h,E,L,G,ie),s===Dn&&(Kt=Dn=null,cn=0),ds=o,Xs=s,ws=h,$r=E,Ul=A,fd=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tL(we,function(){return fE(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,A=Z.p,Z.p=2,L=mn,mn|=4;try{Hc(s,o,h)}finally{mn=L,Z.p=A,j.T=g}}Zn=1,_n(),Bi(),An()}}function _n(){if(Zn===1){Zn=0;var s=Xs,o=ds,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=j.T,j.T=null;var g=Z.p;Z.p=2;var A=mn;mn|=4;try{Jo(o,s);var E=MA,L=Th(s.containerInfo),G=E.focusedElem,ie=E.selectionRange;if(L!==G&&G&&G.ownerDocument&&Eh(G.ownerDocument.documentElement,G)){if(ie!==null&&yc(G)){var be=ie.start,Le=ie.end;if(Le===void 0&&(Le=be),"selectionStart"in G)G.selectionStart=be,G.selectionEnd=Math.min(Le,G.value.length);else{var ke=G.ownerDocument||document,Ee=ke&&ke.defaultView||window;if(Ee.getSelection){var Ce=Ee.getSelection(),_t=G.textContent.length,Ft=Math.min(ie.start,_t),Xn=ie.end===void 0?Ft:Math.min(ie.end,_t);!Ce.extend&&Ft>Xn&&(L=Xn,Xn=Ft,Ft=L);var he=im(G,Ft),ae=im(G,Xn);if(he&&ae&&(Ce.rangeCount!==1||Ce.anchorNode!==he.node||Ce.anchorOffset!==he.offset||Ce.focusNode!==ae.node||Ce.focusOffset!==ae.offset)){var _e=ke.createRange();_e.setStart(he.node,he.offset),Ce.removeAllRanges(),Ft>Xn?(Ce.addRange(_e),Ce.extend(ae.node,ae.offset)):(_e.setEnd(ae.node,ae.offset),Ce.addRange(_e))}}}}for(ke=[],Ce=G;Ce=Ce.parentNode;)Ce.nodeType===1&&ke.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ke.length;G++){var ze=ke[G];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}qv=!!SA,MA=SA=null}finally{mn=A,Z.p=g,j.T=h}}s.current=o,Zn=2}}function Bi(){if(Zn===2){Zn=0;var s=Xs,o=ds,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=j.T,j.T=null;var g=Z.p;Z.p=2;var A=mn;mn|=4;try{Lv(s,o.alternate,o)}finally{mn=A,Z.p=g,j.T=h}}Zn=3}}function An(){if(Zn===4||Zn===3){Zn=0,K();var s=Xs,o=ds,h=ws,g=fd;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zn=5:(Zn=0,ds=Xs=null,eo(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(yr=null),ll(h),o=o.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Ye,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=j.T,A=Z.p,Z.p=2,j.T=null;try{for(var E=s.onRecoverableError,L=0;L<g.length;L++){var G=g[L];E(G.value,{componentStack:G.stack})}}finally{j.T=o,Z.p=A}}(ws&3)!==0&&hd(),Wo(s),A=s.pendingLanes,(h&261930)!==0&&(A&42)!==0?s===Pl?Ol++:(Ol=0,Pl=s):Ol=0,Qm(0)}}function eo(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Yi(o)))}function hd(){return _n(),Bi(),An(),fE()}function fE(){if(Zn!==5)return!1;var s=Xs,o=$r;$r=0;var h=ll(ws),g=j.T,A=Z.p;try{Z.p=32>h?32:h,j.T=null,h=Ul,Ul=null;var E=Xs,L=ws;if(Zn=0,ds=Xs=null,ws=0,(mn&6)!==0)throw Error(i(331));var G=mn;if(mn|=4,Ll(E.current),Wn(E,E.current,L,h),mn=G,Qm(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Ye,E)}catch{}return!0}finally{Z.p=A,j.T=g,eo(s,o)}}function hE(s,o,h){o=Ba(h,o),o=Jm(s.stateNode,o,2),s=kr(s,o,2),s!==null&&($n(s,2),Wo(s))}function Hn(s,o,h){if(s.tag===3)hE(s,s,h);else for(;o!==null;){if(o.tag===3){hE(o,s,h);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(yr===null||!yr.has(g))){s=Ba(h,s),h=Uc(2),g=kr(o,h,2),g!==null&&(Ua(h,g,o,s),$n(g,2),Wo(g));break}}o=o.return}}function dA(s,o,h){var g=s.pingCache;if(g===null){g=s.pingCache=new ud;var A=new Set;g.set(o,A)}else A=g.get(o),A===void 0&&(A=new Set,g.set(o,A));A.has(h)||(Fn=!0,A.add(h),s=QN.bind(null,s,o,h),o.then(s,s))}function QN(s,o,h){var g=s.pingCache;g!==null&&g.delete(o),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Dn===s&&(cn&h)===h&&(Nn===4||Nn===3&&(cn&62914560)===cn&&300>H()-Qr?(mn&2)===0&&de(s,0):ks|=h,fs===cn&&(fs=0)),Wo(s)}function dE(s,o){o===0&&(o=en()),s=No(s,o),s!==null&&($n(s,o),Wo(s))}function $N(s){var o=s.memoizedState,h=0;o!==null&&(h=o.retryLane),dE(s,h)}function eL(s,o){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,A=s.memoizedState;A!==null&&(h=A.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),dE(s,h)}function tL(s,o){return $e(s,o)}var Pv=null,dd=null,pA=!1,Iv=!1,mA=!1,kc=0;function Wo(s){s!==dd&&s.next===null&&(dd===null?Pv=dd=s:dd=dd.next=s),Iv=!0,pA||(pA=!0,iL())}function Qm(s,o){if(!mA&&Iv){mA=!0;do for(var h=!1,g=Pv;g!==null;){if(s!==0){var A=g.pendingLanes;if(A===0)var E=0;else{var L=g.suspendedLanes,G=g.pingedLanes;E=(1<<31-$(42|s)+1)-1,E&=A&~(L&~G),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,vE(g,E))}else E=cn,E=He(g,g===Dn?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||ot(g,E)||(h=!0,vE(g,E));g=g.next}while(h);mA=!1}}function nL(){pE()}function pE(){Iv=pA=!1;var s=0;kc!==0&&dL()&&(s=kc);for(var o=H(),h=null,g=Pv;g!==null;){var A=g.next,E=mE(g,o);E===0?(g.next=null,h===null?Pv=A:h.next=A,A===null&&(dd=h)):(h=g,(s!==0||(E&3)!==0)&&(Iv=!0)),g=A}Zn!==0&&Zn!==5||Qm(s),kc!==0&&(kc=0)}function mE(s,o){for(var h=s.suspendedLanes,g=s.pingedLanes,A=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var L=31-$(E),G=1<<L,ie=A[L];ie===-1?((G&h)===0||(G&g)!==0)&&(A[L]=St(G,o)):ie<=o&&(s.expiredLanes|=G),E&=~G}if(o=Dn,h=cn,h=He(s,s===o?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===o&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Dt(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ot(s,h)){if(o=h&-h,o===s.callbackPriority)return o;switch(g!==null&&Dt(g),ll(h)){case 2:case 8:h=Xe;break;case 32:h=we;break;case 268435456:h=tt;break;default:h=we}return g=gE.bind(null,s),h=$e(h,g),s.callbackPriority=o,s.callbackNode=h,o}return g!==null&&g!==null&&Dt(g),s.callbackPriority=2,s.callbackNode=null,2}function gE(s,o){if(Zn!==0&&Zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(hd()&&s.callbackNode!==h)return null;var g=cn;return g=He(s,s===Dn?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(y(s,g,o),mE(s,H()),s.callbackNode!=null&&s.callbackNode===h?gE.bind(null,s):null)}function vE(s,o){if(hd())return null;y(s,o,!0)}function iL(){mL(function(){(mn&6)!==0?$e(Re,nL):pE()})}function gA(){if(kc===0){var s=Vr;s===0&&(s=Ve,Ve<<=1,(Ve&261888)===0&&(Ve=256)),kc=s}return kc}function yE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mu(""+s)}function xE(s,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,s.id&&h.setAttribute("form",s.id),o.parentNode.insertBefore(h,o),s=new FormData(s),h.parentNode.removeChild(h),s}function aL(s,o,h,g,A){if(o==="submit"&&h&&h.stateNode===A){var E=yE((A[Ci]||null).action),L=g.submitter;L&&(o=(o=L[Ci]||null)?yE(o.formAction):L.getAttribute("formAction"),o!==null&&(E=o,L=null));var G=new Ru("action","action",null,g,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(kc!==0){var ie=L?xE(A,L):new FormData(A);km(h,{pending:!0,data:ie,method:A.method,action:E},null,ie)}}else typeof E=="function"&&(G.preventDefault(),ie=L?xE(A,L):new FormData(A),km(h,{pending:!0,data:ie,method:A.method,action:E},E,ie))},currentTarget:A}]})}}for(var vA=0;vA<Bh.length;vA++){var yA=Bh[vA],sL=yA.toLowerCase(),rL=yA[0].toUpperCase()+yA.slice(1);aa(sL,"on"+rL)}aa(wa,"onAnimationEnd"),aa(am,"onAnimationIteration"),aa(ar,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(bc,"onTransitionRun"),aa(wo,"onTransitionStart"),aa(sm,"onTransitionCancel"),aa(wh,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($m));function _E(s,o){o=(o&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],A=g.event;g=g.listeners;e:{var E=void 0;if(o)for(var L=g.length-1;0<=L;L--){var G=g[L],ie=G.instance,be=G.currentTarget;if(G=G.listener,ie!==E&&A.isPropagationStopped())break e;E=G,A.currentTarget=be;try{E(A)}catch(Le){Bo(Le)}A.currentTarget=null,E=ie}else for(L=0;L<g.length;L++){if(G=g[L],ie=G.instance,be=G.currentTarget,G=G.listener,ie!==E&&A.isPropagationStopped())break e;E=G,A.currentTarget=be;try{E(A)}catch(Le){Bo(Le)}A.currentTarget=null,E=ie}}}}function hn(s,o){var h=o[uc];h===void 0&&(h=o[uc]=new Set);var g=s+"__bubble";h.has(g)||(AE(o,s,2,!1),h.add(g))}function xA(s,o,h){var g=0;o&&(g|=4),AE(h,s,g,o)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function _A(s){if(!s[Fv]){s[Fv]=!0,st.forEach(function(h){h!=="selectionchange"&&(oL.has(h)||xA(h,!1,s),xA(h,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fv]||(o[Fv]=!0,xA("selectionchange",!1,o))}}function AE(s,o,h,g){switch(WE(o)){case 2:var A=OL;break;case 8:A=PL;break;default:A=OA}h=A.bind(null,o,h,s),A=void 0,!mh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),g?A!==void 0?s.addEventListener(o,h,{capture:!0,passive:A}):s.addEventListener(o,h,!0):A!==void 0?s.addEventListener(o,h,{passive:A}):s.addEventListener(o,h,!1)}function AA(s,o,h,g,A){var E=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var G=g.stateNode.containerInfo;if(G===A)break;if(L===4)for(L=g.return;L!==null;){var ie=L.tag;if((ie===3||ie===4)&&L.stateNode.containerInfo===A)return;L=L.return}for(;G!==null;){if(L=re(G),L===null)return;if(ie=L.tag,ie===5||ie===6||ie===26||ie===27){g=E=L;continue e}G=G.parentNode}}g=g.return}zp(function(){var be=E,Le=dh(h),ke=[];e:{var Ee=Or.get(s);if(Ee!==void 0){var Ce=Ru,_t=s;switch(s){case"keypress":if(dl(h)===0)break e;case"keydown":case"keyup":Ce=qp;break;case"focusin":_t="focus",Ce=_h;break;case"focusout":_t="blur",Ce=_h;break;case"beforeblur":case"afterblur":Ce=_h;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=F0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Lr;break;case wa:case am:case ar:Ce=G0;break;case wh:Ce=sA;break;case"scroll":case"scrollend":Ce=yh;break;case"wheel":Ce=So;break;case"copy":case"cut":case"paste":Ce=Vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Ah;break;case"toggle":case"beforetoggle":Ce=Kp}var Ft=(o&4)!==0,Xn=!Ft&&(s==="scroll"||s==="scrollend"),he=Ft?Ee!==null?Ee+"Capture":null:Ee;Ft=[];for(var ae=be,_e;ae!==null;){var ze=ae;if(_e=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||_e===null||he===null||(ze=hl(ae,he),ze!=null&&Ft.push(eg(ae,ze,_e))),Xn)break;ae=ae.return}0<Ft.length&&(Ee=new Ce(Ee,_t,null,h,Le),ke.push({event:Ee,listeners:Ft}))}}if((o&7)===0){e:{if(Ee=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",Ee&&h!==Eu&&(_t=h.relatedTarget||h.fromElement)&&(re(_t)||_t[er]))break e;if((Ce||Ee)&&(Ee=Le.window===Le?Le:(Ee=Le.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ce?(_t=h.relatedTarget||h.toElement,Ce=be,_t=_t?re(_t):null,_t!==null&&(Xn=r(_t),Ft=_t.tag,_t!==Xn||Ft!==5&&Ft!==27&&Ft!==6)&&(_t=null)):(Ce=null,_t=be),Ce!==_t)){if(Ft=I0,ze="onMouseLeave",he="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(Ft=Ah,ze="onPointerLeave",he="onPointerEnter",ae="pointer"),Xn=Ce==null?Ee:Me(Ce),_e=_t==null?Ee:Me(_t),Ee=new Ft(ze,ae+"leave",Ce,h,Le),Ee.target=Xn,Ee.relatedTarget=_e,ze=null,re(Le)===be&&(Ft=new Ft(he,ae+"enter",_t,h,Le),Ft.target=_e,Ft.relatedTarget=Xn,ze=Ft),Xn=ze,Ce&&_t)t:{for(Ft=lL,he=Ce,ae=_t,_e=0,ze=he;ze;ze=Ft(ze))_e++;ze=0;for(var Nt=ae;Nt;Nt=Ft(Nt))ze++;for(;0<_e-ze;)he=Ft(he),_e--;for(;0<ze-_e;)ae=Ft(ae),ze--;for(;_e--;){if(he===ae||ae!==null&&he===ae.alternate){Ft=he;break t}he=Ft(he),ae=Ft(ae)}Ft=null}else Ft=null;Ce!==null&&bE(ke,Ee,Ce,Ft,!1),_t!==null&&Xn!==null&&bE(ke,Xn,_t,Ft,!0)}}e:{if(Ee=be?Me(be):window,Ce=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Ee.type==="file")var Ln=em;else if(Qp(Ee))if(Uu)Ln=Q0;else{Ln=To;var bt=Ou}else Ce=Ee.nodeName,!Ce||Ce.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?be&&Su(be.elementType)&&(Ln=em):Ln=Z0;if(Ln&&(Ln=Ln(s,be))){Mh(ke,Ln,h,Le);break e}bt&&bt(s,Ee,be),s==="focusout"&&be&&Ee.type==="number"&&be.memoizedProps.value!=null&&_i(Ee,"number",Ee.value)}switch(bt=be?Me(be):window,s){case"focusin":(Qp(bt)||bt.contentEditable==="true")&&(xc=bt,Ch=be,_c=null);break;case"focusout":_c=Ch=xc=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Rh(ke,h,Le);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Rh(ke,h,Le)}var an;if(pl)e:{switch(s){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else Eo?bh(s,h)&&(vn="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(vn="onCompositionStart");vn&&(Xi&&h.locale!=="ko"&&(Eo||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Eo&&(an=vh()):(_o=Le,gh="value"in _o?_o.value:_o.textContent,Eo=!0)),bt=Hv(be,vn),0<bt.length&&(vn=new kp(vn,s,null,h,Le),ke.push({event:vn,listeners:bt}),an?vn.data=an:(an=dc(h),an!==null&&(vn.data=an)))),(an=ml?Sh(s,h):J0(s,h))&&(vn=Hv(be,"onBeforeInput"),0<vn.length&&(bt=new kp("onBeforeInput","beforeinput",null,h,Le),ke.push({event:bt,listeners:vn}),bt.data=an)),aL(ke,s,be,h,Le)}_E(ke,o)})}function eg(s,o,h){return{instance:s,listener:o,currentTarget:h}}function Hv(s,o){for(var h=o+"Capture",g=[];s!==null;){var A=s,E=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||E===null||(A=hl(s,h),A!=null&&g.unshift(eg(s,A,E)),A=hl(s,o),A!=null&&g.push(eg(s,A,E))),s.tag===3)return g;s=s.return}return[]}function lL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function bE(s,o,h,g,A){for(var E=o._reactName,L=[];h!==null&&h!==g;){var G=h,ie=G.alternate,be=G.stateNode;if(G=G.tag,ie!==null&&ie===g)break;G!==5&&G!==26&&G!==27||be===null||(ie=be,A?(be=hl(h,E),be!=null&&L.unshift(eg(h,be,ie))):A||(be=hl(h,E),be!=null&&L.push(eg(h,be,ie)))),h=h.return}L.length!==0&&s.push({event:o,listeners:L})}var cL=/\r\n?/g,uL=/\u0000|\uFFFD/g;function SE(s){return(typeof s=="string"?s:""+s).replace(cL,`
`).replace(uL,"")}function ME(s,o){return o=SE(o),SE(s)===o}function jn(s,o,h,g,A,E){switch(h){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||ul(s,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&ul(s,""+g);break;case"className":Tn(s,"class",g);break;case"tabIndex":Tn(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(s,h,g);break;case"style":Fp(s,g,E);break;case"data":if(o!=="object"){Tn(s,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Mu(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(o!=="input"&&jn(s,o,"name",A.name,A,null),jn(s,o,"formEncType",A.formEncType,A,null),jn(s,o,"formMethod",A.formMethod,A,null),jn(s,o,"formTarget",A.formTarget,A,null)):(jn(s,o,"encType",A.encType,A,null),jn(s,o,"method",A.method,A,null),jn(s,o,"target",A.target,A,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Mu(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=nr);break;case"onScroll":g!=null&&hn("scroll",s);break;case"onScrollEnd":g!=null&&hn("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=Mu(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":hn("beforetoggle",s),hn("toggle",s),Pn(s,"popover",g);break;case"xlinkActuate":tn(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":tn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":tn(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":tn(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":tn(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":tn(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":tn(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":tn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":tn(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Pn(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=O0.get(h)||h,Pn(s,h,g))}}function bA(s,o,h,g,A,E){switch(h){case"style":Fp(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"children":typeof g=="string"?ul(s,g):(typeof g=="number"||typeof g=="bigint")&&ul(s,""+g);break;case"onScroll":g!=null&&hn("scroll",s);break;case"onScrollEnd":g!=null&&hn("scrollend",s);break;case"onClick":g!=null&&(s.onclick=nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mt.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),o=h.slice(2,A?h.length-7:void 0),E=s[Ci]||null,E=E!=null?E[h]:null,typeof E=="function"&&s.removeEventListener(o,E,A),typeof g=="function")){typeof E!="function"&&E!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(o,g,A);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):Pn(s,h,g)}}}function Ma(s,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",s),hn("load",s);var g=!1,A=!1,E;for(E in h)if(h.hasOwnProperty(E)){var L=h[E];if(L!=null)switch(E){case"src":g=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(s,o,E,L,h,null)}}A&&jn(s,o,"srcSet",h.srcSet,h,null),g&&jn(s,o,"src",h.src,h,null);return;case"input":hn("invalid",s);var G=E=L=A=null,ie=null,be=null;for(g in h)if(h.hasOwnProperty(g)){var Le=h[g];if(Le!=null)switch(g){case"name":A=Le;break;case"type":L=Le;break;case"checked":ie=Le;break;case"defaultChecked":be=Le;break;case"value":E=Le;break;case"defaultValue":G=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,o));break;default:jn(s,o,g,Le,h,null)}}na(s,E,G,ie,be,L,A,!1);return;case"select":hn("invalid",s),g=L=E=null;for(A in h)if(h.hasOwnProperty(A)&&(G=h[A],G!=null))switch(A){case"value":E=G;break;case"defaultValue":L=G;break;case"multiple":g=G;default:jn(s,o,A,G,h,null)}o=E,h=L,s.multiple=!!g,o!=null?ci(s,!!g,o,!1):h!=null&&ci(s,!!g,h,!0);return;case"textarea":hn("invalid",s),E=A=g=null;for(L in h)if(h.hasOwnProperty(L)&&(G=h[L],G!=null))switch(L){case"value":g=G;break;case"defaultValue":A=G;break;case"children":E=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:jn(s,o,L,G,h,null)}ga(s,g,A,E);return;case"option":for(ie in h)if(h.hasOwnProperty(ie)&&(g=h[ie],g!=null))switch(ie){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jn(s,o,ie,g,h,null)}return;case"dialog":hn("beforetoggle",s),hn("toggle",s),hn("cancel",s),hn("close",s);break;case"iframe":case"object":hn("load",s);break;case"video":case"audio":for(g=0;g<$m.length;g++)hn($m[g],s);break;case"image":hn("error",s),hn("load",s);break;case"details":hn("toggle",s);break;case"embed":case"source":case"link":hn("error",s),hn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in h)if(h.hasOwnProperty(be)&&(g=h[be],g!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(s,o,be,g,h,null)}return;default:if(Su(o)){for(Le in h)h.hasOwnProperty(Le)&&(g=h[Le],g!==void 0&&bA(s,o,Le,g,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(g=h[G],g!=null&&jn(s,o,G,g,h,null))}function fL(s,o,h,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,E=null,L=null,G=null,ie=null,be=null,Le=null;for(Ce in h){var ke=h[Ce];if(h.hasOwnProperty(Ce)&&ke!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ie=ke;default:g.hasOwnProperty(Ce)||jn(s,o,Ce,null,g,ke)}}for(var Ee in g){var Ce=g[Ee];if(ke=h[Ee],g.hasOwnProperty(Ee)&&(Ce!=null||ke!=null))switch(Ee){case"type":E=Ce;break;case"name":A=Ce;break;case"checked":be=Ce;break;case"defaultChecked":Le=Ce;break;case"value":L=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,o));break;default:Ce!==ke&&jn(s,o,Ee,Ce,g,ke)}}ki(s,L,G,ie,be,Le,E,A);return;case"select":Ce=L=G=Ee=null;for(E in h)if(ie=h[E],h.hasOwnProperty(E)&&ie!=null)switch(E){case"value":break;case"multiple":Ce=ie;default:g.hasOwnProperty(E)||jn(s,o,E,null,g,ie)}for(A in g)if(E=g[A],ie=h[A],g.hasOwnProperty(A)&&(E!=null||ie!=null))switch(A){case"value":Ee=E;break;case"defaultValue":G=E;break;case"multiple":L=E;default:E!==ie&&jn(s,o,A,E,g,ie)}o=G,h=L,g=Ce,Ee!=null?ci(s,!!h,Ee,!1):!!g!=!!h&&(o!=null?ci(s,!!h,o,!0):ci(s,!!h,h?[]:"",!1));return;case"textarea":Ce=Ee=null;for(G in h)if(A=h[G],h.hasOwnProperty(G)&&A!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:jn(s,o,G,null,g,A)}for(L in g)if(A=g[L],E=h[L],g.hasOwnProperty(L)&&(A!=null||E!=null))switch(L){case"value":Ee=A;break;case"defaultValue":Ce=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==E&&jn(s,o,L,A,g,E)}cl(s,Ee,Ce);return;case"option":for(var _t in h)if(Ee=h[_t],h.hasOwnProperty(_t)&&Ee!=null&&!g.hasOwnProperty(_t))switch(_t){case"selected":s.selected=!1;break;default:jn(s,o,_t,null,g,Ee)}for(ie in g)if(Ee=g[ie],Ce=h[ie],g.hasOwnProperty(ie)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(ie){case"selected":s.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:jn(s,o,ie,Ee,g,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in h)Ee=h[Ft],h.hasOwnProperty(Ft)&&Ee!=null&&!g.hasOwnProperty(Ft)&&jn(s,o,Ft,null,g,Ee);for(be in g)if(Ee=g[be],Ce=h[be],g.hasOwnProperty(be)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,o));break;default:jn(s,o,be,Ee,g,Ce)}return;default:if(Su(o)){for(var Xn in h)Ee=h[Xn],h.hasOwnProperty(Xn)&&Ee!==void 0&&!g.hasOwnProperty(Xn)&&bA(s,o,Xn,void 0,g,Ee);for(Le in g)Ee=g[Le],Ce=h[Le],!g.hasOwnProperty(Le)||Ee===Ce||Ee===void 0&&Ce===void 0||bA(s,o,Le,Ee,g,Ce);return}}for(var he in h)Ee=h[he],h.hasOwnProperty(he)&&Ee!=null&&!g.hasOwnProperty(he)&&jn(s,o,he,null,g,Ee);for(ke in g)Ee=g[ke],Ce=h[ke],!g.hasOwnProperty(ke)||Ee===Ce||Ee==null&&Ce==null||jn(s,o,ke,Ee,g,Ce)}function EE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var A=h[g],E=A.transferSize,L=A.initiatorType,G=A.duration;if(E&&G&&EE(L)){for(L=0,G=A.responseEnd,g+=1;g<h.length;g++){var ie=h[g],be=ie.startTime;if(be>G)break;var Le=ie.transferSize,ke=ie.initiatorType;Le&&EE(ke)&&(ie=ie.responseEnd,L+=Le*(ie<G?1:(G-be)/(ie-be)))}if(--g,o+=8*(E+L)/(A.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var SA=null,MA=null;function zv(s){return s.nodeType===9?s:s.ownerDocument}function TE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function EA(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var TA=null;function dL(){var s=window.event;return s&&s.type==="popstate"?s===TA?!1:(TA=s,!0):(TA=null,!1)}var RE=typeof setTimeout=="function"?setTimeout:void 0,pL=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,mL=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(s){return wE.resolve(null).then(s).catch(gL)}:RE;function gL(s){setTimeout(function(){throw s})}function jc(s){return s==="head"}function BE(s,o){var h=o,g=0;do{var A=h.nextSibling;if(s.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(A),vd(o);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")tg(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,tg(h);for(var E=h.firstChild;E;){var L=E.nextSibling,G=E.nodeName;E[Nr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=L}}else h==="body"&&tg(s.ownerDocument.body);h=A}while(h);vd(o)}function DE(s,o){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function CA(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":CA(h),V(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function vL(s,o,h,g){for(;s.nodeType===1;){var A=h;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Nr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var E=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=xr(s.nextSibling),s===null)break}return null}function yL(s,o,h){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=xr(s.nextSibling),s===null))return null;return s}function NE(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=xr(s.nextSibling),s===null))return null;return s}function RA(s){return s.data==="$?"||s.data==="$~"}function wA(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xL(s,o){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||h.readyState!=="loading")o();else{var g=function(){o(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function xr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var BA=null;function LE(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(o===0)return xr(s.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}s=s.nextSibling}return null}function UE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return s;o--}else h!=="/$"&&h!=="/&"||o++}s=s.previousSibling}return null}function OE(s,o,h){switch(o=zv(h),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function tg(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);V(s)}var _r=new Map,PE=new Set;function Gv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fl=Z.d;Z.d={f:_L,r:AL,D:bL,C:SL,L:ML,m:EL,X:CL,S:TL,M:RL};function _L(){var s=Fl.f(),o=k();return s||o}function AL(s){var o=me(s);o!==null&&o.tag===5&&o.type==="form"?jm(o):Fl.r(s)}var pd=typeof document>"u"?null:document;function IE(s,o,h){var g=pd;if(g&&typeof o=="string"&&o){var A=on(o);A='link[rel="'+s+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),PE.has(A)||(PE.add(A),s={rel:s,crossOrigin:h,href:o},g.querySelector(A)===null&&(o=g.createElement("link"),Ma(o,"link",s),je(o),g.head.appendChild(o)))}}function bL(s){Fl.D(s),IE("dns-prefetch",s,null)}function SL(s,o){Fl.C(s,o),IE("preconnect",s,o)}function ML(s,o,h){Fl.L(s,o,h);var g=pd;if(g&&s&&o){var A='link[rel="preload"][as="'+on(o)+'"]';o==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+on(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+on(h.imageSizes)+'"]')):A+='[href="'+on(s)+'"]';var E=A;switch(o){case"style":E=md(s);break;case"script":E=gd(s)}_r.has(E)||(s=v({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:s,as:o},h),_r.set(E,s),g.querySelector(A)!==null||o==="style"&&g.querySelector(ng(E))||o==="script"&&g.querySelector(ig(E))||(o=g.createElement("link"),Ma(o,"link",s),je(o),g.head.appendChild(o)))}}function EL(s,o){Fl.m(s,o);var h=pd;if(h&&s){var g=o&&typeof o.as=="string"?o.as:"script",A='link[rel="modulepreload"][as="'+on(g)+'"][href="'+on(s)+'"]',E=A;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=gd(s)}if(!_r.has(E)&&(s=v({rel:"modulepreload",href:s},o),_r.set(E,s),h.querySelector(A)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ig(E)))return}g=h.createElement("link"),Ma(g,"link",s),je(g),h.head.appendChild(g)}}}function TL(s,o,h){Fl.S(s,o,h);var g=pd;if(g&&s){var A=le(g).hoistableStyles,E=md(s);o=o||"default";var L=A.get(E);if(!L){var G={loading:0,preload:null};if(L=g.querySelector(ng(E)))G.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":o},h),(h=_r.get(E))&&DA(s,h);var ie=L=g.createElement("link");je(ie),Ma(ie,"link",s),ie._p=new Promise(function(be,Le){ie.onload=be,ie.onerror=Le}),ie.addEventListener("load",function(){G.loading|=1}),ie.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Vv(L,o,g)}L={type:"stylesheet",instance:L,count:1,state:G},A.set(E,L)}}}function CL(s,o){Fl.X(s,o);var h=pd;if(h&&s){var g=le(h).hoistableScripts,A=gd(s),E=g.get(A);E||(E=h.querySelector(ig(A)),E||(s=v({src:s,async:!0},o),(o=_r.get(A))&&NA(s,o),E=h.createElement("script"),je(E),Ma(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(A,E))}}function RL(s,o){Fl.M(s,o);var h=pd;if(h&&s){var g=le(h).hoistableScripts,A=gd(s),E=g.get(A);E||(E=h.querySelector(ig(A)),E||(s=v({src:s,async:!0,type:"module"},o),(o=_r.get(A))&&NA(s,o),E=h.createElement("script"),je(E),Ma(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(A,E))}}function FE(s,o,h,g){var A=(A=Ue.current)?Gv(A):null;if(!A)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=md(h.href),h=le(A).hoistableStyles,g=h.get(o),g||(g={type:"style",instance:null,count:0,state:null},h.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=md(h.href);var E=le(A).hoistableStyles,L=E.get(s);if(L||(A=A.ownerDocument||A,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,L),(E=A.querySelector(ng(s)))&&!E._p&&(L.instance=E,L.state.loading=5),_r.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},_r.set(s,h),E||wL(A,s,h,L.state))),o&&g===null)throw Error(i(528,""));return L}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=gd(h),h=le(A).hoistableScripts,g=h.get(o),g||(g={type:"script",instance:null,count:0,state:null},h.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function md(s){return'href="'+on(s)+'"'}function ng(s){return'link[rel="stylesheet"]['+s+"]"}function HE(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function wL(s,o,h,g){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=s.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),Ma(o,"link",h),je(o),s.head.appendChild(o))}function gd(s){return'[src="'+on(s)+'"]'}function ig(s){return"script[async]"+s}function zE(s,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var g=s.querySelector('style[data-href~="'+on(h.href)+'"]');if(g)return o.instance=g,je(g),g;var A=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),je(g),Ma(g,"style",A),Vv(g,h.precedence,s),o.instance=g;case"stylesheet":A=md(h.href);var E=s.querySelector(ng(A));if(E)return o.state.loading|=4,o.instance=E,je(E),E;g=HE(h),(A=_r.get(A))&&DA(g,A),E=(s.ownerDocument||s).createElement("link"),je(E);var L=E;return L._p=new Promise(function(G,ie){L.onload=G,L.onerror=ie}),Ma(E,"link",g),o.state.loading|=4,Vv(E,h.precedence,s),o.instance=E;case"script":return E=gd(h.src),(A=s.querySelector(ig(E)))?(o.instance=A,je(A),A):(g=h,(A=_r.get(E))&&(g=v({},h),NA(g,A)),s=s.ownerDocument||s,A=s.createElement("script"),je(A),Ma(A,"link",g),s.head.appendChild(A),o.instance=A);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,Vv(g,h.precedence,s));return o.instance}function Vv(s,o,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=g.length?g[g.length-1]:null,E=A,L=0;L<g.length;L++){var G=g[L];if(G.dataset.precedence===o)E=G;else if(E!==A)break}E?E.parentNode.insertBefore(s,E.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(s,o.firstChild))}function DA(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function NA(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var kv=null;function GE(s,o,h){if(kv===null){var g=new Map,A=kv=new Map;A.set(h,g)}else A=kv,g=A.get(h),g||(g=new Map,A.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),A=0;A<h.length;A++){var E=h[A];if(!(E[Nr]||E[Zt]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(o)||"";L=s+L;var G=g.get(L);G?G.push(E):g.set(L,[E])}}return g}function VE(s,o,h){s=s.ownerDocument||s,s.head.insertBefore(h,o==="title"?s.querySelector("head > title"):null)}function BL(s,o,h){if(h===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function DL(s,o,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=md(g.href),E=o.querySelector(ng(A));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=jv.bind(s),o.then(s,s)),h.state.loading|=4,h.instance=E,je(E);return}E=o.ownerDocument||o,g=HE(g),(A=_r.get(A))&&DA(g,A),E=E.createElement("link"),je(E);var L=E;L._p=new Promise(function(G,ie){L.onload=G,L.onerror=ie}),Ma(E,"link",g),h.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=jv.bind(s),o.addEventListener("load",h),o.addEventListener("error",h))}}var LA=0;function NL(s,o){return s.stylesheets&&s.count===0&&Yv(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&Yv(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+o);0<s.imgBytes&&LA===0&&(LA=62500*hL());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Yv(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>LA?50:800)+o);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(A)}}:null}function jv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xv=null;function Yv(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xv=new Map,o.forEach(LL,s),Xv=null,jv.call(s))}function LL(s,o){if(!(o.state.loading&4)){var h=Xv.get(s);if(h)var g=h.get(null);else{h=new Map,Xv.set(s,h);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<A.length;E++){var L=A[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),g=L)}g&&h.set(null,g)}A=o.instance,L=A.getAttribute("data-precedence"),E=h.get(L)||g,E===g&&h.set(null,A),h.set(L,A),this.count++,g=jv.bind(this),A.addEventListener("load",g),A.addEventListener("error",g),E?E.parentNode.insertBefore(A,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),o.state.loading|=4}}var ag={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function UL(s,o,h,g,A,E,L,G,ie){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=g,this.onUncaughtError=A,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function jE(s,o,h,g,A,E,L,G,ie,be,Le,ke){return s=new UL(s,o,h,L,ie,be,Le,ke,G),o=1,E===!0&&(o|=24),E=ya(3,null,null,o),s.current=E,E.stateNode=s,o=hm(),o.refCount++,s.pooledCache=o,o.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:o},ym(E),s}function XE(s){return s?(s=Lo,s):Lo}function YE(s,o,h,g,A,E){A=XE(A),g.context===null?g.context=A:g.pendingContext=A,g=ur(o),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=kr(s,g,o),h!==null&&(f(h,s,o),Go(h,s,o))}function qE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<o?h:o}}function UA(s,o){qE(s,o),(s=s.alternate)&&qE(s,o)}function JE(s){if(s.tag===13||s.tag===31){var o=No(s,67108864);o!==null&&f(o,s,67108864),UA(s,67108864)}}function KE(s){if(s.tag===13||s.tag===31){var o=Sa();o=Ka(o);var h=No(s,o);h!==null&&f(h,s,o),UA(s,o)}}var qv=!0;function OL(s,o,h,g){var A=j.T;j.T=null;var E=Z.p;try{Z.p=2,OA(s,o,h,g)}finally{Z.p=E,j.T=A}}function PL(s,o,h,g){var A=j.T;j.T=null;var E=Z.p;try{Z.p=8,OA(s,o,h,g)}finally{Z.p=E,j.T=A}}function OA(s,o,h,g){if(qv){var A=PA(g);if(A===null)AA(s,o,g,Jv,h),ZE(s,g);else if(FL(A,s,o,h,g))g.stopPropagation();else if(ZE(s,g),o&4&&-1<IL.indexOf(s)){for(;A!==null;){var E=me(A);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=Ke(E.pendingLanes);if(L!==0){var G=E;for(G.pendingLanes|=2,G.entangledLanes|=2;L;){var ie=1<<31-$(L);G.entanglements[1]|=ie,L&=~ie}Wo(E),(mn&6)===0&&(hs=H()+500,Qm(0))}}break;case 31:case 13:G=No(E,2),G!==null&&f(G,E,2),k(),UA(E,2)}if(E=PA(g),E===null&&AA(s,o,g,Jv,h),E===A)break;A=E}A!==null&&g.stopPropagation()}else AA(s,o,g,null,h)}}function PA(s){return s=dh(s),IA(s)}var Jv=null;function IA(s){if(Jv=null,s=re(s),s!==null){var o=r(s);if(o===null)s=null;else{var h=o.tag;if(h===13){if(s=l(o),s!==null)return s;s=null}else if(h===31){if(s=u(o),s!==null)return s;s=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Jv=s,null}function WE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Re:return 2;case Xe:return 8;case we:case xt:return 32;case tt:return 268435456;default:return 32}default:return 32}}var FA=!1,Xc=null,Yc=null,qc=null,sg=new Map,rg=new Map,Jc=[],IL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(s,o){switch(s){case"focusin":case"focusout":Xc=null;break;case"dragenter":case"dragleave":Yc=null;break;case"mouseover":case"mouseout":qc=null;break;case"pointerover":case"pointerout":sg.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rg.delete(o.pointerId)}}function og(s,o,h,g,A,E){return s===null||s.nativeEvent!==E?(s={blockedOn:o,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[A]},o!==null&&(o=me(o),o!==null&&JE(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),s)}function FL(s,o,h,g,A){switch(o){case"focusin":return Xc=og(Xc,s,o,h,g,A),!0;case"dragenter":return Yc=og(Yc,s,o,h,g,A),!0;case"mouseover":return qc=og(qc,s,o,h,g,A),!0;case"pointerover":var E=A.pointerId;return sg.set(E,og(sg.get(E)||null,s,o,h,g,A)),!0;case"gotpointercapture":return E=A.pointerId,rg.set(E,og(rg.get(E)||null,s,o,h,g,A)),!0}return!1}function QE(s){var o=re(s.target);if(o!==null){var h=r(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){s.blockedOn=o,Wa(s.priority,function(){KE(h)});return}}else if(o===31){if(o=u(h),o!==null){s.blockedOn=o,Wa(s.priority,function(){KE(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kv(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var h=PA(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Eu=g,h.target.dispatchEvent(g),Eu=null}else return o=me(h),o!==null&&JE(o),s.blockedOn=h,!1;o.shift()}return!0}function $E(s,o,h){Kv(s)&&h.delete(o)}function HL(){FA=!1,Xc!==null&&Kv(Xc)&&(Xc=null),Yc!==null&&Kv(Yc)&&(Yc=null),qc!==null&&Kv(qc)&&(qc=null),sg.forEach($E),rg.forEach($E)}function Wv(s,o){s.blockedOn===o&&(s.blockedOn=null,FA||(FA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HL)))}var Zv=null;function eT(s){Zv!==s&&(Zv=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zv===s&&(Zv=null);for(var o=0;o<s.length;o+=3){var h=s[o],g=s[o+1],A=s[o+2];if(typeof g!="function"){if(IA(g||h)===null)continue;break}var E=me(h);E!==null&&(s.splice(o,3),o-=3,km(E,{pending:!0,data:A,method:h.method,action:g},g,A))}}))}function vd(s){function o(ie){return Wv(ie,s)}Xc!==null&&Wv(Xc,s),Yc!==null&&Wv(Yc,s),qc!==null&&Wv(qc,s),sg.forEach(o),rg.forEach(o);for(var h=0;h<Jc.length;h++){var g=Jc[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Jc.length&&(h=Jc[0],h.blockedOn===null);)QE(h),h.blockedOn===null&&Jc.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var A=h[g],E=h[g+1],L=A[Ci]||null;if(typeof E=="function")L||eT(h);else if(L){var G=null;if(E&&E.hasAttribute("formAction")){if(A=E,L=E[Ci]||null)G=L.formAction;else if(IA(A)!==null)continue}else G=L.action;typeof G=="function"?h[g+1]=G:(h.splice(g,3),g-=3),eT(h)}}}function tT(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(L){return A=L})},focusReset:"manual",scroll:"manual"})}function o(){A!==null&&(A(),A=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),A!==null&&(A(),A=null)}}}function HA(s){this._internalRoot=s}Qv.prototype.render=HA.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var h=o.current,g=Sa();YE(h,g,s,o,null,null)},Qv.prototype.unmount=HA.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;YE(s.current,2,null,s,null,null),k(),o[er]=null}};function Qv(s){this._internalRoot=s}Qv.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ra();s={blockedOn:null,target:s,priority:o};for(var h=0;h<Jc.length&&o!==0&&o<Jc[h].priority;h++);Jc.splice(h,0,s),h===0&&QE(s)}};var nT=e.version;if(nT!=="19.2.0")throw Error(i(527,nT,"19.2.0"));Z.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var zL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{Ye=$v.inject(zL),Qe=$v}catch{}}return cg.createRoot=function(s,o){if(!a(s))throw Error(i(299));var h=!1,g="",A=qm,E=Dv,L=ed;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(A=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),o=jE(s,1,!1,null,null,h,g,null,A,E,L,tT),s[er]=o.current,_A(s),new HA(o)},cg.hydrateRoot=function(s,o,h){if(!a(s))throw Error(i(299));var g=!1,A="",E=qm,L=Dv,G=ed,ie=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(ie=h.formState)),o=jE(s,1,!0,o,h??null,g,A,ie,E,L,G,tT),o.context=XE(null),h=o.current,g=Sa(),g=Ka(g),A=ur(g),A.callback=null,kr(h,A,g),h=g,o.current.lanes=h,$n(o,h),Wo(o),s[er]=o.current,_A(s),new Qv(o)},cg.version="19.2.0",cg}var hT;function WL(){if(hT)return GA.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),GA.exports=KL(),GA.exports}var ZL=WL();const QL=g_(ZL);var q=Mp();const Qn=g_(q);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dT="popstate";function $L(n={}){function e(a,r){let{pathname:l="/",search:u="",hash:d=""}=sh(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),MS("",{pathname:l,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(a,r){let l=a.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof r=="string"?r:qg(r))}function i(a,r){fo(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return tU(e,t,i,n)}function yi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eU(){return Math.random().toString(36).substring(2,10)}function pT(n,e){return{usr:n.state,key:n.key,idx:e}}function MS(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sh(e):e,state:t,key:e&&e.key||i||eU()}}function qg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function tU(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,l=a.history,u="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let T=m(),S=T==null?null:T-p;p=T,d&&d({action:u,location:C.location,delta:S})}function x(T,S){u="PUSH";let w=MS(C.location,T,S);t&&t(w,T),p=m()+1;let B=pT(w,p),D=C.createHref(w);try{l.pushState(B,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(D)}r&&d&&d({action:u,location:C.location,delta:1})}function _(T,S){u="REPLACE";let w=MS(C.location,T,S);t&&t(w,T),p=m();let B=pT(w,p),D=C.createHref(w);l.replaceState(B,"",D),r&&d&&d({action:u,location:C.location,delta:0})}function M(T){return nU(T)}let C={get action(){return u},get location(){return n(a,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(dT,v),d=T,()=>{a.removeEventListener(dT,v),d=null}},createHref(T){return e(a,T)},createURL:M,encodeLocation(T){let S=M(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:_,go(T){return l.go(T)}};return C}function nU(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:qg(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function YR(n,e,t="/"){return iU(n,e,t,!1)}function iU(n,e,t,i){let a=typeof e=="string"?sh(e):e,r=nc(a.pathname||"/",t);if(r==null)return null;let l=qR(n);aU(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=mU(r);u=dU(l[d],p,i)}return u}function qR(n,e=[],t=[],i="",a=!1){let r=(l,u,d=a,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;yi(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let v=Zl([i,m.relativePath]),x=t.concat(m);l.children&&l.children.length>0&&(yi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),qR(l.children,e,x,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:fU(v,l.index),routesMeta:x})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,u);else for(let p of JR(l.path))r(l,u,!0,p)}),e}function JR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let l=JR(i.join("/")),u=[];return u.push(...l.map(d=>d===""?r:[r,d].join("/"))),a&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function aU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hU(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var sU=/^:[\w-]+$/,rU=3,oU=2,lU=1,cU=10,uU=-2,mT=n=>n==="*";function fU(n,e){let t=n.split("/"),i=t.length;return t.some(mT)&&(i+=uU),e&&(i+=oU),t.filter(a=>!mT(a)).reduce((a,r)=>a+(sU.test(r)?rU:r===""?lU:cU),i)}function hU(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function dU(n,e,t=!1){let{routesMeta:i}=n,a={},r="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],p=u===i.length-1,m=r==="/"?e:e.slice(r.length)||"/",v=mx({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=mx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:Zl([r,v.pathname]),pathnameBase:xU(Zl([r,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(r=Zl([r,v.pathnameBase]))}return l}function mx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=pU(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let r=a[0],l=r.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let M=u[x]||"";l=r.slice(0,r.length-M.length).replace(/(.)\/+$/,"$1")}const _=u[x];return v&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:l,pattern:n}}function pU(n,e=!1,t=!0){fo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function mU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function nc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function gU(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?sh(n):n;return{pathname:t?t.startsWith("/")?t:vU(t,e):e,search:_U(i),hash:AU(a)}}function vU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function YA(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function KR(n){let e=yU(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function WR(n,e,t,i=!1){let a;typeof n=="string"?a=sh(n):(a={...n},yi(!a.pathname||!a.pathname.includes("?"),YA("?","pathname","search",a)),yi(!a.pathname||!a.pathname.includes("#"),YA("#","pathname","hash",a)),yi(!a.search||!a.search.includes("#"),YA("#","search","hash",a)));let r=n===""||a.pathname==="",l=r?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=gU(a,u),p=l&&l!=="/"&&l.endsWith("/"),m=(r||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Zl=n=>n.join("/").replace(/\/\/+/g,"/"),xU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_U=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ZR=["POST","PUT","PATCH","DELETE"];new Set(ZR);var SU=["GET",...ZR];new Set(SU);var Ep=q.createContext(null);Ep.displayName="DataRouter";var v_=q.createContext(null);v_.displayName="DataRouterState";q.createContext(!1);var QR=q.createContext({isTransitioning:!1});QR.displayName="ViewTransition";var MU=q.createContext(new Map);MU.displayName="Fetchers";var EU=q.createContext(null);EU.displayName="Await";var rl=q.createContext(null);rl.displayName="Navigation";var f0=q.createContext(null);f0.displayName="Location";var lc=q.createContext({outlet:null,matches:[],isDataRoute:!1});lc.displayName="Route";var EM=q.createContext(null);EM.displayName="RouteError";function TU(n,{relative:e}={}){yi(h0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(rl),{hash:a,pathname:r,search:l}=d0(n,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:Zl([t,r])),i.createHref({pathname:u,search:l,hash:a})}function h0(){return q.useContext(f0)!=null}function gu(){return yi(h0(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(f0).location}var $R="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ew(n){q.useContext(rl).static||q.useLayoutEffect(n)}function tw(){let{isDataRoute:n}=q.useContext(lc);return n?HU():CU()}function CU(){yi(h0(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Ep),{basename:e,navigator:t}=q.useContext(rl),{matches:i}=q.useContext(lc),{pathname:a}=gu(),r=JSON.stringify(KR(i)),l=q.useRef(!1);return ew(()=>{l.current=!0}),q.useCallback((d,p={})=>{if(fo(l.current,$R),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=WR(d,JSON.parse(r),a,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Zl([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,r,a,n])}q.createContext(null);function d0(n,{relative:e}={}){let{matches:t}=q.useContext(lc),{pathname:i}=gu(),a=JSON.stringify(KR(t));return q.useMemo(()=>WR(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function RU(n,e){return nw(n,e)}function nw(n,e,t,i,a){var w;yi(h0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=q.useContext(rl),{matches:l}=q.useContext(lc),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let B=v&&v.path||"";iw(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=gu(),_;if(e){let B=typeof e=="string"?sh(e):e;yi(m==="/"||((w=B.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=x;let M=_.pathname||"/",C=M;if(m!=="/"){let B=m.replace(/^\//,"").split("/");C="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let T=YR(n,{pathname:C});fo(v||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),fo(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=LU(T&&T.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Zl([m,r.encodeLocation?r.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Zl([m,r.encodeLocation?r.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),l,t,i,a);return e&&S?q.createElement(f0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function wU(){let n=FU(),e=bU(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:r},"ErrorBoundary")," or"," ",q.createElement("code",{style:r},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,l)}var BU=q.createElement(wU,null),DU=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?q.createElement(lc.Provider,{value:this.props.routeContext},q.createElement(EM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NU({routeContext:n,match:e,children:t}){let i=q.useContext(Ep);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(lc.Provider,{value:n},t)}function LU(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,l=t==null?void 0:t.errors;if(l!=null){let p=r.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);yi(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<r.length;p++){let m=r[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:x}=t,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||_){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((p,m,v)=>{let x,_=!1,M=null,C=null;t&&(x=l&&m.route.id?l[m.route.id]:void 0,M=m.route.errorElement||BU,u&&(d<0&&v===0?(iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):d===v&&(_=!0,C=m.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,v+1)),S=()=>{let w;return x?w=M:_?w=C:m.route.Component?w=q.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=p,q.createElement(NU,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?q.createElement(DU,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):S()},null)}function TM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UU(n){let e=q.useContext(Ep);return yi(e,TM(n)),e}function OU(n){let e=q.useContext(v_);return yi(e,TM(n)),e}function PU(n){let e=q.useContext(lc);return yi(e,TM(n)),e}function CM(n){let e=PU(n),t=e.matches[e.matches.length-1];return yi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IU(){return CM("useRouteId")}function FU(){var i;let n=q.useContext(EM),e=OU("useRouteError"),t=CM("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function HU(){let{router:n}=UU("useNavigate"),e=CM("useNavigate"),t=q.useRef(!1);return ew(()=>{t.current=!0}),q.useCallback(async(a,r={})=>{fo(t.current,$R),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...r}))},[n,e])}var gT={};function iw(n,e,t){!e&&!gT[n]&&(gT[n]=!0,fo(!1,t))}q.memo(zU);function zU({routes:n,future:e,state:t,unstable_onError:i}){return nw(n,void 0,t,i,e)}function Xd(n){yi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GU({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:r=!1}){yi(!h0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:a,static:r,future:{}}),[l,a,r]);typeof t=="string"&&(t=sh(t));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:x="default"}=t,_=q.useMemo(()=>{let M=nc(d,l);return M==null?null:{location:{pathname:M,search:p,hash:m,state:v,key:x},navigationType:i}},[l,d,p,m,v,x,i]);return fo(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:q.createElement(rl.Provider,{value:u},q.createElement(f0.Provider,{children:e,value:_}))}function VU({children:n,location:e}){return RU(ES(n),e)}function ES(n,e=[]){let t=[];return q.Children.forEach(n,(i,a)=>{if(!q.isValidElement(i))return;let r=[...e,a];if(i.type===q.Fragment){t.push.apply(t,ES(i.props.children,r));return}yi(i.type===Xd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ES(i.props.children,r)),t.push(l)}),t}var ix="get",ax="application/x-www-form-urlencoded";function y_(n){return n!=null&&typeof n.tagName=="string"}function kU(n){return y_(n)&&n.tagName.toLowerCase()==="button"}function jU(n){return y_(n)&&n.tagName.toLowerCase()==="form"}function XU(n){return y_(n)&&n.tagName.toLowerCase()==="input"}function YU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qU(n,e){return n.button===0&&(!e||e==="_self")&&!YU(n)}var ey=null;function JU(){if(ey===null)try{new FormData(document.createElement("form"),0),ey=!1}catch{ey=!0}return ey}var KU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qA(n){return n!=null&&!KU.has(n)?(fo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ax}"`),null):n}function WU(n,e){let t,i,a,r,l;if(jU(n)){let u=n.getAttribute("action");i=u?nc(u,e):null,t=n.getAttribute("method")||ix,a=qA(n.getAttribute("enctype"))||ax,r=new FormData(n)}else if(kU(n)||XU(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?nc(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ix,a=qA(n.getAttribute("formenctype"))||qA(u.getAttribute("enctype"))||ax,r=new FormData(u,n),!JU()){let{name:p,type:m,value:v}=n;if(m==="image"){let x=p?`${p}.`:"";r.append(`${x}x`,"0"),r.append(`${x}y`,"0")}else p&&r.append(p,v)}}else{if(y_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ix,i=null,a=ax,l=n}return r&&a==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZU(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&nc(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function QU(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $U(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eO(n,e,t){let i=await Promise.all(n.map(async a=>{let r=e.routes[a.route.id];if(r){let l=await QU(r,t);return l.links?l.links():[]}return[]}));return aO(i.flat(1).filter($U).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vT(n,e,t,i,a,r){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return r==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):r==="data"?e.filter((d,p)=>{var v;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tO(n,e,{includeHydrateFallback:t}={}){return nO(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function nO(n){return[...new Set(n)]}function iO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aO(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let r=JSON.stringify(iO(a));return t.has(r)||(t.add(r),i.push({key:r,link:a})),i},[])}function aw(){let n=q.useContext(Ep);return RM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sO(){let n=q.useContext(v_);return RM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wM=q.createContext(void 0);wM.displayName="FrameworkContext";function sw(){let n=q.useContext(wM);return RM(n,"You must render this element inside a <HydratedRouter> element"),n}function rO(n,e){let t=q.useContext(wM),[i,a]=q.useState(!1),[r,l]=q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=S=>{S.forEach(w=>{l(w.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[n]),q.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{a(!0)},M=()=>{a(!1),l(!1)};return t?n!=="intent"?[r,x,{}]:[r,x,{onFocus:ug(u,_),onBlur:ug(d,M),onMouseEnter:ug(p,_),onMouseLeave:ug(m,M),onTouchStart:ug(v,_)}]:[!1,x,{}]}function ug(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oO({page:n,...e}){let{router:t}=aw(),i=q.useMemo(()=>YR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(cO,{page:n,matches:i,...e}):null}function lO(n){let{manifest:e,routeModules:t}=sw(),[i,a]=q.useState([]);return q.useEffect(()=>{let r=!1;return eO(n,e,t).then(l=>{r||a(l)}),()=>{r=!0}},[n,e,t]),i}function cO({page:n,matches:e,...t}){let i=gu(),{manifest:a,routeModules:r}=sw(),{basename:l}=aw(),{loaderData:u,matches:d}=sO(),p=q.useMemo(()=>vT(n,e,d,a,i,"data"),[n,e,d,a,i]),m=q.useMemo(()=>vT(n,e,d,a,i,"assets"),[n,e,d,a,i]),v=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,C=!1;if(e.forEach(S=>{var B;let w=a.routes[S.route.id];!w||!w.hasLoader||(!p.some(D=>D.route.id===S.route.id)&&S.route.id in u&&((B=r[S.route.id])!=null&&B.shouldRevalidate)||w.hasClientLoader?C=!0:M.add(S.route.id))}),M.size===0)return[];let T=ZU(n,l,"data");return C&&M.size>0&&T.searchParams.set("_routes",e.filter(S=>M.has(S.route.id)).map(S=>S.route.id).join(",")),[T.pathname+T.search]},[l,u,i,a,p,e,n,r]),x=q.useMemo(()=>tO(m,a),[m,a]),_=lO(m);return q.createElement(q.Fragment,null,v.map(M=>q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),x.map(M=>q.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),_.map(({key:M,link:C})=>q.createElement("link",{key:M,nonce:t.nonce,...C})))}function uO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rw&&(window.__reactRouterVersion="7.9.4")}catch{}function fO({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=$L({window:t,v5Compat:!0}));let a=i.current,[r,l]=q.useState({action:a.action,location:a.location}),u=q.useCallback(d=>{q.startTransition(()=>l(d))},[l]);return q.useLayoutEffect(()=>a.listen(u),[a,u]),q.createElement(GU,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:a})}var ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lw=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:r,replace:l,state:u,target:d,to:p,preventScrollReset:m,viewTransition:v,...x},_){let{basename:M}=q.useContext(rl),C=typeof p=="string"&&ow.test(p),T,S=!1;if(typeof p=="string"&&C&&(T=p,rw))try{let P=new URL(window.location.href),U=p.startsWith("//")?new URL(P.protocol+p):new URL(p),X=nc(U.pathname,M);U.origin===P.origin&&X!=null?p=X+U.search+U.hash:S=!0}catch{fo(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=TU(p,{relative:a}),[B,D,O]=rO(i,x),I=mO(p,{replace:l,state:u,target:d,preventScrollReset:m,relative:a,viewTransition:v});function F(P){e&&e(P),P.defaultPrevented||I(P)}let z=q.createElement("a",{...x,...O,href:T||w,onClick:S||r?e:F,ref:uO(_,D),target:d,"data-discover":!C&&t==="render"?"true":void 0});return B&&!C?q.createElement(q.Fragment,null,z,q.createElement(oO,{page:w})):z});lw.displayName="Link";var hO=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:r,to:l,viewTransition:u,children:d,...p},m){let v=d0(l,{relative:p.relative}),x=gu(),_=q.useContext(v_),{navigator:M,basename:C}=q.useContext(rl),T=_!=null&&_O(v)&&u===!0,S=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,w=x.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(w=w.toLowerCase(),B=B?B.toLowerCase():null,S=S.toLowerCase()),B&&C&&(B=nc(B,C)||B);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=w===S||!a&&w.startsWith(S)&&w.charAt(D)==="/",I=B!=null&&(B===S||!a&&B.startsWith(S)&&B.charAt(S.length)==="/"),F={isActive:O,isPending:I,isTransitioning:T},z=O?e:void 0,P;typeof i=="function"?P=i(F):P=[i,O?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let U=typeof r=="function"?r(F):r;return q.createElement(lw,{...p,"aria-current":z,className:P,ref:m,style:U,to:l,viewTransition:u},typeof d=="function"?d(F):d)});hO.displayName="NavLink";var dO=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:r,method:l=ix,action:u,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...x},_)=>{let M=yO(),C=xO(u,{relative:p}),T=l.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&ow.test(u),w=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let D=B.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||l;M(D||B.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:r,relative:p,preventScrollReset:m,viewTransition:v})};return q.createElement("form",{ref:_,method:T,action:C,onSubmit:i?d:w,...x,"data-discover":!S&&n==="render"?"true":void 0})});dO.displayName="Form";function pO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(n){let e=q.useContext(Ep);return yi(e,pO(n)),e}function mO(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:l}={}){let u=tw(),d=gu(),p=d0(n,{relative:r});return q.useCallback(m=>{if(qU(m,e)){m.preventDefault();let v=t!==void 0?t:qg(d)===qg(p);u(n,{replace:v,state:i,preventScrollReset:a,relative:r,viewTransition:l})}},[d,u,p,t,i,e,n,a,r,l])}var gO=0,vO=()=>`__${String(++gO)}__`;function yO(){let{router:n}=cw("useSubmit"),{basename:e}=q.useContext(rl),t=IU();return q.useCallback(async(i,a={})=>{let{action:r,method:l,encType:u,formData:d,body:p}=WU(i,e);if(a.navigate===!1){let m=a.fetcherKey||vO();await n.fetch(m,t,a.action||r,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function xO(n,{relative:e}={}){let{basename:t}=q.useContext(rl),i=q.useContext(lc);yi(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...d0(n||".",{relative:e})},l=gu();if(n==null){r.search=l.search;let u=new URLSearchParams(r.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();r.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Zl([t,r.pathname])),qg(r)}function _O(n,{relative:e}={}){let t=q.useContext(QR);yi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cw("useViewTransitionState"),a=d0(n,{relative:e});if(!t.isTransitioning)return!1;let r=nc(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=nc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return mx(a.pathname,l)!=null||mx(a.pathname,r)!=null}var JA={exports:{}},Hl={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function AO(){return yT||(yT=1,Hl.ConcurrentRoot=1,Hl.ContinuousEventPriority=8,Hl.DefaultEventPriority=32,Hl.DiscreteEventPriority=2,Hl.IdleEventPriority=268435456,Hl.LegacyRoot=0,Hl.NoEventPriority=0),Hl}var xT;function bO(){return xT||(xT=1,JA.exports=AO()),JA.exports}var sx=bO();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p0="179",Bf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Df={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uw=0,TS=1,fw=2,SO=3,hw=0,x_=1,Dg=2,oo=3,sl=0,_s=1,co=2,Ql=0,Xf=1,CS=2,RS=3,wS=4,dw=5,su=100,pw=101,mw=102,gw=103,vw=104,yw=200,xw=201,_w=202,Aw=203,gx=204,vx=205,bw=206,Sw=207,Mw=208,Ew=209,Tw=210,Cw=211,Rw=212,ww=213,Bw=214,yx=0,xx=1,_x=2,Zf=3,Ax=4,bx=5,Sx=6,Mx=7,m0=0,Dw=1,Nw=2,tl=0,Lw=1,Uw=2,Ow=3,BM=4,Pw=5,Iw=6,Fw=7,BS="attached",Hw="detached",__=300,ic=301,cu=302,Jg=303,Kg=304,Tp=306,uu=1e3,Js=1001,rp=1002,da=1003,A_=1004,MO=1004,Pf=1005,EO=1005,vi=1006,ep=1007,TO=1007,Tr=1008,CO=1008,wr=1009,DM=1010,NM=1011,op=1012,b_=1013,ac=1014,ys=1015,rh=1016,S_=1017,M_=1018,lp=1020,LM=35902,UM=1021,OM=1022,Xa=1023,cp=1026,up=1027,E_=1028,g0=1029,PM=1030,T_=1031,RO=1032,C_=1033,Ng=33776,Lg=33777,Ug=33778,Og=33779,Ex=35840,Tx=35841,Cx=35842,Rx=35843,wx=36196,Bx=37492,Dx=37496,Nx=37808,Lx=37809,Ux=37810,Ox=37811,Px=37812,Ix=37813,Fx=37814,Hx=37815,zx=37816,Gx=37817,Vx=37818,kx=37819,jx=37820,Xx=37821,Pg=36492,Yx=36494,qx=36495,IM=36283,Jx=36284,Kx=36285,Wx=36286,zw=2200,Gw=2201,Vw=2202,fp=2300,hp=2301,rx=2302,If=2400,Ff=2401,Wg=2402,R_=2500,FM=2501,kw=0,HM=1,Zx=2,jw=3200,Xw=3201,wO=3202,BO=3203,vu=0,Yw=1,Jl="",ja="srgb",fu="srgb-linear",Zg="linear",zn="srgb",DO=0,Nf=7680,NO=7681,LO=7682,UO=7683,OO=34055,PO=34056,IO=5386,FO=512,HO=513,zO=514,GO=515,VO=516,kO=517,jO=518,DS=519,qw=512,Jw=513,Kw=514,zM=515,Ww=516,Zw=517,Qw=518,$w=519,Qg=35044,XO=35048,YO=35040,qO=35045,JO=35049,KO=35041,WO=35046,ZO=35050,QO=35042,$O="100",NS="300 es",Ks=2e3,dp=2001,eP={COMPUTE:"compute",RENDER:"render"},tP={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},nP={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let ol=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}};const Ga=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _T=1234567;const Yf=Math.PI/180,pp=180/Math.PI;function Zs(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ga[n&255]+Ga[n>>8&255]+Ga[n>>16&255]+Ga[n>>24&255]+"-"+Ga[e&255]+Ga[e>>8&255]+"-"+Ga[e>>16&15|64]+Ga[e>>24&255]+"-"+Ga[t&63|128]+Ga[t>>8&255]+"-"+Ga[t>>16&255]+Ga[t>>24&255]+Ga[i&255]+Ga[i>>8&255]+Ga[i>>16&255]+Ga[i>>24&255]).toLowerCase()}function Gt(n,e,t){return Math.max(e,Math.min(t,n))}function GM(n,e){return(n%e+e)%e}function iP(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function aP(n,e,t){return n!==e?(t-n)/(e-n):0}function Ig(n,e,t){return(1-t)*n+t*e}function sP(n,e,t,i){return Ig(n,e,1-Math.exp(-t*i))}function rP(n,e=1){return e-Math.abs(GM(n,e*2)-e)}function oP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function lP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function cP(n,e){return n+Math.floor(Math.random()*(e-n+1))}function uP(n,e){return n+Math.random()*(e-n)}function fP(n){return n*(.5-Math.random())}function hP(n){n!==void 0&&(_T=n);let e=_T+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dP(n){return n*Yf}function pP(n){return n*pp}function mP(n){return(n&n-1)===0&&n!==0}function gP(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vP(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function yP(n,e,t,i,a){const r=Math.cos,l=Math.sin,u=r(t/2),d=l(t/2),p=r((e+i)/2),m=l((e+i)/2),v=r((e-i)/2),x=l((e-i)/2),_=r((i-e)/2),M=l((i-e)/2);switch(a){case"XYX":n.set(u*m,d*v,d*x,u*p);break;case"YZY":n.set(d*x,u*m,d*v,u*p);break;case"ZXZ":n.set(d*v,d*x,u*m,u*p);break;case"XZX":n.set(u*m,d*M,d*_,u*p);break;case"YXY":n.set(d*_,u*m,d*M,u*p);break;case"ZYZ":n.set(d*M,d*_,u*m,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function vs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $t(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const eB={DEG2RAD:Yf,RAD2DEG:pp,generateUUID:Zs,clamp:Gt,euclideanModulo:GM,mapLinear:iP,inverseLerp:aP,lerp:Ig,damp:sP,pingpong:rP,smoothstep:oP,smootherstep:lP,randInt:cP,randFloat:uP,randFloatSpread:fP,seededRandom:hP,degToRad:dP,radToDeg:pP,isPowerOfTwo:mP,ceilPowerOfTwo:gP,floorPowerOfTwo:vP,setQuaternionFromProperEuler:yP,normalize:$t,denormalize:vs};class Fe{constructor(e=0,t=0){Fe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Gt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,l=this.y-e.y;return this.x=r*i-l*a+e.x,this.y=r*a+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pa{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,l,u){let d=i[a+0],p=i[a+1],m=i[a+2],v=i[a+3];const x=r[l+0],_=r[l+1],M=r[l+2],C=r[l+3];if(u===0){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=v;return}if(u===1){e[t+0]=x,e[t+1]=_,e[t+2]=M,e[t+3]=C;return}if(v!==C||d!==x||p!==_||m!==M){let T=1-u;const S=d*x+p*_+m*M+v*C,w=S>=0?1:-1,B=1-S*S;if(B>Number.EPSILON){const O=Math.sqrt(B),I=Math.atan2(O,S*w);T=Math.sin(T*I)/O,u=Math.sin(u*I)/O}const D=u*w;if(d=d*T+x*D,p=p*T+_*D,m=m*T+M*D,v=v*T+C*D,T===1-u){const O=1/Math.sqrt(d*d+p*p+m*m+v*v);d*=O,p*=O,m*=O,v*=O}}e[t]=d,e[t+1]=p,e[t+2]=m,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,a,r,l){const u=i[a],d=i[a+1],p=i[a+2],m=i[a+3],v=r[l],x=r[l+1],_=r[l+2],M=r[l+3];return e[t]=u*M+m*v+d*_-p*x,e[t+1]=d*M+m*x+p*v-u*_,e[t+2]=p*M+m*_+u*x-d*v,e[t+3]=m*M-u*v-d*x-p*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,l=e._order,u=Math.cos,d=Math.sin,p=u(i/2),m=u(a/2),v=u(r/2),x=d(i/2),_=d(a/2),M=d(r/2);switch(l){case"XYZ":this._x=x*m*v+p*_*M,this._y=p*_*v-x*m*M,this._z=p*m*M+x*_*v,this._w=p*m*v-x*_*M;break;case"YXZ":this._x=x*m*v+p*_*M,this._y=p*_*v-x*m*M,this._z=p*m*M-x*_*v,this._w=p*m*v+x*_*M;break;case"ZXY":this._x=x*m*v-p*_*M,this._y=p*_*v+x*m*M,this._z=p*m*M+x*_*v,this._w=p*m*v-x*_*M;break;case"ZYX":this._x=x*m*v-p*_*M,this._y=p*_*v+x*m*M,this._z=p*m*M-x*_*v,this._w=p*m*v+x*_*M;break;case"YZX":this._x=x*m*v+p*_*M,this._y=p*_*v+x*m*M,this._z=p*m*M-x*_*v,this._w=p*m*v-x*_*M;break;case"XZY":this._x=x*m*v-p*_*M,this._y=p*_*v-x*m*M,this._z=p*m*M+x*_*v,this._w=p*m*v+x*_*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],l=t[1],u=t[5],d=t[9],p=t[2],m=t[6],v=t[10],x=i+u+v;if(x>0){const _=.5/Math.sqrt(x+1);this._w=.25/_,this._x=(m-d)*_,this._y=(r-p)*_,this._z=(l-a)*_}else if(i>u&&i>v){const _=2*Math.sqrt(1+i-u-v);this._w=(m-d)/_,this._x=.25*_,this._y=(a+l)/_,this._z=(r+p)/_}else if(u>v){const _=2*Math.sqrt(1+u-i-v);this._w=(r-p)/_,this._x=(a+l)/_,this._y=.25*_,this._z=(d+m)/_}else{const _=2*Math.sqrt(1+v-i-u);this._w=(l-a)/_,this._x=(r+p)/_,this._y=(d+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,l=e._w,u=t._x,d=t._y,p=t._z,m=t._w;return this._x=i*m+l*u+a*p-r*d,this._y=a*m+l*d+r*u-i*p,this._z=r*m+l*p+i*d-a*u,this._w=l*m-i*u-a*d-r*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,a=this._y,r=this._z,l=this._w;let u=l*e._w+i*e._x+a*e._y+r*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=a,this._z=r,this;const d=1-u*u;if(d<=Number.EPSILON){const _=1-t;return this._w=_*l+t*this._w,this._x=_*i+t*this._x,this._y=_*a+t*this._y,this._z=_*r+t*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,u),v=Math.sin((1-t)*m)/p,x=Math.sin(t*m)/p;return this._w=l*v+this._w*x,this._x=i*v+this._x*x,this._y=a*v+this._y*x,this._z=r*v+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,t=0,i=0){J.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(AT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(AT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,l=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*l,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*l,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,l=e.y,u=e.z,d=e.w,p=2*(l*a-u*i),m=2*(u*t-r*a),v=2*(r*i-l*t);return this.x=t+d*p+l*v-u*m,this.y=i+d*m+u*p-r*v,this.z=a+d*v+r*m-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this.z=Gt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this.z=Gt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,l=t.x,u=t.y,d=t.z;return this.x=a*d-r*u,this.y=r*l-i*d,this.z=i*u-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return KA.copy(this).projectOnVector(e),this.sub(KA)}reflect(e){return this.sub(KA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Gt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const KA=new J,AT=new pa;class Wt{constructor(e,t,i,a,r,l,u,d,p){Wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,d,p)}set(e,t,i,a,r,l,u,d,p){const m=this.elements;return m[0]=e,m[1]=a,m[2]=u,m[3]=t,m[4]=r,m[5]=d,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[3],d=i[6],p=i[1],m=i[4],v=i[7],x=i[2],_=i[5],M=i[8],C=a[0],T=a[3],S=a[6],w=a[1],B=a[4],D=a[7],O=a[2],I=a[5],F=a[8];return r[0]=l*C+u*w+d*O,r[3]=l*T+u*B+d*I,r[6]=l*S+u*D+d*F,r[1]=p*C+m*w+v*O,r[4]=p*T+m*B+v*I,r[7]=p*S+m*D+v*F,r[2]=x*C+_*w+M*O,r[5]=x*T+_*B+M*I,r[8]=x*S+_*D+M*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],d=e[6],p=e[7],m=e[8];return t*l*m-t*u*p-i*r*m+i*u*d+a*r*p-a*l*d}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],d=e[6],p=e[7],m=e[8],v=m*l-u*p,x=u*d-m*r,_=p*r-l*d,M=t*v+i*x+a*_;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/M;return e[0]=v*C,e[1]=(a*p-m*i)*C,e[2]=(u*i-a*l)*C,e[3]=x*C,e[4]=(m*t-a*d)*C,e[5]=(a*r-u*t)*C,e[6]=_*C,e[7]=(i*d-p*t)*C,e[8]=(l*t-i*r)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,l,u){const d=Math.cos(r),p=Math.sin(r);return this.set(i*d,i*p,-i*(d*l+p*u)+l+e,-a*p,a*d,-a*(-p*l+d*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(WA.makeScale(e,t)),this}rotate(e){return this.premultiply(WA.makeRotation(-e)),this}translate(e,t){return this.premultiply(WA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WA=new Wt;function tB(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yd(n,e){return new xP[n](e)}function $g(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function nB(){const n=$g("canvas");return n.style.display="block",n}const bT={};function tp(n){n in bT||(bT[n]=!0,console.warn(n))}function _P(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}const ST=new Wt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),MT=new Wt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function AP(){const n={enabled:!0,workingColorSpace:fu,spaces:{},convert:function(a,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===zn&&(a.r=$l(a.r),a.g=$l(a.g),a.b=$l(a.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===zn&&(a.r=np(a.r),a.g=np(a.g),a.b=np(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Jl?Zg:this.spaces[a].transfer},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,l){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return tp("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return tp("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[fu]:{primaries:e,whitePoint:i,transfer:Zg,toXYZ:ST,fromXYZ:MT,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ja},outputColorSpaceConfig:{drawingBufferColorSpace:ja}},[ja]:{primaries:e,whitePoint:i,transfer:zn,toXYZ:ST,fromXYZ:MT,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ja}}}),n}const bn=AP();function $l(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function np(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let yd;class iB{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{yd===void 0&&(yd=$g("canvas")),yd.width=e.width,yd.height=e.height;const a=yd.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=yd}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=$g("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let l=0;l<r.length;l++)r[l]=$l(r[l]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($l(t[i]/255)*255):t[i]=$l(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bP=0;class ou{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bP++}),this.uuid=Zs(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let l=0,u=a.length;l<u;l++)a[l].isDataTexture?r.push(ZA(a[l].image)):r.push(ZA(a[l]))}else r=ZA(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function ZA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?iB.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SP=0;const QA=new J;class li extends ol{constructor(e=li.DEFAULT_IMAGE,t=li.DEFAULT_MAPPING,i=Js,a=Js,r=vi,l=Tr,u=Xa,d=wr,p=li.DEFAULT_ANISOTROPY,m=Jl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SP++}),this.uuid=Zs(),this.name="",this.source=new ou(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(QA).x}get height(){return this.source.getSize(QA).y}get depth(){return this.source.getSize(QA).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==__)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case uu:e.x=e.x-Math.floor(e.x);break;case Js:e.x=e.x<0?0:1;break;case rp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case uu:e.y=e.y-Math.floor(e.y);break;case Js:e.y=e.y<0?0:1;break;case rp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}li.DEFAULT_IMAGE=null;li.DEFAULT_MAPPING=__;li.DEFAULT_ANISOTROPY=1;class Rn{constructor(e=0,t=0,i=0,a=1){Rn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*a+l[12]*r,this.y=l[1]*t+l[5]*i+l[9]*a+l[13]*r,this.z=l[2]*t+l[6]*i+l[10]*a+l[14]*r,this.w=l[3]*t+l[7]*i+l[11]*a+l[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const d=e.elements,p=d[0],m=d[4],v=d[8],x=d[1],_=d[5],M=d[9],C=d[2],T=d[6],S=d[10];if(Math.abs(m-x)<.01&&Math.abs(v-C)<.01&&Math.abs(M-T)<.01){if(Math.abs(m+x)<.1&&Math.abs(v+C)<.1&&Math.abs(M+T)<.1&&Math.abs(p+_+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(p+1)/2,D=(_+1)/2,O=(S+1)/2,I=(m+x)/4,F=(v+C)/4,z=(M+T)/4;return B>D&&B>O?B<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(B),a=I/i,r=F/i):D>O?D<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(D),i=I/a,r=z/a):O<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(O),i=F/r,a=z/r),this.set(i,a,r,t),this}let w=Math.sqrt((T-M)*(T-M)+(v-C)*(v-C)+(x-m)*(x-m));return Math.abs(w)<.001&&(w=1),this.x=(T-M)/w,this.y=(v-C)/w,this.z=(x-m)/w,this.w=Math.acos((p+_+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this.z=Gt(this.z,e.z,t.z),this.w=Gt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this.z=Gt(this.z,e,t),this.w=Gt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class VM extends ol{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:vi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Rn(0,0,e,t),this.scissorTest=!1,this.viewport=new Rn(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new li(a);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:vi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isArrayTexture=this.textures[a].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new ou(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ho extends VM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class w_ extends li{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=da,this.minFilter=da,this.wrapR=Js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class MP extends ho{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new w_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class B_ extends li{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=da,this.minFilter=da,this.wrapR=Js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class EP extends ho{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new B_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Ca{constructor(e=new J(1/0,1/0,1/0),t=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(to.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(to.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=to.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=r.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,to):to.fromBufferAttribute(r,l),to.applyMatrix4(e.matrixWorld),this.expandByPoint(to);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ty.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ty.copy(i.boundingBox)),ty.applyMatrix4(e.matrixWorld),this.union(ty)}const a=e.children;for(let r=0,l=a.length;r<l;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,to),to.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fg),ny.subVectors(this.max,fg),xd.subVectors(e.a,fg),_d.subVectors(e.b,fg),Ad.subVectors(e.c,fg),Wc.subVectors(_d,xd),Zc.subVectors(Ad,_d),pf.subVectors(xd,Ad);let t=[0,-Wc.z,Wc.y,0,-Zc.z,Zc.y,0,-pf.z,pf.y,Wc.z,0,-Wc.x,Zc.z,0,-Zc.x,pf.z,0,-pf.x,-Wc.y,Wc.x,0,-Zc.y,Zc.x,0,-pf.y,pf.x,0];return!$A(t,xd,_d,Ad,ny)||(t=[1,0,0,0,1,0,0,0,1],!$A(t,xd,_d,Ad,ny))?!1:(iy.crossVectors(Wc,Zc),t=[iy.x,iy.y,iy.z],$A(t,xd,_d,Ad,ny))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,to).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(to).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const zl=[new J,new J,new J,new J,new J,new J,new J,new J],to=new J,ty=new Ca,xd=new J,_d=new J,Ad=new J,Wc=new J,Zc=new J,pf=new J,fg=new J,ny=new J,iy=new J,mf=new J;function $A(n,e,t,i,a){for(let r=0,l=n.length-3;r<=l;r+=3){mf.fromArray(n,r);const u=a.x*Math.abs(mf.x)+a.y*Math.abs(mf.y)+a.z*Math.abs(mf.z),d=e.dot(mf),p=t.dot(mf),m=i.dot(mf);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>u)return!1}return!0}const TP=new Ca,hg=new J,eb=new J;class ma{constructor(e=new J,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):TP.setFromPoints(e).getCenter(i);let a=0;for(let r=0,l=e.length;r<l;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hg.subVectors(e,this.center);const t=hg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(hg,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(eb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hg.copy(e.center).add(eb)),this.expandByPoint(hg.copy(e.center).sub(eb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Gl=new J,tb=new J,ay=new J,Qc=new J,nb=new J,sy=new J,ib=new J;class oh{constructor(e=new J,t=new J(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gl.copy(this.origin).addScaledVector(this.direction,t),Gl.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){tb.copy(e).add(t).multiplyScalar(.5),ay.copy(t).sub(e).normalize(),Qc.copy(this.origin).sub(tb);const r=e.distanceTo(t)*.5,l=-this.direction.dot(ay),u=Qc.dot(this.direction),d=-Qc.dot(ay),p=Qc.lengthSq(),m=Math.abs(1-l*l);let v,x,_,M;if(m>0)if(v=l*d-u,x=l*u-d,M=r*m,v>=0)if(x>=-M)if(x<=M){const C=1/m;v*=C,x*=C,_=v*(v+l*x+2*u)+x*(l*v+x+2*d)+p}else x=r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*d)+p;else x=-r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*d)+p;else x<=-M?(v=Math.max(0,-(-l*r+u)),x=v>0?-r:Math.min(Math.max(-r,-d),r),_=-v*v+x*(x+2*d)+p):x<=M?(v=0,x=Math.min(Math.max(-r,-d),r),_=x*(x+2*d)+p):(v=Math.max(0,-(l*r+u)),x=v>0?r:Math.min(Math.max(-r,-d),r),_=-v*v+x*(x+2*d)+p);else x=l>0?-r:r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*d)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy(tb).addScaledVector(ay,x),_}intersectSphere(e,t){Gl.subVectors(e.center,this.origin);const i=Gl.dot(this.direction),a=Gl.dot(Gl)-i*i,r=e.radius*e.radius;if(a>r)return null;const l=Math.sqrt(r-a),u=i-l,d=i+l;return d<0?null:u<0?this.at(d,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,l,u,d;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,a=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,a=(e.min.x-x.x)*p),m>=0?(r=(e.min.y-x.y)*m,l=(e.max.y-x.y)*m):(r=(e.max.y-x.y)*m,l=(e.min.y-x.y)*m),i>l||r>a||((r>i||isNaN(i))&&(i=r),(l<a||isNaN(a))&&(a=l),v>=0?(u=(e.min.z-x.z)*v,d=(e.max.z-x.z)*v):(u=(e.max.z-x.z)*v,d=(e.min.z-x.z)*v),i>d||u>a)||((u>i||i!==i)&&(i=u),(d<a||a!==a)&&(a=d),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,Gl)!==null}intersectTriangle(e,t,i,a,r){nb.subVectors(t,e),sy.subVectors(i,e),ib.crossVectors(nb,sy);let l=this.direction.dot(ib),u;if(l>0){if(a)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Qc.subVectors(this.origin,e);const d=u*this.direction.dot(sy.crossVectors(Qc,sy));if(d<0)return null;const p=u*this.direction.dot(nb.cross(Qc));if(p<0||d+p>l)return null;const m=-u*Qc.dot(ib);return m<0?null:this.at(m/l,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class It{constructor(e,t,i,a,r,l,u,d,p,m,v,x,_,M,C,T){It.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,d,p,m,v,x,_,M,C,T)}set(e,t,i,a,r,l,u,d,p,m,v,x,_,M,C,T){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=a,S[1]=r,S[5]=l,S[9]=u,S[13]=d,S[2]=p,S[6]=m,S[10]=v,S[14]=x,S[3]=_,S[7]=M,S[11]=C,S[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new It().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/bd.setFromMatrixColumn(e,0).length(),r=1/bd.setFromMatrixColumn(e,1).length(),l=1/bd.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,l=Math.cos(i),u=Math.sin(i),d=Math.cos(a),p=Math.sin(a),m=Math.cos(r),v=Math.sin(r);if(e.order==="XYZ"){const x=l*m,_=l*v,M=u*m,C=u*v;t[0]=d*m,t[4]=-d*v,t[8]=p,t[1]=_+M*p,t[5]=x-C*p,t[9]=-u*d,t[2]=C-x*p,t[6]=M+_*p,t[10]=l*d}else if(e.order==="YXZ"){const x=d*m,_=d*v,M=p*m,C=p*v;t[0]=x+C*u,t[4]=M*u-_,t[8]=l*p,t[1]=l*v,t[5]=l*m,t[9]=-u,t[2]=_*u-M,t[6]=C+x*u,t[10]=l*d}else if(e.order==="ZXY"){const x=d*m,_=d*v,M=p*m,C=p*v;t[0]=x-C*u,t[4]=-l*v,t[8]=M+_*u,t[1]=_+M*u,t[5]=l*m,t[9]=C-x*u,t[2]=-l*p,t[6]=u,t[10]=l*d}else if(e.order==="ZYX"){const x=l*m,_=l*v,M=u*m,C=u*v;t[0]=d*m,t[4]=M*p-_,t[8]=x*p+C,t[1]=d*v,t[5]=C*p+x,t[9]=_*p-M,t[2]=-p,t[6]=u*d,t[10]=l*d}else if(e.order==="YZX"){const x=l*d,_=l*p,M=u*d,C=u*p;t[0]=d*m,t[4]=C-x*v,t[8]=M*v+_,t[1]=v,t[5]=l*m,t[9]=-u*m,t[2]=-p*m,t[6]=_*v+M,t[10]=x-C*v}else if(e.order==="XZY"){const x=l*d,_=l*p,M=u*d,C=u*p;t[0]=d*m,t[4]=-v,t[8]=p*m,t[1]=x*v+C,t[5]=l*m,t[9]=_*v-M,t[2]=M*v-_,t[6]=u*m,t[10]=C*v+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CP,e,RP)}lookAt(e,t,i){const a=this.elements;return Ys.subVectors(e,t),Ys.lengthSq()===0&&(Ys.z=1),Ys.normalize(),$c.crossVectors(i,Ys),$c.lengthSq()===0&&(Math.abs(i.z)===1?Ys.x+=1e-4:Ys.z+=1e-4,Ys.normalize(),$c.crossVectors(i,Ys)),$c.normalize(),ry.crossVectors(Ys,$c),a[0]=$c.x,a[4]=ry.x,a[8]=Ys.x,a[1]=$c.y,a[5]=ry.y,a[9]=Ys.y,a[2]=$c.z,a[6]=ry.z,a[10]=Ys.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[4],d=i[8],p=i[12],m=i[1],v=i[5],x=i[9],_=i[13],M=i[2],C=i[6],T=i[10],S=i[14],w=i[3],B=i[7],D=i[11],O=i[15],I=a[0],F=a[4],z=a[8],P=a[12],U=a[1],X=a[5],ce=a[9],se=a[13],pe=a[2],Ae=a[6],j=a[10],Z=a[14],Q=a[3],ve=a[7],ye=a[11],Y=a[15];return r[0]=l*I+u*U+d*pe+p*Q,r[4]=l*F+u*X+d*Ae+p*ve,r[8]=l*z+u*ce+d*j+p*ye,r[12]=l*P+u*se+d*Z+p*Y,r[1]=m*I+v*U+x*pe+_*Q,r[5]=m*F+v*X+x*Ae+_*ve,r[9]=m*z+v*ce+x*j+_*ye,r[13]=m*P+v*se+x*Z+_*Y,r[2]=M*I+C*U+T*pe+S*Q,r[6]=M*F+C*X+T*Ae+S*ve,r[10]=M*z+C*ce+T*j+S*ye,r[14]=M*P+C*se+T*Z+S*Y,r[3]=w*I+B*U+D*pe+O*Q,r[7]=w*F+B*X+D*Ae+O*ve,r[11]=w*z+B*ce+D*j+O*ye,r[15]=w*P+B*se+D*Z+O*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],l=e[1],u=e[5],d=e[9],p=e[13],m=e[2],v=e[6],x=e[10],_=e[14],M=e[3],C=e[7],T=e[11],S=e[15];return M*(+r*d*v-a*p*v-r*u*x+i*p*x+a*u*_-i*d*_)+C*(+t*d*_-t*p*x+r*l*x-a*l*_+a*p*m-r*d*m)+T*(+t*p*v-t*u*_-r*l*v+i*l*_+r*u*m-i*p*m)+S*(-a*u*m-t*d*v+t*u*x+a*l*v-i*l*x+i*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],d=e[6],p=e[7],m=e[8],v=e[9],x=e[10],_=e[11],M=e[12],C=e[13],T=e[14],S=e[15],w=v*T*p-C*x*p+C*d*_-u*T*_-v*d*S+u*x*S,B=M*x*p-m*T*p-M*d*_+l*T*_+m*d*S-l*x*S,D=m*C*p-M*v*p+M*u*_-l*C*_-m*u*S+l*v*S,O=M*v*d-m*C*d-M*u*x+l*C*x+m*u*T-l*v*T,I=t*w+i*B+a*D+r*O;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/I;return e[0]=w*F,e[1]=(C*x*r-v*T*r-C*a*_+i*T*_+v*a*S-i*x*S)*F,e[2]=(u*T*r-C*d*r+C*a*p-i*T*p-u*a*S+i*d*S)*F,e[3]=(v*d*r-u*x*r-v*a*p+i*x*p+u*a*_-i*d*_)*F,e[4]=B*F,e[5]=(m*T*r-M*x*r+M*a*_-t*T*_-m*a*S+t*x*S)*F,e[6]=(M*d*r-l*T*r-M*a*p+t*T*p+l*a*S-t*d*S)*F,e[7]=(l*x*r-m*d*r+m*a*p-t*x*p-l*a*_+t*d*_)*F,e[8]=D*F,e[9]=(M*v*r-m*C*r-M*i*_+t*C*_+m*i*S-t*v*S)*F,e[10]=(l*C*r-M*u*r+M*i*p-t*C*p-l*i*S+t*u*S)*F,e[11]=(m*u*r-l*v*r-m*i*p+t*v*p+l*i*_-t*u*_)*F,e[12]=O*F,e[13]=(m*C*a-M*v*a+M*i*x-t*C*x-m*i*T+t*v*T)*F,e[14]=(M*u*a-l*C*a-M*i*d+t*C*d+l*i*T-t*u*T)*F,e[15]=(l*v*a-m*u*a+m*i*d-t*v*d-l*i*x+t*u*x)*F,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,l=e.x,u=e.y,d=e.z,p=r*l,m=r*u;return this.set(p*l+i,p*u-a*d,p*d+a*u,0,p*u+a*d,m*u+i,m*d-a*l,0,p*d-a*u,m*d+a*l,r*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,l){return this.set(1,i,r,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,l=t._y,u=t._z,d=t._w,p=r+r,m=l+l,v=u+u,x=r*p,_=r*m,M=r*v,C=l*m,T=l*v,S=u*v,w=d*p,B=d*m,D=d*v,O=i.x,I=i.y,F=i.z;return a[0]=(1-(C+S))*O,a[1]=(_+D)*O,a[2]=(M-B)*O,a[3]=0,a[4]=(_-D)*I,a[5]=(1-(x+S))*I,a[6]=(T+w)*I,a[7]=0,a[8]=(M+B)*F,a[9]=(T-w)*F,a[10]=(1-(x+C))*F,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=bd.set(a[0],a[1],a[2]).length();const l=bd.set(a[4],a[5],a[6]).length(),u=bd.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],no.copy(this);const p=1/r,m=1/l,v=1/u;return no.elements[0]*=p,no.elements[1]*=p,no.elements[2]*=p,no.elements[4]*=m,no.elements[5]*=m,no.elements[6]*=m,no.elements[8]*=v,no.elements[9]*=v,no.elements[10]*=v,t.setFromRotationMatrix(no),i.x=r,i.y=l,i.z=u,this}makePerspective(e,t,i,a,r,l,u=Ks,d=!1){const p=this.elements,m=2*r/(t-e),v=2*r/(i-a),x=(t+e)/(t-e),_=(i+a)/(i-a);let M,C;if(d)M=r/(l-r),C=l*r/(l-r);else if(u===Ks)M=-(l+r)/(l-r),C=-2*l*r/(l-r);else if(u===dp)M=-l/(l-r),C=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=x,p[12]=0,p[1]=0,p[5]=v,p[9]=_,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=C,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,i,a,r,l,u=Ks,d=!1){const p=this.elements,m=2/(t-e),v=2/(i-a),x=-(t+e)/(t-e),_=-(i+a)/(i-a);let M,C;if(d)M=1/(l-r),C=l/(l-r);else if(u===Ks)M=-2/(l-r),C=-(l+r)/(l-r);else if(u===dp)M=-1/(l-r),C=-r/(l-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=0,p[12]=x,p[1]=0,p[5]=v,p[9]=0,p[13]=_,p[2]=0,p[6]=0,p[10]=M,p[14]=C,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const bd=new J,no=new It,CP=new J(0,0,0),RP=new J(1,1,1),$c=new J,ry=new J,Ys=new J,ET=new It,TT=new pa;class Qs{constructor(e=0,t=0,i=0,a=Qs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],l=a[4],u=a[8],d=a[1],p=a[5],m=a[9],v=a[2],x=a[6],_=a[10];switch(t){case"XYZ":this._y=Math.asin(Gt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Gt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(Gt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,r));break;case"ZYX":this._y=Math.asin(-Gt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,_),this._z=Math.atan2(d,r)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Gt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-Gt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return ET.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ET,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return TT.setFromEuler(this),this.setFromQuaternion(TT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qs.DEFAULT_ORDER="XYZ";class mp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wP=0;const CT=new J,Sd=new pa,Vl=new It,oy=new J,dg=new J,BP=new J,DP=new pa,RT=new J(1,0,0),wT=new J(0,1,0),BT=new J(0,0,1),DT={type:"added"},NP={type:"removed"},Md={type:"childadded",child:null},ab={type:"childremoved",child:null};class Sn extends ol{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wP++}),this.uuid=Zs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sn.DEFAULT_UP.clone();const e=new J,t=new Qs,i=new pa,a=new J(1,1,1);function r(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new It},normalMatrix:{value:new Wt}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=Sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sd.setFromAxisAngle(e,t),this.quaternion.multiply(Sd),this}rotateOnWorldAxis(e,t){return Sd.setFromAxisAngle(e,t),this.quaternion.premultiply(Sd),this}rotateX(e){return this.rotateOnAxis(RT,e)}rotateY(e){return this.rotateOnAxis(wT,e)}rotateZ(e){return this.rotateOnAxis(BT,e)}translateOnAxis(e,t){return CT.copy(e).applyQuaternion(this.quaternion),this.position.add(CT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(RT,e)}translateY(e){return this.translateOnAxis(wT,e)}translateZ(e){return this.translateOnAxis(BT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Vl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?oy.copy(e):oy.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),dg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vl.lookAt(dg,oy,this.up):Vl.lookAt(oy,dg,this.up),this.quaternion.setFromRotationMatrix(Vl),a&&(Vl.extractRotation(a.matrixWorld),Sd.setFromRotationMatrix(Vl),this.quaternion.premultiply(Sd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(DT),Md.child=e,this.dispatchEvent(Md),Md.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NP),ab.child=e,this.dispatchEvent(ab),ab.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Vl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Vl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(DT),Md.child=e,this.dispatchEvent(Md),Md.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dg,e,BP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dg,DP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(u=>({...u})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const v=d[p];r(e.shapes,v)}else r(e.shapes,d)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,p=this.material.length;d<p;d++)u.push(r(e.materials,this.material[d]));a.material=u}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];a.animations.push(r(e.animations,d))}}if(t){const u=l(e.geometries),d=l(e.materials),p=l(e.textures),m=l(e.images),v=l(e.shapes),x=l(e.skeletons),_=l(e.animations),M=l(e.nodes);u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),_.length>0&&(i.animations=_),M.length>0&&(i.nodes=M)}return i.object=a,i;function l(u){const d=[];for(const p in u){const m=u[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}Sn.DEFAULT_UP=new J(0,1,0);Sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const io=new J,kl=new J,sb=new J,jl=new J,Ed=new J,Td=new J,NT=new J,rb=new J,ob=new J,lb=new J,cb=new Rn,ub=new Rn,fb=new Rn;class Ls{constructor(e=new J,t=new J,i=new J){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),io.subVectors(e,t),a.cross(io);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){io.subVectors(a,t),kl.subVectors(i,t),sb.subVectors(e,t);const l=io.dot(io),u=io.dot(kl),d=io.dot(sb),p=kl.dot(kl),m=kl.dot(sb),v=l*p-u*u;if(v===0)return r.set(0,0,0),null;const x=1/v,_=(p*d-u*m)*x,M=(l*m-u*d)*x;return r.set(1-_-M,M,_)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,jl)===null?!1:jl.x>=0&&jl.y>=0&&jl.x+jl.y<=1}static getInterpolation(e,t,i,a,r,l,u,d){return this.getBarycoord(e,t,i,a,jl)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(r,jl.x),d.addScaledVector(l,jl.y),d.addScaledVector(u,jl.z),d)}static getInterpolatedAttribute(e,t,i,a,r,l){return cb.setScalar(0),ub.setScalar(0),fb.setScalar(0),cb.fromBufferAttribute(e,t),ub.fromBufferAttribute(e,i),fb.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(cb,r.x),l.addScaledVector(ub,r.y),l.addScaledVector(fb,r.z),l}static isFrontFacing(e,t,i,a){return io.subVectors(i,t),kl.subVectors(e,t),io.cross(kl).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return io.subVectors(this.c,this.b),kl.subVectors(this.a,this.b),io.cross(kl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ls.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ls.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return Ls.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return Ls.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ls.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let l,u;Ed.subVectors(a,i),Td.subVectors(r,i),rb.subVectors(e,i);const d=Ed.dot(rb),p=Td.dot(rb);if(d<=0&&p<=0)return t.copy(i);ob.subVectors(e,a);const m=Ed.dot(ob),v=Td.dot(ob);if(m>=0&&v<=m)return t.copy(a);const x=d*v-m*p;if(x<=0&&d>=0&&m<=0)return l=d/(d-m),t.copy(i).addScaledVector(Ed,l);lb.subVectors(e,r);const _=Ed.dot(lb),M=Td.dot(lb);if(M>=0&&_<=M)return t.copy(r);const C=_*p-d*M;if(C<=0&&p>=0&&M<=0)return u=p/(p-M),t.copy(i).addScaledVector(Td,u);const T=m*M-_*v;if(T<=0&&v-m>=0&&_-M>=0)return NT.subVectors(r,a),u=(v-m)/(v-m+(_-M)),t.copy(a).addScaledVector(NT,u);const S=1/(T+C+x);return l=C*S,u=x*S,t.copy(i).addScaledVector(Ed,l).addScaledVector(Td,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const aB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},eu={h:0,s:0,l:0},ly={h:0,s:0,l:0};function hb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ut{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ja){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=bn.workingColorSpace){return this.r=e,this.g=t,this.b=i,bn.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=bn.workingColorSpace){if(e=GM(e,1),t=Gt(t,0,1),i=Gt(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,l=2*i-r;this.r=hb(l,r,e+1/3),this.g=hb(l,r,e),this.b=hb(l,r,e-1/3)}return bn.colorSpaceToWorking(this,a),this}setStyle(e,t=ja){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const l=a[1],u=a[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ja){const i=aB[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$l(e.r),this.g=$l(e.g),this.b=$l(e.b),this}copyLinearToSRGB(e){return this.r=np(e.r),this.g=np(e.g),this.b=np(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ja){return bn.workingToColorSpace(Va.copy(this),e),Math.round(Gt(Va.r*255,0,255))*65536+Math.round(Gt(Va.g*255,0,255))*256+Math.round(Gt(Va.b*255,0,255))}getHexString(e=ja){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.workingToColorSpace(Va.copy(this),t);const i=Va.r,a=Va.g,r=Va.b,l=Math.max(i,a,r),u=Math.min(i,a,r);let d,p;const m=(u+l)/2;if(u===l)d=0,p=0;else{const v=l-u;switch(p=m<=.5?v/(l+u):v/(2-l-u),l){case i:d=(a-r)/v+(a<r?6:0);break;case a:d=(r-i)/v+2;break;case r:d=(i-a)/v+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,t=bn.workingColorSpace){return bn.workingToColorSpace(Va.copy(this),t),e.r=Va.r,e.g=Va.g,e.b=Va.b,e}getStyle(e=ja){bn.workingToColorSpace(Va.copy(this),e);const t=Va.r,i=Va.g,a=Va.b;return e!==ja?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(eu),this.setHSL(eu.h+e,eu.s+t,eu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(eu),e.getHSL(ly);const i=Ig(eu.h,ly.h,t),a=Ig(eu.s,ly.s,t),r=Ig(eu.l,ly.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Va=new ut;ut.NAMES=aB;let LP=0;class Zi extends ol{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:LP++}),this.uuid=Zs(),this.name="",this.type="Material",this.blending=Xf,this.side=sl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gx,this.blendDst=vx,this.blendEquation=su,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=Zf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=DS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nf,this.stencilZFail=Nf,this.stencilZPass=Nf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Xf&&(i.blending=this.blending),this.side!==sl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==gx&&(i.blendSrc=this.blendSrc),this.blendDst!==vx&&(i.blendDst=this.blendDst),this.blendEquation!==su&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Zf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==DS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Nf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Nf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const l=[];for(const u in r){const d=r[u];delete d.metadata,l.push(d)}return l}if(t){const r=a(e.textures),l=a(e.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ws extends Zi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kl=UP();function UP(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(i[d]=0,i[d|256]=32768,a[d]=24,a[d|256]=24):p<-14?(i[d]=1024>>-p-14,i[d|256]=1024>>-p-14|32768,a[d]=-p-1,a[d|256]=-p-1):p<=15?(i[d]=p+15<<10,i[d|256]=p+15<<10|32768,a[d]=13,a[d|256]=13):p<128?(i[d]=31744,i[d|256]=64512,a[d]=24,a[d|256]=24):(i[d]=31744,i[d|256]=64512,a[d]=13,a[d|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[d]=p|m}for(let d=1024;d<2048;++d)r[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(u[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:l,offsetTable:u}}function Ds(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Gt(n,-65504,65504),Kl.floatView[0]=n;const e=Kl.uint32View[0],t=e>>23&511;return Kl.baseTable[t]+((e&8388607)>>Kl.shiftTable[t])}function Eg(n){const e=n>>10;return Kl.uint32View[0]=Kl.mantissaTable[Kl.offsetTable[e]+(n&1023)]+Kl.exponentTable[e],Kl.floatView[0]}class OP{static toHalfFloat(e){return Ds(e)}static fromHalfFloat(e){return Eg(e)}}const Gi=new J,cy=new Fe;let PP=0;class wn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:PP++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Qg,this.updateRanges=[],this.gpuType=ys,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)cy.fromBufferAttribute(this,t),cy.applyMatrix3(e),this.setXY(t,cy.x,cy.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Gi.fromBufferAttribute(this,t),Gi.applyMatrix3(e),this.setXYZ(t,Gi.x,Gi.y,Gi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Gi.fromBufferAttribute(this,t),Gi.applyMatrix4(e),this.setXYZ(t,Gi.x,Gi.y,Gi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Gi.fromBufferAttribute(this,t),Gi.applyNormalMatrix(e),this.setXYZ(t,Gi.x,Gi.y,Gi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Gi.fromBufferAttribute(this,t),Gi.transformDirection(e),this.setXYZ(t,Gi.x,Gi.y,Gi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=vs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=$t(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array),r=$t(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qg&&(e.usage=this.usage),e}}class IP extends wn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class FP extends wn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class HP extends wn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class zP extends wn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class kM extends wn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class GP extends wn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class jM extends wn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class VP extends wn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Eg(this.array[e*this.itemSize]);return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize]=Ds(t),this}getY(e){let t=Eg(this.array[e*this.itemSize+1]);return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+1]=Ds(t),this}getZ(e){let t=Eg(this.array[e*this.itemSize+2]);return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+2]=Ds(t),this}getW(e){let t=Eg(this.array[e*this.itemSize+3]);return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=$t(t,this.array)),this.array[e*this.itemSize+3]=Ds(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(i),this.array[e+2]=Ds(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array),r=$t(r,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(i),this.array[e+2]=Ds(a),this.array[e+3]=Ds(r),this}}class At extends wn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let kP=0;const Ar=new It,db=new Sn,Cd=new J,qs=new Ca,pg=new Ca,ha=new J;class qt extends ol{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kP++}),this.uuid=Zs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tB(e)?jM:kM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Wt().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ar.makeRotationFromQuaternion(e),this.applyMatrix4(Ar),this}rotateX(e){return Ar.makeRotationX(e),this.applyMatrix4(Ar),this}rotateY(e){return Ar.makeRotationY(e),this.applyMatrix4(Ar),this}rotateZ(e){return Ar.makeRotationZ(e),this.applyMatrix4(Ar),this}translate(e,t,i){return Ar.makeTranslation(e,t,i),this.applyMatrix4(Ar),this}scale(e,t,i){return Ar.makeScale(e,t,i),this.applyMatrix4(Ar),this}lookAt(e){return db.lookAt(e),db.updateMatrix(),this.applyMatrix4(db.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cd).negate(),this.translate(Cd.x,Cd.y,Cd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const l=e[a];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new At(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ca);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];qs.setFromBufferAttribute(r),this.morphTargetsRelative?(ha.addVectors(this.boundingBox.min,qs.min),this.boundingBox.expandByPoint(ha),ha.addVectors(this.boundingBox.max,qs.max),this.boundingBox.expandByPoint(ha)):(this.boundingBox.expandByPoint(qs.min),this.boundingBox.expandByPoint(qs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ma);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const i=this.boundingSphere.center;if(qs.setFromBufferAttribute(e),t)for(let r=0,l=t.length;r<l;r++){const u=t[r];pg.setFromBufferAttribute(u),this.morphTargetsRelative?(ha.addVectors(qs.min,pg.min),qs.expandByPoint(ha),ha.addVectors(qs.max,pg.max),qs.expandByPoint(ha)):(qs.expandByPoint(pg.min),qs.expandByPoint(pg.max))}qs.getCenter(i);let a=0;for(let r=0,l=e.count;r<l;r++)ha.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(ha));if(t)for(let r=0,l=t.length;r<l;r++){const u=t[r],d=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)ha.fromBufferAttribute(u,p),d&&(Cd.fromBufferAttribute(e,p),ha.add(Cd)),a=Math.max(a,i.distanceToSquared(ha))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],d=[];for(let z=0;z<i.count;z++)u[z]=new J,d[z]=new J;const p=new J,m=new J,v=new J,x=new Fe,_=new Fe,M=new Fe,C=new J,T=new J;function S(z,P,U){p.fromBufferAttribute(i,z),m.fromBufferAttribute(i,P),v.fromBufferAttribute(i,U),x.fromBufferAttribute(r,z),_.fromBufferAttribute(r,P),M.fromBufferAttribute(r,U),m.sub(p),v.sub(p),_.sub(x),M.sub(x);const X=1/(_.x*M.y-M.x*_.y);isFinite(X)&&(C.copy(m).multiplyScalar(M.y).addScaledVector(v,-_.y).multiplyScalar(X),T.copy(v).multiplyScalar(_.x).addScaledVector(m,-M.x).multiplyScalar(X),u[z].add(C),u[P].add(C),u[U].add(C),d[z].add(T),d[P].add(T),d[U].add(T))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let z=0,P=w.length;z<P;++z){const U=w[z],X=U.start,ce=U.count;for(let se=X,pe=X+ce;se<pe;se+=3)S(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const B=new J,D=new J,O=new J,I=new J;function F(z){O.fromBufferAttribute(a,z),I.copy(O);const P=u[z];B.copy(P),B.sub(O.multiplyScalar(O.dot(P))).normalize(),D.crossVectors(I,P);const X=D.dot(d[z])<0?-1:1;l.setXYZW(z,B.x,B.y,B.z,X)}for(let z=0,P=w.length;z<P;++z){const U=w[z],X=U.start,ce=U.count;for(let se=X,pe=X+ce;se<pe;se+=3)F(e.getX(se+0)),F(e.getX(se+1)),F(e.getX(se+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new wn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,_=i.count;x<_;x++)i.setXYZ(x,0,0,0);const a=new J,r=new J,l=new J,u=new J,d=new J,p=new J,m=new J,v=new J;if(e)for(let x=0,_=e.count;x<_;x+=3){const M=e.getX(x+0),C=e.getX(x+1),T=e.getX(x+2);a.fromBufferAttribute(t,M),r.fromBufferAttribute(t,C),l.fromBufferAttribute(t,T),m.subVectors(l,r),v.subVectors(a,r),m.cross(v),u.fromBufferAttribute(i,M),d.fromBufferAttribute(i,C),p.fromBufferAttribute(i,T),u.add(m),d.add(m),p.add(m),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(T,p.x,p.y,p.z)}else for(let x=0,_=t.count;x<_;x+=3)a.fromBufferAttribute(t,x+0),r.fromBufferAttribute(t,x+1),l.fromBufferAttribute(t,x+2),m.subVectors(l,r),v.subVectors(a,r),m.cross(v),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ha.fromBufferAttribute(e,t),ha.normalize(),e.setXYZ(t,ha.x,ha.y,ha.z)}toNonIndexed(){function e(u,d){const p=u.array,m=u.itemSize,v=u.normalized,x=new p.constructor(d.length*m);let _=0,M=0;for(let C=0,T=d.length;C<T;C++){u.isInterleavedBufferAttribute?_=d[C]*u.data.stride+u.offset:_=d[C]*m;for(let S=0;S<m;S++)x[M++]=p[_++]}return new wn(x,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new qt,i=this.index.array,a=this.attributes;for(const u in a){const d=a[u],p=e(d,i);t.setAttribute(u,p)}const r=this.morphAttributes;for(const u in r){const d=[],p=r[u];for(let m=0,v=p.length;m<v;m++){const x=p[m],_=e(x,i);d.push(_)}t.morphAttributes[u]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const p=l[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const p=i[d];e.data.attributes[d]=p.toJSON(e.data)}const a={};let r=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];m.push(_.toJSON(e.data))}m.length>0&&(a[d]=m,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const p in a){const m=a[p];this.setAttribute(p,m.clone(t))}const r=e.morphAttributes;for(const p in r){const m=[],v=r[p];for(let x=0,_=v.length;x<_;x++)m.push(v[x].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,m=l.length;p<m;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const LT=new It,gf=new oh,uy=new ma,UT=new J,fy=new J,hy=new J,dy=new J,pb=new J,py=new J,OT=new J,my=new J;class Li extends Sn{constructor(e=new qt,t=new Ws){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const u=this.morphTargetInfluences;if(r&&u){py.set(0,0,0);for(let d=0,p=r.length;d<p;d++){const m=u[d],v=r[d];m!==0&&(pb.fromBufferAttribute(v,e),l?py.addScaledVector(pb,m):py.addScaledVector(pb.sub(t),m))}t.add(py)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),uy.copy(i.boundingSphere),uy.applyMatrix4(r),gf.copy(e.ray).recast(e.near),!(uy.containsPoint(gf.origin)===!1&&(gf.intersectSphere(uy,UT)===null||gf.origin.distanceToSquared(UT)>(e.far-e.near)**2))&&(LT.copy(r).invert(),gf.copy(e.ray).applyMatrix4(LT),!(i.boundingBox!==null&&gf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,gf)))}_computeIntersections(e,t,i){let a;const r=this.geometry,l=this.material,u=r.index,d=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,v=r.attributes.normal,x=r.groups,_=r.drawRange;if(u!==null)if(Array.isArray(l))for(let M=0,C=x.length;M<C;M++){const T=x[M],S=l[T.materialIndex],w=Math.max(T.start,_.start),B=Math.min(u.count,Math.min(T.start+T.count,_.start+_.count));for(let D=w,O=B;D<O;D+=3){const I=u.getX(D),F=u.getX(D+1),z=u.getX(D+2);a=gy(this,S,e,i,p,m,v,I,F,z),a&&(a.faceIndex=Math.floor(D/3),a.face.materialIndex=T.materialIndex,t.push(a))}}else{const M=Math.max(0,_.start),C=Math.min(u.count,_.start+_.count);for(let T=M,S=C;T<S;T+=3){const w=u.getX(T),B=u.getX(T+1),D=u.getX(T+2);a=gy(this,l,e,i,p,m,v,w,B,D),a&&(a.faceIndex=Math.floor(T/3),t.push(a))}}else if(d!==void 0)if(Array.isArray(l))for(let M=0,C=x.length;M<C;M++){const T=x[M],S=l[T.materialIndex],w=Math.max(T.start,_.start),B=Math.min(d.count,Math.min(T.start+T.count,_.start+_.count));for(let D=w,O=B;D<O;D+=3){const I=D,F=D+1,z=D+2;a=gy(this,S,e,i,p,m,v,I,F,z),a&&(a.faceIndex=Math.floor(D/3),a.face.materialIndex=T.materialIndex,t.push(a))}}else{const M=Math.max(0,_.start),C=Math.min(d.count,_.start+_.count);for(let T=M,S=C;T<S;T+=3){const w=T,B=T+1,D=T+2;a=gy(this,l,e,i,p,m,v,w,B,D),a&&(a.faceIndex=Math.floor(T/3),t.push(a))}}}}function jP(n,e,t,i,a,r,l,u){let d;if(e.side===_s?d=i.intersectTriangle(l,r,a,!0,u):d=i.intersectTriangle(a,r,l,e.side===sl,u),d===null)return null;my.copy(u),my.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(my);return p<t.near||p>t.far?null:{distance:p,point:my.clone(),object:n}}function gy(n,e,t,i,a,r,l,u,d,p){n.getVertexPosition(u,fy),n.getVertexPosition(d,hy),n.getVertexPosition(p,dy);const m=jP(n,e,t,i,fy,hy,dy,OT);if(m){const v=new J;Ls.getBarycoord(OT,fy,hy,dy,v),a&&(m.uv=Ls.getInterpolatedAttribute(a,u,d,p,v,new Fe)),r&&(m.uv1=Ls.getInterpolatedAttribute(r,u,d,p,v,new Fe)),l&&(m.normal=Ls.getInterpolatedAttribute(l,u,d,p,v,new J),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:u,b:d,c:p,normal:new J,materialIndex:0};Ls.getNormal(fy,hy,dy,x.normal),m.face=x,m.barycoord=v}return m}class lh extends qt{constructor(e=1,t=1,i=1,a=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:l};const u=this;a=Math.floor(a),r=Math.floor(r),l=Math.floor(l);const d=[],p=[],m=[],v=[];let x=0,_=0;M("z","y","x",-1,-1,i,t,e,l,r,0),M("z","y","x",1,-1,i,t,-e,l,r,1),M("x","z","y",1,1,e,i,t,a,l,2),M("x","z","y",1,-1,e,i,-t,a,l,3),M("x","y","z",1,-1,e,t,i,a,r,4),M("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(d),this.setAttribute("position",new At(p,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(v,2));function M(C,T,S,w,B,D,O,I,F,z,P){const U=D/F,X=O/z,ce=D/2,se=O/2,pe=I/2,Ae=F+1,j=z+1;let Z=0,Q=0;const ve=new J;for(let ye=0;ye<j;ye++){const Y=ye*X-se;for(let oe=0;oe<Ae;oe++){const Be=oe*U-ce;ve[C]=Be*w,ve[T]=Y*B,ve[S]=pe,p.push(ve.x,ve.y,ve.z),ve[C]=0,ve[T]=0,ve[S]=I>0?1:-1,m.push(ve.x,ve.y,ve.z),v.push(oe/F),v.push(1-ye/z),Z+=1}}for(let ye=0;ye<z;ye++)for(let Y=0;Y<F;Y++){const oe=x+Y+Ae*ye,Be=x+Y+Ae*(ye+1),De=x+(Y+1)+Ae*(ye+1),ue=x+(Y+1)+Ae*ye;d.push(oe,Be,ue),d.push(Be,De,ue),Q+=6}u.addGroup(_,Q,P),_+=Q,x+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gp(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function ms(n){const e={};for(let t=0;t<n.length;t++){const i=gp(n[t]);for(const a in i)e[a]=i[a]}return e}function XP(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function sB(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const rB={clone:gp,merge:ms};var YP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class po extends Zi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=YP,this.fragmentShader=qP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gp(e.uniforms),this.uniformsGroups=XP(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class D_ extends Sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It,this.projectionMatrixInverse=new It,this.coordinateSystem=Ks,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const tu=new J,PT=new Fe,IT=new Fe;let Ti=class extends D_{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=pp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pp*2*Math.atan(Math.tan(Yf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){tu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(tu.x,tu.y).multiplyScalar(-e/tu.z),tu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(tu.x,tu.y).multiplyScalar(-e/tu.z)}getViewSize(e,t){return this.getViewBounds(e,PT,IT),t.subVectors(IT,PT)}setViewOffset(e,t,i,a,r,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Yf*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;r+=l.offsetX*a/d,t-=l.offsetY*i/p,a*=l.width/d,i*=l.height/p}const u=this.filmOffset;u!==0&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Rd=-90,wd=1;class oB extends Sn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Ti(Rd,wd,e,t);a.layers=this.layers,this.add(a);const r=new Ti(Rd,wd,e,t);r.layers=this.layers,this.add(r);const l=new Ti(Rd,wd,e,t);l.layers=this.layers,this.add(l);const u=new Ti(Rd,wd,e,t);u.layers=this.layers,this.add(u);const d=new Ti(Rd,wd,e,t);d.layers=this.layers,this.add(d);const p=new Ti(Rd,wd,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,l,u,d]=t;for(const p of t)this.remove(p);if(e===Ks)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===dp)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,l,u,d,p,m]=this.children,v=e.getRenderTarget(),x=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,l),e.setRenderTarget(i,2,a),e.render(t,u),e.setRenderTarget(i,3,a),e.render(t,d),e.setRenderTarget(i,4,a),e.render(t,p),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,a),e.render(t,m),e.setRenderTarget(v,x,_),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class v0 extends li{constructor(e=[],t=ic,i,a,r,l,u,d,p,m){super(e,t,i,a,r,l,u,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lB extends ho{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new v0(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new lh(5,5,5),r=new po({name:"CubemapFromEquirect",uniforms:gp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:_s,blending:Ql});r.uniforms.tEquirect.value=t;const l=new Li(a,r),u=t.minFilter;return t.minFilter===Tr&&(t.minFilter=vi),new oB(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,a);e.setRenderTarget(r)}}class Wl extends Sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const JP={type:"move"};class ox{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Wl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Wl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Wl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,l=null;const u=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const C of e.hand.values()){const T=t.getJointPose(C,i),S=this._getHandJoint(p,C);T!==null&&(S.matrix.fromArray(T.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=T.radius),S.visible=T!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=m.position.distanceTo(v.position),_=.02,M=.005;p.inputState.pinching&&x>_+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=_-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(d.matrix.fromArray(r.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,r.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(r.linearVelocity)):d.hasLinearVelocity=!1,r.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(r.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(JP)))}return u!==null&&(u.visible=a!==null),d!==null&&(d.visible=r!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Wl;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class N_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=t}clone(){return new N_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class L_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=t,this.far=i}clone(){return new L_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class XM extends Sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Qs,this.environmentIntensity=1,this.environmentRotation=new Qs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class y0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Qg,this.updateRanges=[],this.version=0,this.uuid=Zs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ps=new J;class hu{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix4(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.applyNormalMatrix(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.transformDirection(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=vs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=$t(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=$t(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=$t(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=$t(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=$t(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=vs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=vs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=vs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=vs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=$t(t,this.array),i=$t(i,this.array),a=$t(a,this.array),r=$t(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new wn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class YM extends Zi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bd;const mg=new J,Dd=new J,Nd=new J,Ld=new Fe,gg=new Fe,cB=new It,vy=new J,vg=new J,yy=new J,FT=new Fe,mb=new Fe,HT=new Fe;class uB extends Sn{constructor(e=new YM){if(super(),this.isSprite=!0,this.type="Sprite",Bd===void 0){Bd=new qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new y0(t,5);Bd.setIndex([0,1,2,0,2,3]),Bd.setAttribute("position",new hu(i,3,0,!1)),Bd.setAttribute("uv",new hu(i,2,3,!1))}this.geometry=Bd,this.material=e,this.center=new Fe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Dd.setFromMatrixScale(this.matrixWorld),cB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Nd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Dd.multiplyScalar(-Nd.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const l=this.center;xy(vy.set(-.5,-.5,0),Nd,l,Dd,a,r),xy(vg.set(.5,-.5,0),Nd,l,Dd,a,r),xy(yy.set(.5,.5,0),Nd,l,Dd,a,r),FT.set(0,0),mb.set(1,0),HT.set(1,1);let u=e.ray.intersectTriangle(vy,vg,yy,!1,mg);if(u===null&&(xy(vg.set(-.5,.5,0),Nd,l,Dd,a,r),mb.set(0,1),u=e.ray.intersectTriangle(vy,yy,vg,!1,mg),u===null))return;const d=e.ray.origin.distanceTo(mg);d<e.near||d>e.far||t.push({distance:d,point:mg.clone(),uv:Ls.getInterpolation(mg,vy,vg,yy,FT,mb,HT,new Fe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xy(n,e,t,i,a,r){Ld.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(gg.x=r*Ld.x-a*Ld.y,gg.y=a*Ld.x+r*Ld.y):gg.copy(Ld),n.copy(e),n.x+=gg.x,n.y+=gg.y,n.applyMatrix4(cB)}const _y=new J,zT=new J;class fB extends Sn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){_y.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(_y);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){_y.setFromMatrixPosition(e.matrixWorld),zT.setFromMatrixPosition(this.matrixWorld);const i=_y.distanceTo(zT)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),i>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const l=i[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const GT=new J,VT=new Rn,kT=new Rn,KP=new J,jT=new It,Ay=new J,gb=new ma,XT=new It,vb=new oh;class qM extends Li{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=BS,this.bindMatrix=new It,this.bindMatrixInverse=new It,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ca),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ay),this.boundingBox.expandByPoint(Ay)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ma),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ay),this.boundingSphere.expandByPoint(Ay)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gb.copy(this.boundingSphere),gb.applyMatrix4(a),e.ray.intersectsSphere(gb)!==!1&&(XT.copy(a).invert(),vb.copy(e.ray).applyMatrix4(XT),!(this.boundingBox!==null&&vb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,vb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rn,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===BS?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Hw?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;VT.fromBufferAttribute(a.attributes.skinIndex,e),kT.fromBufferAttribute(a.attributes.skinWeight,e),GT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=kT.getComponent(r);if(l!==0){const u=VT.getComponent(r);jT.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(KP.copy(GT).applyMatrix4(jT),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class U_ extends Sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class nl extends li{constructor(e=null,t=1,i=1,a,r,l,u,d,p=da,m=da,v,x){super(null,l,u,d,p,m,a,r,v,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const YT=new It,WP=new It;class x0{constructor(e=[],t=[]){this.uuid=Zs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new It)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new It;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,l=e.length;r<l;r++){const u=e[r]?e[r].matrixWorld:WP;YT.multiplyMatrices(u,t[r]),YT.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new x0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new nl(t,e,e,Xa,ys);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let l=t[r];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),l=new U_),this.bones.push(l),this.boneInverses.push(new It().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const l=t[a];e.bones.push(l.uuid);const u=i[a];e.boneInverses.push(u.toArray())}return e}}class Qf extends wn{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ud=new It,qT=new It,by=[],JT=new Ca,ZP=new It,yg=new Li,xg=new ma;class JM extends Li{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Qf(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,ZP)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ca),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Ud),JT.copy(e.boundingBox).applyMatrix4(Ud),this.boundingBox.union(JT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ma),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Ud),xg.copy(e.boundingSphere).applyMatrix4(Ud),this.boundingSphere.union(xg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,l=e*r+1;for(let u=0;u<i.length;u++)i[u]=a[l+u]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(yg.geometry=this.geometry,yg.material=this.material,yg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xg.copy(this.boundingSphere),xg.applyMatrix4(i),e.ray.intersectsSphere(xg)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,Ud),qT.multiplyMatrices(i,Ud),yg.matrixWorld=qT,yg.raycast(e,by);for(let l=0,u=by.length;l<u;l++){const d=by[l];d.instanceId=r,d.object=this,t.push(d)}by.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Qf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new nl(new Float32Array(a*this.count),a,this.count,E_,ys));const r=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const u=this.geometry.morphTargetsRelative?1:1-l,d=a*e;r[d]=u,r.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const yb=new J,QP=new J,$P=new Wt;class ql{constructor(e=new J(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=yb.subVectors(i,t).cross(QP.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(yb),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||$P.getNormalMatrix(e),a=this.coplanarPoint(yb).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vf=new ma,eI=new Fe(.5,.5),Sy=new J;class Cp{constructor(e=new ql,t=new ql,i=new ql,a=new ql,r=new ql,l=new ql){this.planes=[e,t,i,a,r,l]}set(e,t,i,a,r,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(a),u[4].copy(r),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ks,i=!1){const a=this.planes,r=e.elements,l=r[0],u=r[1],d=r[2],p=r[3],m=r[4],v=r[5],x=r[6],_=r[7],M=r[8],C=r[9],T=r[10],S=r[11],w=r[12],B=r[13],D=r[14],O=r[15];if(a[0].setComponents(p-l,_-m,S-M,O-w).normalize(),a[1].setComponents(p+l,_+m,S+M,O+w).normalize(),a[2].setComponents(p+u,_+v,S+C,O+B).normalize(),a[3].setComponents(p-u,_-v,S-C,O-B).normalize(),i)a[4].setComponents(d,x,T,D).normalize(),a[5].setComponents(p-d,_-x,S-T,O-D).normalize();else if(a[4].setComponents(p-d,_-x,S-T,O-D).normalize(),t===Ks)a[5].setComponents(p+d,_+x,S+T,O+D).normalize();else if(t===dp)a[5].setComponents(d,x,T,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),vf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vf)}intersectsSprite(e){vf.center.set(0,0,0);const t=eI.distanceTo(e.center);return vf.radius=.7071067811865476+t,vf.applyMatrix4(e.matrixWorld),this.intersectsSphere(vf)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(Sy.x=a.normal.x>0?e.max.x:e.min.x,Sy.y=a.normal.y>0?e.max.y:e.min.y,Sy.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Sy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Zo=new It,Qo=new Cp;class O_{constructor(){this.coordinateSystem=Ks}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Zo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Qo.setFromProjectionMatrix(Zo,a.coordinateSystem,a.reversedDepth),Qo.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Zo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Qo.setFromProjectionMatrix(Zo,a.coordinateSystem,a.reversedDepth),Qo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Zo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Qo.setFromProjectionMatrix(Zo,a.coordinateSystem,a.reversedDepth),Qo.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Zo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Qo.setFromProjectionMatrix(Zo,a.coordinateSystem,a.reversedDepth),Qo.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Zo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Qo.setFromProjectionMatrix(Zo,a.coordinateSystem,a.reversedDepth),Qo.containsPoint(e))return!0}return!1}clone(){return new O_}}function xb(n,e){return n-e}function tI(n,e){return n.z-e.z}function nI(n,e){return e.z-n.z}class iI{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=a}reset(){this.list.length=0,this.index=0}}const Bs=new It,aI=new ut(1,1,1),KT=new Cp,sI=new O_,My=new Ca,yf=new ma,_g=new J,WT=new J,rI=new J,_b=new iI,ka=new Li,Ey=[];function oI(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let l=0;l<i;l++)e.setComponent(r+t,l,n.getComponent(r,l))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function xf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class hB extends Li{constructor(e,t,i=t*2,a){super(new qt,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new nl(t,e,e,Xa,ys);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new nl(t,e,e,g0,ac);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new nl(t,e,e,Xa,ys);i.colorSpace=bn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const l=e.getAttribute(r),{array:u,itemSize:d,normalized:p}=l,m=new u.constructor(i*d),v=new wn(m,d,p);t.setAttribute(r,v)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new wn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ca);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Bs),this.getBoundingBoxAt(r,My).applyMatrix4(Bs),e.union(My)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ma);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Bs),this.getBoundingSphereAt(r,yf).applyMatrix4(Bs),e.union(yf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(xb),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Bs.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(aI.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?l.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(xb),d=this._availableGeometryIds.shift(),r[d]=a):(d=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(d,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(a&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const v=t.getAttribute(m),x=i.getAttribute(m);oI(v,x,d);const _=v.itemSize;for(let M=v.count,C=p;M<C;M++){const T=d+M;for(let S=0;S<_;S++)x.setComponent(T,S,0)}x.needsUpdate=!0,x.addUpdateRange(d*_,p*_)}if(a){const m=u.indexStart,v=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let x=0;x<l.count;x++)r.setX(m+x,d+l.getX(x));for(let x=l.count,_=v;x<_;x++)r.setX(m+x,d);r.needsUpdate=!0,r.addUpdateRange(m,u.reservedIndexCount)}return u.start=a?u.indexStart:u.vertexStart,u.count=a?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),r=this.geometry;for(let l=0,u=i.length;l<u;l++){const d=a[l],p=i[d];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:v,reservedIndexCount:x}=p,_=r.index,M=_.array,C=e-v;for(let T=m;T<m+x;T++)M[T]=M[T]+C;_.array.copyWithin(t,m,m+x),_.addUpdateRange(t,x),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:v}=p,x=r.attributes;for(const _ in x){const M=x[_],{array:C,itemSize:T}=M;C.copyWithin(e*T,m*T,(m+v)*T),M.addUpdateRange(e*T,v*T)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new Ca,l=i.index,u=i.attributes.position;for(let d=a.start,p=a.start+a.count;d<p;d++){let m=d;l&&(m=l.getX(m)),r.expandByPoint(_g.fromBufferAttribute(u,m))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new ma;this.getBoundingBoxAt(e,My),My.getCenter(r.center);const l=i.index,u=i.attributes.position;let d=0;for(let p=a.start,m=a.start+a.count;p<m;p++){let v=p;l&&(v=l.getX(v)),_g.fromBufferAttribute(u,v),d=Math.max(d,r.center.distanceToSquared(_g))}r.radius=Math.sqrt(d),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(xb);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);xf(this._multiDrawCounts,a),xf(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),xf(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),xf(u.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),xf(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new qt,this._initializeGeometry(r));const l=this.geometry;r.index&&xf(r.index.array,l.index.array);for(const u in r.attributes)xf(r.attributes[u].array,l.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,l=this.geometry;ka.material=this.material,ka.geometry.index=l.index,ka.geometry.attributes=l.attributes,ka.geometry.boundingBox===null&&(ka.geometry.boundingBox=new Ca),ka.geometry.boundingSphere===null&&(ka.geometry.boundingSphere=new ma);for(let u=0,d=i.length;u<d;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,m=a[p];ka.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,ka.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,ka.geometry.boundingBox),this.getBoundingSphereAt(p,ka.geometry.boundingSphere),ka.raycast(e,Ey);for(let v=0,x=Ey.length;v<x;v++){const _=Ey[v];_.object=this,_.batchId=u,t.push(_)}Ey.length=0}ka.material=null,ka.geometry.index=null,ka.geometry.attributes={},ka.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,M=_.image.data,C=i.isArrayCamera?sI:KT;x&&!i.isArrayCamera&&(Bs.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),KT.setFromProjectionMatrix(Bs,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){Bs.copy(this.matrixWorld).invert(),_g.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Bs),WT.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Bs);for(let B=0,D=d.length;B<D;B++)if(d[B].visible&&d[B].active){const O=d[B].geometryIndex;this.getMatrixAt(B,Bs),this.getBoundingSphereAt(O,yf).applyMatrix4(Bs);let I=!1;if(x&&(I=!C.intersectsSphere(yf,i)),!I){const F=v[O],z=rI.subVectors(yf.center,_g).dot(WT);_b.push(F.start,F.count,z,B)}}const S=_b.list,w=this.customSort;w===null?S.sort(r.transparent?nI:tI):w.call(this,S,i);for(let B=0,D=S.length;B<D;B++){const O=S[B];p[T]=O.start*u,m[T]=O.count,M[T]=O.index,T++}_b.reset()}else for(let S=0,w=d.length;S<w;S++)if(d[S].visible&&d[S].active){const B=d[S].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(S,Bs),this.getBoundingSphereAt(B,yf).applyMatrix4(Bs),D=!C.intersectsSphere(yf,i)),!D){const O=v[B];p[T]=O.start*u,m[T]=O.count,M[T]=S,T++}}_.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,l){this.onBeforeRender(e,null,a,r,l)}}class qa extends Zi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Qx=new J,$x=new J,ZT=new It,Ag=new oh,Ty=new ma,Ab=new J,QT=new J;class sc extends Sn{constructor(e=new qt,t=new qa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)Qx.fromBufferAttribute(t,a-1),$x.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=Qx.distanceTo($x);e.setAttribute("lineDistance",new At(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ty.copy(i.boundingSphere),Ty.applyMatrix4(a),Ty.radius+=r,e.ray.intersectsSphere(Ty)===!1)return;ZT.copy(a).invert(),Ag.copy(e.ray).applyMatrix4(ZT);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const _=Math.max(0,l.start),M=Math.min(m.count,l.start+l.count);for(let C=_,T=M-1;C<T;C+=p){const S=m.getX(C),w=m.getX(C+1),B=Cy(this,e,Ag,d,S,w,C);B&&t.push(B)}if(this.isLineLoop){const C=m.getX(M-1),T=m.getX(_),S=Cy(this,e,Ag,d,C,T,M-1);S&&t.push(S)}}else{const _=Math.max(0,l.start),M=Math.min(x.count,l.start+l.count);for(let C=_,T=M-1;C<T;C+=p){const S=Cy(this,e,Ag,d,C,C+1,C);S&&t.push(S)}if(this.isLineLoop){const C=Cy(this,e,Ag,d,M-1,_,M-1);C&&t.push(C)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Cy(n,e,t,i,a,r,l){const u=n.geometry.attributes.position;if(Qx.fromBufferAttribute(u,a),$x.fromBufferAttribute(u,r),t.distanceSqToSegment(Qx,$x,Ab,QT)>i)return;Ab.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(Ab);if(!(p<e.near||p>e.far))return{distance:p,point:QT.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const $T=new J,eC=new J;class mo extends sc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)$T.fromBufferAttribute(t,a),eC.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+$T.distanceTo(eC);e.setAttribute("lineDistance",new At(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class KM extends sc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class P_ extends Zi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const tC=new It,LS=new oh,Ry=new ma,wy=new J;class WM extends Sn{constructor(e=new qt,t=new P_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ry.copy(i.boundingSphere),Ry.applyMatrix4(a),Ry.radius+=r,e.ray.intersectsSphere(Ry)===!1)return;tC.copy(a).invert(),LS.copy(e.ray).applyMatrix4(tC);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,l.start),_=Math.min(p.count,l.start+l.count);for(let M=x,C=_;M<C;M++){const T=p.getX(M);wy.fromBufferAttribute(v,T),nC(wy,T,d,a,e,t,this)}}else{const x=Math.max(0,l.start),_=Math.min(v.count,l.start+l.count);for(let M=x,C=_;M<C;M++)wy.fromBufferAttribute(v,M),nC(wy,M,d,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function nC(n,e,t,i,a,r,l){const u=LS.distanceSqToPoint(n);if(u<t){const d=new J;LS.closestPointToPoint(n,d),d.applyMatrix4(i);const p=a.ray.origin.distanceTo(d);if(p<a.near||p>a.far)return;r.push({distance:p,distanceToRay:Math.sqrt(u),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class dB extends li{constructor(e,t,i,a,r=vi,l=vi,u,d,p){super(e,t,i,a,r,l,u,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function v(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class lI extends dB{constructor(e,t,i,a,r,l,u,d){super({},e,t,i,a,r,l,u,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class cI extends li{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=da,this.minFilter=da,this.generateMipmaps=!1,this.needsUpdate=!0}}class I_ extends li{constructor(e,t,i,a,r,l,u,d,p,m,v,x){super(null,l,u,d,p,m,a,r,v,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uI extends I_{constructor(e,t,i,a,r,l){super(e,t,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Js,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fI extends I_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,ic),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hI extends li{constructor(e,t,i,a,r,l,u,d,p){super(e,t,i,a,r,l,u,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class F_ extends li{constructor(e,t,i=ac,a,r,l,u=da,d=da,p,m=cp,v=1){if(m!==cp&&m!==up)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:v};super(x,a,r,l,u,d,m,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ou(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class H_ extends qt{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const l=[],u=[],d=[],p=[],m=t/2,v=Math.PI/2*e,x=t,_=2*v+x,M=i*2+r,C=a+1,T=new J,S=new J;for(let w=0;w<=M;w++){let B=0,D=0,O=0,I=0;if(w<=i){const P=w/i,U=P*Math.PI/2;D=-m-e*Math.cos(U),O=e*Math.sin(U),I=-e*Math.cos(U),B=P*v}else if(w<=i+r){const P=(w-i)/r;D=-m+P*t,O=e,I=0,B=v+P*x}else{const P=(w-i-r)/i,U=P*Math.PI/2;D=m+e*Math.sin(U),O=e*Math.cos(U),I=e*Math.sin(U),B=v+x+P*v}const F=Math.max(0,Math.min(1,B/_));let z=0;w===0?z=.5/a:w===M&&(z=-.5/a);for(let P=0;P<=a;P++){const U=P/a,X=U*Math.PI*2,ce=Math.sin(X),se=Math.cos(X);S.x=-O*se,S.y=D,S.z=O*ce,u.push(S.x,S.y,S.z),T.set(-O*se,I,O*ce),T.normalize(),d.push(T.x,T.y,T.z),p.push(U+z,F)}if(w>0){const P=(w-1)*C;for(let U=0;U<a;U++){const X=P+U,ce=P+U+1,se=w*C+U,pe=w*C+U+1;l.push(X,ce,se),l.push(ce,pe,se)}}}this.setIndex(l),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new H_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class z_ extends qt{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],l=[],u=[],d=[],p=new J,m=new Fe;l.push(0,0,0),u.push(0,0,1),d.push(.5,.5);for(let v=0,x=3;v<=t;v++,x+=3){const _=i+v/t*a;p.x=e*Math.cos(_),p.y=e*Math.sin(_),l.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(l[x]/e+1)/2,m.y=(l[x+1]/e+1)/2,d.push(m.x,m.y)}for(let v=1;v<=t;v++)r.push(v,v+1,0);this.setIndex(r),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _0 extends qt{constructor(e=1,t=1,i=1,a=32,r=1,l=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:l,thetaStart:u,thetaLength:d};const p=this;a=Math.floor(a),r=Math.floor(r);const m=[],v=[],x=[],_=[];let M=0;const C=[],T=i/2;let S=0;w(),l===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new At(v,3)),this.setAttribute("normal",new At(x,3)),this.setAttribute("uv",new At(_,2));function w(){const D=new J,O=new J;let I=0;const F=(t-e)/i;for(let z=0;z<=r;z++){const P=[],U=z/r,X=U*(t-e)+e;for(let ce=0;ce<=a;ce++){const se=ce/a,pe=se*d+u,Ae=Math.sin(pe),j=Math.cos(pe);O.x=X*Ae,O.y=-U*i+T,O.z=X*j,v.push(O.x,O.y,O.z),D.set(Ae,F,j).normalize(),x.push(D.x,D.y,D.z),_.push(se,1-U),P.push(M++)}C.push(P)}for(let z=0;z<a;z++)for(let P=0;P<r;P++){const U=C[P][z],X=C[P+1][z],ce=C[P+1][z+1],se=C[P][z+1];(e>0||P!==0)&&(m.push(U,X,se),I+=3),(t>0||P!==r-1)&&(m.push(X,ce,se),I+=3)}p.addGroup(S,I,0),S+=I}function B(D){const O=M,I=new Fe,F=new J;let z=0;const P=D===!0?e:t,U=D===!0?1:-1;for(let ce=1;ce<=a;ce++)v.push(0,T*U,0),x.push(0,U,0),_.push(.5,.5),M++;const X=M;for(let ce=0;ce<=a;ce++){const pe=ce/a*d+u,Ae=Math.cos(pe),j=Math.sin(pe);F.x=P*j,F.y=T*U,F.z=P*Ae,v.push(F.x,F.y,F.z),x.push(0,U,0),I.x=Ae*.5+.5,I.y=j*.5*U+.5,_.push(I.x,I.y),M++}for(let ce=0;ce<a;ce++){const se=O+ce,pe=X+ce;D===!0?m.push(pe,pe+1,se):m.push(pe+1,pe,se),z+=3}p.addGroup(S,z,D===!0?1:2),S+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class A0 extends _0{constructor(e=1,t=1,i=32,a=1,r=!1,l=0,u=Math.PI*2){super(0,e,t,i,a,r,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:l,thetaLength:u}}static fromJSON(e){return new A0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yu extends qt{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],l=[];u(a),p(i),m(),this.setAttribute("position",new At(r,3)),this.setAttribute("normal",new At(r.slice(),3)),this.setAttribute("uv",new At(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(w){const B=new J,D=new J,O=new J;for(let I=0;I<t.length;I+=3)_(t[I+0],B),_(t[I+1],D),_(t[I+2],O),d(B,D,O,w)}function d(w,B,D,O){const I=O+1,F=[];for(let z=0;z<=I;z++){F[z]=[];const P=w.clone().lerp(D,z/I),U=B.clone().lerp(D,z/I),X=I-z;for(let ce=0;ce<=X;ce++)ce===0&&z===I?F[z][ce]=P:F[z][ce]=P.clone().lerp(U,ce/X)}for(let z=0;z<I;z++)for(let P=0;P<2*(I-z)-1;P++){const U=Math.floor(P/2);P%2===0?(x(F[z][U+1]),x(F[z+1][U]),x(F[z][U])):(x(F[z][U+1]),x(F[z+1][U+1]),x(F[z+1][U]))}}function p(w){const B=new J;for(let D=0;D<r.length;D+=3)B.x=r[D+0],B.y=r[D+1],B.z=r[D+2],B.normalize().multiplyScalar(w),r[D+0]=B.x,r[D+1]=B.y,r[D+2]=B.z}function m(){const w=new J;for(let B=0;B<r.length;B+=3){w.x=r[B+0],w.y=r[B+1],w.z=r[B+2];const D=T(w)/2/Math.PI+.5,O=S(w)/Math.PI+.5;l.push(D,1-O)}M(),v()}function v(){for(let w=0;w<l.length;w+=6){const B=l[w+0],D=l[w+2],O=l[w+4],I=Math.max(B,D,O),F=Math.min(B,D,O);I>.9&&F<.1&&(B<.2&&(l[w+0]+=1),D<.2&&(l[w+2]+=1),O<.2&&(l[w+4]+=1))}}function x(w){r.push(w.x,w.y,w.z)}function _(w,B){const D=w*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function M(){const w=new J,B=new J,D=new J,O=new J,I=new Fe,F=new Fe,z=new Fe;for(let P=0,U=0;P<r.length;P+=9,U+=6){w.set(r[P+0],r[P+1],r[P+2]),B.set(r[P+3],r[P+4],r[P+5]),D.set(r[P+6],r[P+7],r[P+8]),I.set(l[U+0],l[U+1]),F.set(l[U+2],l[U+3]),z.set(l[U+4],l[U+5]),O.copy(w).add(B).add(D).divideScalar(3);const X=T(O);C(I,U+0,w,X),C(F,U+2,B,X),C(z,U+4,D,X)}}function C(w,B,D,O){O<0&&w.x===1&&(l[B]=w.x-1),D.x===0&&D.z===0&&(l[B]=O/2/Math.PI+.5)}function T(w){return Math.atan2(w.z,-w.x)}function S(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yu(e.vertices,e.indices,e.radius,e.details)}}class G_ extends yu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new G_(e.radius,e.detail)}}const By=new J,Dy=new J,bb=new J,Ny=new Ls;class pB extends qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(Yf*t),l=e.getIndex(),u=e.getAttribute("position"),d=l?l.count:u.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),x={},_=[];for(let M=0;M<d;M+=3){l?(p[0]=l.getX(M),p[1]=l.getX(M+1),p[2]=l.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:C,b:T,c:S}=Ny;if(C.fromBufferAttribute(u,p[0]),T.fromBufferAttribute(u,p[1]),S.fromBufferAttribute(u,p[2]),Ny.getNormal(bb),v[0]=`${Math.round(C.x*a)},${Math.round(C.y*a)},${Math.round(C.z*a)}`,v[1]=`${Math.round(T.x*a)},${Math.round(T.y*a)},${Math.round(T.z*a)}`,v[2]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let w=0;w<3;w++){const B=(w+1)%3,D=v[w],O=v[B],I=Ny[m[w]],F=Ny[m[B]],z=`${D}_${O}`,P=`${O}_${D}`;P in x&&x[P]?(bb.dot(x[P].normal)<=r&&(_.push(I.x,I.y,I.z),_.push(F.x,F.y,F.z)),x[P]=null):z in x||(x[z]={index0:p[w],index1:p[B],normal:bb.clone()})}}for(const M in x)if(x[M]){const{index0:C,index1:T}=x[M];By.fromBufferAttribute(u,C),Dy.fromBufferAttribute(u,T),_.push(By.x,By.y,By.z),_.push(Dy.x,Dy.y,Dy.z)}this.setAttribute("position",new At(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class go{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let l;t?l=t:l=e*i[r-1];let u=0,d=r-1,p;for(;u<=d;)if(a=Math.floor(u+(d-u)/2),p=i[a]-l,p<0)u=a+1;else if(p>0)d=a-1;else{d=a;break}if(a=d,i[a]===l)return a/(r-1);const m=i[a],x=i[a+1]-m,_=(l-m)/x;return(a+_)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const l=this.getPoint(a),u=this.getPoint(r),d=t||(l.isVector2?new Fe:new J);return d.copy(u).sub(l).normalize(),d}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new J,a=[],r=[],l=[],u=new J,d=new It;for(let _=0;_<=e;_++){const M=_/e;a[_]=this.getTangentAt(M,new J)}r[0]=new J,l[0]=new J;let p=Number.MAX_VALUE;const m=Math.abs(a[0].x),v=Math.abs(a[0].y),x=Math.abs(a[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),u.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],u),l[0].crossVectors(a[0],r[0]);for(let _=1;_<=e;_++){if(r[_]=r[_-1].clone(),l[_]=l[_-1].clone(),u.crossVectors(a[_-1],a[_]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Gt(a[_-1].dot(a[_]),-1,1));r[_].applyMatrix4(d.makeRotationAxis(u,M))}l[_].crossVectors(a[_],r[_])}if(t===!0){let _=Math.acos(Gt(r[0].dot(r[e]),-1,1));_/=e,a[0].dot(u.crossVectors(r[0],r[e]))>0&&(_=-_);for(let M=1;M<=e;M++)r[M].applyMatrix4(d.makeRotationAxis(a[M],_*M)),l[M].crossVectors(a[M],r[M])}return{tangents:a,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class V_ extends go{constructor(e=0,t=0,i=1,a=1,r=0,l=Math.PI*2,u=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=u,this.aRotation=d}getPoint(e,t=new Fe){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(l?r=0:r=a),this.aClockwise===!0&&!l&&(r===a?r=-a:r=r-a);const u=this.aStartAngle+e*r;let d=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=d-this.aX,_=p-this.aY;d=x*m-_*v+this.aX,p=x*v+_*m+this.aY}return i.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mB extends V_{constructor(e,t,i,a,r,l){super(e,t,i,i,a,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function ZM(){let n=0,e=0,t=0,i=0;function a(r,l,u,d){n=r,e=u,t=-3*r+3*l-2*u-d,i=2*r-2*l+u+d}return{initCatmullRom:function(r,l,u,d,p){a(l,u,p*(u-r),p*(d-l))},initNonuniformCatmullRom:function(r,l,u,d,p,m,v){let x=(l-r)/p-(u-r)/(p+m)+(u-l)/m,_=(u-l)/m-(d-l)/(m+v)+(d-u)/v;x*=m,_*=m,a(l,u,x,_)},calc:function(r){const l=r*r,u=l*r;return n+e*r+t*l+i*u}}}const Ly=new J,Sb=new ZM,Mb=new ZM,Eb=new ZM;class gB extends go{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new J){const i=t,a=this.points,r=a.length,l=(r-(this.closed?0:1))*e;let u=Math.floor(l),d=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:d===0&&u===r-1&&(u=r-2,d=1);let p,m;this.closed||u>0?p=a[(u-1)%r]:(Ly.subVectors(a[0],a[1]).add(a[0]),p=Ly);const v=a[u%r],x=a[(u+1)%r];if(this.closed||u+2<r?m=a[(u+2)%r]:(Ly.subVectors(a[r-1],a[r-2]).add(a[r-1]),m=Ly),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(v),_),C=Math.pow(v.distanceToSquared(x),_),T=Math.pow(x.distanceToSquared(m),_);C<1e-4&&(C=1),M<1e-4&&(M=C),T<1e-4&&(T=C),Sb.initNonuniformCatmullRom(p.x,v.x,x.x,m.x,M,C,T),Mb.initNonuniformCatmullRom(p.y,v.y,x.y,m.y,M,C,T),Eb.initNonuniformCatmullRom(p.z,v.z,x.z,m.z,M,C,T)}else this.curveType==="catmullrom"&&(Sb.initCatmullRom(p.x,v.x,x.x,m.x,this.tension),Mb.initCatmullRom(p.y,v.y,x.y,m.y,this.tension),Eb.initCatmullRom(p.z,v.z,x.z,m.z,this.tension));return i.set(Sb.calc(d),Mb.calc(d),Eb.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new J().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iC(n,e,t,i,a){const r=(i-e)*.5,l=(a-t)*.5,u=n*n,d=n*u;return(2*t-2*i+r+l)*d+(-3*t+3*i-2*r-l)*u+r*n+t}function dI(n,e){const t=1-n;return t*t*e}function pI(n,e){return 2*(1-n)*n*e}function mI(n,e){return n*n*e}function Fg(n,e,t,i){return dI(n,e)+pI(n,t)+mI(n,i)}function gI(n,e){const t=1-n;return t*t*t*e}function vI(n,e){const t=1-n;return 3*t*t*n*e}function yI(n,e){return 3*(1-n)*n*n*e}function xI(n,e){return n*n*n*e}function Hg(n,e,t,i,a){return gI(n,e)+vI(n,t)+yI(n,i)+xI(n,a)}class QM extends go{constructor(e=new Fe,t=new Fe,i=new Fe,a=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new Fe){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(Hg(e,a.x,r.x,l.x,u.x),Hg(e,a.y,r.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vB extends go{constructor(e=new J,t=new J,i=new J,a=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new J){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(Hg(e,a.x,r.x,l.x,u.x),Hg(e,a.y,r.y,l.y,u.y),Hg(e,a.z,r.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $M extends go{constructor(e=new Fe,t=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yB extends go{constructor(e=new J,t=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new J){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new J){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e1 extends go{constructor(e=new Fe,t=new Fe,i=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Fe){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(Fg(e,a.x,r.x,l.x),Fg(e,a.y,r.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t1 extends go{constructor(e=new J,t=new J,i=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new J){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(Fg(e,a.x,r.x,l.x),Fg(e,a.y,r.y,l.y),Fg(e,a.z,r.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n1 extends go{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Fe){const i=t,a=this.points,r=(a.length-1)*e,l=Math.floor(r),u=r-l,d=a[l===0?l:l-1],p=a[l],m=a[l>a.length-2?a.length-1:l+1],v=a[l>a.length-3?a.length-1:l+2];return i.set(iC(u,d.x,p.x,m.x,v.x),iC(u,d.y,p.y,m.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new Fe().fromArray(a))}return this}}var e_=Object.freeze({__proto__:null,ArcCurve:mB,CatmullRomCurve3:gB,CubicBezierCurve:QM,CubicBezierCurve3:vB,EllipseCurve:V_,LineCurve:$M,LineCurve3:yB,QuadraticBezierCurve:e1,QuadraticBezierCurve3:t1,SplineCurve:n1});class xB extends go{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new e_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const l=a[r]-i,u=this.curves[r],d=u.getLength(),p=d===0?0:1-l/d;return u.getPointAt(p,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const l=r[a],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,d=l.getPoints(u);for(let p=0;p<d.length;p++){const m=d[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new e_[a.type]().fromJSON(a))}return this}}class t_ extends xB{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new $M(this.currentPoint.clone(),new Fe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new e1(this.currentPoint.clone(),new Fe(e,t),new Fe(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,l){const u=new QM(this.currentPoint.clone(),new Fe(e,t),new Fe(i,a),new Fe(r,l));return this.curves.push(u),this.currentPoint.set(r,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new n1(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+u,t+d,i,a,r,l),this}absarc(e,t,i,a,r,l){return this.absellipse(e,t,i,i,a,r,l),this}ellipse(e,t,i,a,r,l,u,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,a,r,l,u,d),this}absellipse(e,t,i,a,r,l,u,d){const p=new V_(e,t,i,a,r,l,u,d);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class qf extends t_{constructor(e){super(e),this.uuid=Zs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new t_().fromJSON(a))}return this}}function _I(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=_B(n,0,a,t,!0);const l=[];if(!r||r.next===r.prev)return l;let u,d,p;if(i&&(r=EI(n,e,r,t)),n.length>80*t){u=1/0,d=1/0;let m=-1/0,v=-1/0;for(let x=t;x<a;x+=t){const _=n[x],M=n[x+1];_<u&&(u=_),M<d&&(d=M),_>m&&(m=_),M>v&&(v=M)}p=Math.max(m-u,v-d),p=p!==0?32767/p:0}return e0(r,l,t,u,d,p,0),l}function _B(n,e,t,i,a){let r;if(a===PI(n,e,t,i)>0)for(let l=e;l<t;l+=i)r=aC(l/i|0,n[l],n[l+1],r);else for(let l=t-i;l>=e;l-=i)r=aC(l/i|0,n[l],n[l+1],r);return r&&vp(r,r.next)&&(n0(r),r=r.next),r}function $f(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(vp(t,t.next)||mi(t.prev,t,t.next)===0)){if(n0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function e0(n,e,t,i,a,r,l){if(!n)return;!l&&r&&BI(n,i,a,r);let u=n;for(;n.prev!==n.next;){const d=n.prev,p=n.next;if(r?bI(n,i,a,r):AI(n)){e.push(d.i,n.i,p.i),n0(n),n=p.next,u=p.next;continue}if(n=p,n===u){l?l===1?(n=SI($f(n),e),e0(n,e,t,i,a,r,2)):l===2&&MI(n,e,t,i,a,r):e0($f(n),e,t,i,a,r,1);break}}}function AI(n){const e=n.prev,t=n,i=n.next;if(mi(e,t,i)>=0)return!1;const a=e.x,r=t.x,l=i.x,u=e.y,d=t.y,p=i.y,m=Math.min(a,r,l),v=Math.min(u,d,p),x=Math.max(a,r,l),_=Math.max(u,d,p);let M=i.next;for(;M!==e;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=_&&Tg(a,u,r,d,l,p,M.x,M.y)&&mi(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function bI(n,e,t,i){const a=n.prev,r=n,l=n.next;if(mi(a,r,l)>=0)return!1;const u=a.x,d=r.x,p=l.x,m=a.y,v=r.y,x=l.y,_=Math.min(u,d,p),M=Math.min(m,v,x),C=Math.max(u,d,p),T=Math.max(m,v,x),S=US(_,M,e,t,i),w=US(C,T,e,t,i);let B=n.prevZ,D=n.nextZ;for(;B&&B.z>=S&&D&&D.z<=w;){if(B.x>=_&&B.x<=C&&B.y>=M&&B.y<=T&&B!==a&&B!==l&&Tg(u,m,d,v,p,x,B.x,B.y)&&mi(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=_&&D.x<=C&&D.y>=M&&D.y<=T&&D!==a&&D!==l&&Tg(u,m,d,v,p,x,D.x,D.y)&&mi(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=S;){if(B.x>=_&&B.x<=C&&B.y>=M&&B.y<=T&&B!==a&&B!==l&&Tg(u,m,d,v,p,x,B.x,B.y)&&mi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=w;){if(D.x>=_&&D.x<=C&&D.y>=M&&D.y<=T&&D!==a&&D!==l&&Tg(u,m,d,v,p,x,D.x,D.y)&&mi(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function SI(n,e){let t=n;do{const i=t.prev,a=t.next.next;!vp(i,a)&&bB(i,t,t.next,a)&&t0(i,a)&&t0(a,i)&&(e.push(i.i,t.i,a.i),n0(t),n0(t.next),t=n=a),t=t.next}while(t!==n);return $f(t)}function MI(n,e,t,i,a,r){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&LI(l,u)){let d=SB(l,u);l=$f(l,l.next),d=$f(d,d.next),e0(l,e,t,i,a,r,0),e0(d,e,t,i,a,r,0);return}u=u.next}l=l.next}while(l!==n)}function EI(n,e,t,i){const a=[];for(let r=0,l=e.length;r<l;r++){const u=e[r]*i,d=r<l-1?e[r+1]*i:n.length,p=_B(n,u,d,i,!1);p===p.next&&(p.steiner=!0),a.push(NI(p))}a.sort(TI);for(let r=0;r<a.length;r++)t=CI(a[r],t);return t}function TI(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function CI(n,e){const t=RI(n,e);if(!t)return e;const i=SB(t,n);return $f(i,i.next),$f(t,t.next)}function RI(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,l;if(vp(n,t))return t;do{if(vp(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>r&&(r=v,l=t.x<t.next.x?t:t.next,v===i))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,d=l.x,p=l.y;let m=1/0;t=l;do{if(i>=t.x&&t.x>=d&&i!==t.x&&AB(a<p?i:r,a,d,p,a<p?r:i,a,t.x,t.y)){const v=Math.abs(a-t.y)/(i-t.x);t0(t,n)&&(v<m||v===m&&(t.x>l.x||t.x===l.x&&wI(l,t)))&&(l=t,m=v)}t=t.next}while(t!==u);return l}function wI(n,e){return mi(n.prev,n,e.prev)<0&&mi(e.next,n,n.next)<0}function BI(n,e,t,i){let a=n;do a.z===0&&(a.z=US(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,DI(a)}function DI(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let l=i,u=0;for(let p=0;p<t&&(u++,l=l.nextZ,!!l);p++);let d=t;for(;u>0||d>0&&l;)u!==0&&(d===0||!l||i.z<=l.z)?(a=i,i=i.nextZ,u--):(a=l,l=l.nextZ,d--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=l}r.nextZ=null,t*=2}while(e>1);return n}function US(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function NI(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function AB(n,e,t,i,a,r,l,u){return(a-l)*(e-u)>=(n-l)*(r-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(r-u)>=(a-l)*(i-u)}function Tg(n,e,t,i,a,r,l,u){return!(n===l&&e===u)&&AB(n,e,t,i,a,r,l,u)}function LI(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!UI(n,e)&&(t0(n,e)&&t0(e,n)&&OI(n,e)&&(mi(n.prev,n,e.prev)||mi(n,e.prev,e))||vp(n,e)&&mi(n.prev,n,n.next)>0&&mi(e.prev,e,e.next)>0)}function mi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function vp(n,e){return n.x===e.x&&n.y===e.y}function bB(n,e,t,i){const a=Oy(mi(n,e,t)),r=Oy(mi(n,e,i)),l=Oy(mi(t,i,n)),u=Oy(mi(t,i,e));return!!(a!==r&&l!==u||a===0&&Uy(n,t,e)||r===0&&Uy(n,i,e)||l===0&&Uy(t,n,i)||u===0&&Uy(t,e,i))}function Uy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Oy(n){return n>0?1:n<0?-1:0}function UI(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&bB(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function t0(n,e){return mi(n.prev,n,n.next)<0?mi(n,e,n.next)>=0&&mi(n,n.prev,e)>=0:mi(n,e,n.prev)<0||mi(n,n.next,e)<0}function OI(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function SB(n,e){const t=OS(n.i,n.x,n.y),i=OS(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function aC(n,e,t,i){const a=OS(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function n0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function OS(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function PI(n,e,t,i){let a=0;for(let r=e,l=t-i;r<t;r+=i)a+=(n[l]-n[r])*(n[r+1]+n[l+1]),l=r;return a}class II{static triangulate(e,t,i=2){return _I(e,t,i)}}class uo{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return uo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];sC(e),rC(i,e);let l=e.length;t.forEach(sC);for(let d=0;d<t.length;d++)a.push(l),l+=t[d].length,rC(i,t[d]);const u=II.triangulate(i,a);for(let d=0;d<u.length;d+=3)r.push(u.slice(d,d+3));return r}}function sC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function rC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class k_ extends qt{constructor(e=new qf([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let u=0,d=e.length;u<d;u++){const p=e[u];l(p)}this.setAttribute("position",new At(a,3)),this.setAttribute("uv",new At(r,2)),this.computeVertexNormals();function l(u){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:_-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:FI;let B,D=!1,O,I,F,z;S&&(B=S.getSpacedPoints(m),D=!0,x=!1,O=S.computeFrenetFrames(m,!1),I=new J,F=new J,z=new J),x||(T=0,_=0,M=0,C=0);const P=u.extractPoints(p);let U=P.shape;const X=P.holes;if(!uo.isClockWise(U)){U=U.reverse();for(let Ge=0,Ne=X.length;Ge<Ne;Ge++){const Je=X[Ge];uo.isClockWise(Je)&&(X[Ge]=Je.reverse())}}function se(Ge){const Je=10000000000000001e-36;let Oe=Ge[0];for(let it=1;it<=Ge.length;it++){const qe=it%Ge.length,$e=Ge[qe],Dt=$e.x-Oe.x,Ut=$e.y-Oe.y,K=Dt*Dt+Ut*Ut,H=Math.max(Math.abs($e.x),Math.abs($e.y),Math.abs(Oe.x),Math.abs(Oe.y)),ge=Je*H*H;if(K<=ge){Ge.splice(qe,1),it--;continue}Oe=$e}}se(U),X.forEach(se);const pe=X.length,Ae=U;for(let Ge=0;Ge<pe;Ge++){const Ne=X[Ge];U=U.concat(Ne)}function j(Ge,Ne,Je){return Ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ge.clone().addScaledVector(Ne,Je)}const Z=U.length;function Q(Ge,Ne,Je){let Oe,it,qe;const $e=Ge.x-Ne.x,Dt=Ge.y-Ne.y,Ut=Je.x-Ge.x,K=Je.y-Ge.y,H=$e*$e+Dt*Dt,ge=$e*K-Dt*Ut;if(Math.abs(ge)>Number.EPSILON){const Re=Math.sqrt(H),Xe=Math.sqrt(Ut*Ut+K*K),we=Ne.x-Dt/Re,xt=Ne.y+$e/Re,tt=Je.x-K/Xe,pt=Je.y+Ut/Xe,gt=((tt-we)*K-(pt-xt)*Ut)/($e*K-Dt*Ut);Oe=we+$e*gt-Ge.x,it=xt+Dt*gt-Ge.y;const Ye=Oe*Oe+it*it;if(Ye<=2)return new Fe(Oe,it);qe=Math.sqrt(Ye/2)}else{let Re=!1;$e>Number.EPSILON?Ut>Number.EPSILON&&(Re=!0):$e<-Number.EPSILON?Ut<-Number.EPSILON&&(Re=!0):Math.sign(Dt)===Math.sign(K)&&(Re=!0),Re?(Oe=-Dt,it=$e,qe=Math.sqrt(H)):(Oe=$e,it=Dt,qe=Math.sqrt(H/2))}return new Fe(Oe/qe,it/qe)}const ve=[];for(let Ge=0,Ne=Ae.length,Je=Ne-1,Oe=Ge+1;Ge<Ne;Ge++,Je++,Oe++)Je===Ne&&(Je=0),Oe===Ne&&(Oe=0),ve[Ge]=Q(Ae[Ge],Ae[Je],Ae[Oe]);const ye=[];let Y,oe=ve.concat();for(let Ge=0,Ne=pe;Ge<Ne;Ge++){const Je=X[Ge];Y=[];for(let Oe=0,it=Je.length,qe=it-1,$e=Oe+1;Oe<it;Oe++,qe++,$e++)qe===it&&(qe=0),$e===it&&($e=0),Y[Oe]=Q(Je[Oe],Je[qe],Je[$e]);ye.push(Y),oe=oe.concat(Y)}let Be;if(T===0)Be=uo.triangulateShape(Ae,X);else{const Ge=[],Ne=[];for(let Je=0;Je<T;Je++){const Oe=Je/T,it=_*Math.cos(Oe*Math.PI/2),qe=M*Math.sin(Oe*Math.PI/2)+C;for(let $e=0,Dt=Ae.length;$e<Dt;$e++){const Ut=j(Ae[$e],ve[$e],qe);at(Ut.x,Ut.y,-it),Oe===0&&Ge.push(Ut)}for(let $e=0,Dt=pe;$e<Dt;$e++){const Ut=X[$e];Y=ye[$e];const K=[];for(let H=0,ge=Ut.length;H<ge;H++){const Re=j(Ut[H],Y[H],qe);at(Re.x,Re.y,-it),Oe===0&&K.push(Re)}Oe===0&&Ne.push(K)}}Be=uo.triangulateShape(Ge,Ne)}const De=Be.length,ue=M+C;for(let Ge=0;Ge<Z;Ge++){const Ne=x?j(U[Ge],oe[Ge],ue):U[Ge];D?(F.copy(O.normals[0]).multiplyScalar(Ne.x),I.copy(O.binormals[0]).multiplyScalar(Ne.y),z.copy(B[0]).add(F).add(I),at(z.x,z.y,z.z)):at(Ne.x,Ne.y,0)}for(let Ge=1;Ge<=m;Ge++)for(let Ne=0;Ne<Z;Ne++){const Je=x?j(U[Ne],oe[Ne],ue):U[Ne];D?(F.copy(O.normals[Ge]).multiplyScalar(Je.x),I.copy(O.binormals[Ge]).multiplyScalar(Je.y),z.copy(B[Ge]).add(F).add(I),at(z.x,z.y,z.z)):at(Je.x,Je.y,v/m*Ge)}for(let Ge=T-1;Ge>=0;Ge--){const Ne=Ge/T,Je=_*Math.cos(Ne*Math.PI/2),Oe=M*Math.sin(Ne*Math.PI/2)+C;for(let it=0,qe=Ae.length;it<qe;it++){const $e=j(Ae[it],ve[it],Oe);at($e.x,$e.y,v+Je)}for(let it=0,qe=X.length;it<qe;it++){const $e=X[it];Y=ye[it];for(let Dt=0,Ut=$e.length;Dt<Ut;Dt++){const K=j($e[Dt],Y[Dt],Oe);D?at(K.x,K.y+B[m-1].y,B[m-1].x+Je):at(K.x,K.y,v+Je)}}}Ue(),Ie();function Ue(){const Ge=a.length/3;if(x){let Ne=0,Je=Z*Ne;for(let Oe=0;Oe<De;Oe++){const it=Be[Oe];Tt(it[2]+Je,it[1]+Je,it[0]+Je)}Ne=m+T*2,Je=Z*Ne;for(let Oe=0;Oe<De;Oe++){const it=Be[Oe];Tt(it[0]+Je,it[1]+Je,it[2]+Je)}}else{for(let Ne=0;Ne<De;Ne++){const Je=Be[Ne];Tt(Je[2],Je[1],Je[0])}for(let Ne=0;Ne<De;Ne++){const Je=Be[Ne];Tt(Je[0]+Z*m,Je[1]+Z*m,Je[2]+Z*m)}}i.addGroup(Ge,a.length/3-Ge,0)}function Ie(){const Ge=a.length/3;let Ne=0;lt(Ae,Ne),Ne+=Ae.length;for(let Je=0,Oe=X.length;Je<Oe;Je++){const it=X[Je];lt(it,Ne),Ne+=it.length}i.addGroup(Ge,a.length/3-Ge,1)}function lt(Ge,Ne){let Je=Ge.length;for(;--Je>=0;){const Oe=Je;let it=Je-1;it<0&&(it=Ge.length-1);for(let qe=0,$e=m+T*2;qe<$e;qe++){const Dt=Z*qe,Ut=Z*(qe+1),K=Ne+Oe+Dt,H=Ne+it+Dt,ge=Ne+it+Ut,Re=Ne+Oe+Ut;pn(K,H,ge,Re)}}}function at(Ge,Ne,Je){d.push(Ge),d.push(Ne),d.push(Je)}function Tt(Ge,Ne,Je){Bt(Ge),Bt(Ne),Bt(Je);const Oe=a.length/3,it=w.generateTopUV(i,a,Oe-3,Oe-2,Oe-1);ee(it[0]),ee(it[1]),ee(it[2])}function pn(Ge,Ne,Je,Oe){Bt(Ge),Bt(Ne),Bt(Oe),Bt(Ne),Bt(Je),Bt(Oe);const it=a.length/3,qe=w.generateSideWallUV(i,a,it-6,it-3,it-2,it-1);ee(qe[0]),ee(qe[1]),ee(qe[3]),ee(qe[1]),ee(qe[2]),ee(qe[3])}function Bt(Ge){a.push(d[Ge*3+0]),a.push(d[Ge*3+1]),a.push(d[Ge*3+2])}function ee(Ge){r.push(Ge.x),r.push(Ge.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return HI(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,l=e.shapes.length;r<l;r++){const u=t[e.shapes[r]];i.push(u)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new e_[a.type]().fromJSON(a)),new k_(i,e.options)}}const FI={generateTopUV:function(n,e,t,i,a){const r=e[t*3],l=e[t*3+1],u=e[i*3],d=e[i*3+1],p=e[a*3],m=e[a*3+1];return[new Fe(r,l),new Fe(u,d),new Fe(p,m)]},generateSideWallUV:function(n,e,t,i,a,r){const l=e[t*3],u=e[t*3+1],d=e[t*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[a*3],_=e[a*3+1],M=e[a*3+2],C=e[r*3],T=e[r*3+1],S=e[r*3+2];return Math.abs(u-m)<Math.abs(l-p)?[new Fe(l,1-d),new Fe(p,1-v),new Fe(x,1-M),new Fe(C,1-S)]:[new Fe(u,1-d),new Fe(m,1-v),new Fe(_,1-M),new Fe(T,1-S)]}};function HI(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class j_ extends yu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new j_(e.radius,e.detail)}}class X_ extends qt{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=Gt(a,0,Math.PI*2);const r=[],l=[],u=[],d=[],p=[],m=1/t,v=new J,x=new Fe,_=new J,M=new J,C=new J;let T=0,S=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:T=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,_.x=S*1,_.y=-T,_.z=S*0,C.copy(_),_.normalize(),d.push(_.x,_.y,_.z);break;case e.length-1:d.push(C.x,C.y,C.z);break;default:T=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,_.x=S*1,_.y=-T,_.z=S*0,M.copy(_),_.x+=C.x,_.y+=C.y,_.z+=C.z,_.normalize(),d.push(_.x,_.y,_.z),C.copy(M)}for(let w=0;w<=t;w++){const B=i+w*m*a,D=Math.sin(B),O=Math.cos(B);for(let I=0;I<=e.length-1;I++){v.x=e[I].x*D,v.y=e[I].y,v.z=e[I].x*O,l.push(v.x,v.y,v.z),x.x=w/t,x.y=I/(e.length-1),u.push(x.x,x.y);const F=d[3*I+0]*D,z=d[3*I+1],P=d[3*I+0]*O;p.push(F,z,P)}}for(let w=0;w<t;w++)for(let B=0;B<e.length-1;B++){const D=B+w*e.length,O=D,I=D+e.length,F=D+e.length+1,z=D+1;r.push(O,I,z),r.push(F,z,I)}this.setIndex(r),this.setAttribute("position",new At(l,3)),this.setAttribute("uv",new At(u,2)),this.setAttribute("normal",new At(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.points,e.segments,e.phiStart,e.phiLength)}}class b0 extends yu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new b0(e.radius,e.detail)}}class Rp extends qt{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,l=t/2,u=Math.floor(i),d=Math.floor(a),p=u+1,m=d+1,v=e/u,x=t/d,_=[],M=[],C=[],T=[];for(let S=0;S<m;S++){const w=S*x-l;for(let B=0;B<p;B++){const D=B*v-r;M.push(D,-w,0),C.push(0,0,1),T.push(B/u),T.push(1-S/d)}}for(let S=0;S<d;S++)for(let w=0;w<u;w++){const B=w+p*S,D=w+p*(S+1),O=w+1+p*(S+1),I=w+1+p*S;_.push(B,D,I),_.push(D,O,I)}this.setIndex(_),this.setAttribute("position",new At(M,3)),this.setAttribute("normal",new At(C,3)),this.setAttribute("uv",new At(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.width,e.height,e.widthSegments,e.heightSegments)}}class Y_ extends qt{constructor(e=.5,t=1,i=32,a=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:l},i=Math.max(3,i),a=Math.max(1,a);const u=[],d=[],p=[],m=[];let v=e;const x=(t-e)/a,_=new J,M=new Fe;for(let C=0;C<=a;C++){for(let T=0;T<=i;T++){const S=r+T/i*l;_.x=v*Math.cos(S),_.y=v*Math.sin(S),d.push(_.x,_.y,_.z),p.push(0,0,1),M.x=(_.x/t+1)/2,M.y=(_.y/t+1)/2,m.push(M.x,M.y)}v+=x}for(let C=0;C<a;C++){const T=C*(i+1);for(let S=0;S<i;S++){const w=S+T,B=w,D=w+i+1,O=w+i+2,I=w+1;u.push(B,D,I),u.push(D,O,I)}}this.setIndex(u),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(p,3)),this.setAttribute("uv",new At(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class q_ extends qt{constructor(e=new qf([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],l=[];let u=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(u,d,m),u+=d,d=0;this.setIndex(i),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(r,3)),this.setAttribute("uv",new At(l,2));function p(m){const v=a.length/3,x=m.extractPoints(t);let _=x.shape;const M=x.holes;uo.isClockWise(_)===!1&&(_=_.reverse());for(let T=0,S=M.length;T<S;T++){const w=M[T];uo.isClockWise(w)===!0&&(M[T]=w.reverse())}const C=uo.triangulateShape(_,M);for(let T=0,S=M.length;T<S;T++){const w=M[T];_=_.concat(w)}for(let T=0,S=_.length;T<S;T++){const w=_[T];a.push(w.x,w.y,0),r.push(0,0,1),l.push(w.x,w.y)}for(let T=0,S=C.length;T<S;T++){const w=C[T],B=w[0]+v,D=w[1]+v,O=w[2]+v;i.push(B,D,O),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return zI(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const l=t[e.shapes[a]];i.push(l)}return new q_(i,e.curveSegments)}}function zI(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class S0 extends qt{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(l+u,Math.PI);let p=0;const m=[],v=new J,x=new J,_=[],M=[],C=[],T=[];for(let S=0;S<=i;S++){const w=[],B=S/i;let D=0;S===0&&l===0?D=.5/t:S===i&&d===Math.PI&&(D=-.5/t);for(let O=0;O<=t;O++){const I=O/t;v.x=-e*Math.cos(a+I*r)*Math.sin(l+B*u),v.y=e*Math.cos(l+B*u),v.z=e*Math.sin(a+I*r)*Math.sin(l+B*u),M.push(v.x,v.y,v.z),x.copy(v).normalize(),C.push(x.x,x.y,x.z),T.push(I+D,1-B),w.push(p++)}m.push(w)}for(let S=0;S<i;S++)for(let w=0;w<t;w++){const B=m[S][w+1],D=m[S][w],O=m[S+1][w],I=m[S+1][w+1];(S!==0||l>0)&&_.push(B,D,I),(S!==i-1||d<Math.PI)&&_.push(D,O,I)}this.setIndex(_),this.setAttribute("position",new At(M,3)),this.setAttribute("normal",new At(C,3)),this.setAttribute("uv",new At(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class J_ extends yu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new J_(e.radius,e.detail)}}class K_ extends qt{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const l=[],u=[],d=[],p=[],m=new J,v=new J,x=new J;for(let _=0;_<=i;_++)for(let M=0;M<=a;M++){const C=M/a*r,T=_/i*Math.PI*2;v.x=(e+t*Math.cos(T))*Math.cos(C),v.y=(e+t*Math.cos(T))*Math.sin(C),v.z=t*Math.sin(T),u.push(v.x,v.y,v.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),x.subVectors(v,m).normalize(),d.push(x.x,x.y,x.z),p.push(M/a),p.push(_/i)}for(let _=1;_<=i;_++)for(let M=1;M<=a;M++){const C=(a+1)*_+M-1,T=(a+1)*(_-1)+M-1,S=(a+1)*(_-1)+M,w=(a+1)*_+M;l.push(C,T,w),l.push(T,S,w)}this.setIndex(l),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class W_ extends qt{constructor(e=1,t=.4,i=64,a=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:l},i=Math.floor(i),a=Math.floor(a);const u=[],d=[],p=[],m=[],v=new J,x=new J,_=new J,M=new J,C=new J,T=new J,S=new J;for(let B=0;B<=i;++B){const D=B/i*r*Math.PI*2;w(D,r,l,e,_),w(D+.01,r,l,e,M),T.subVectors(M,_),S.addVectors(M,_),C.crossVectors(T,S),S.crossVectors(C,T),C.normalize(),S.normalize();for(let O=0;O<=a;++O){const I=O/a*Math.PI*2,F=-t*Math.cos(I),z=t*Math.sin(I);v.x=_.x+(F*S.x+z*C.x),v.y=_.y+(F*S.y+z*C.y),v.z=_.z+(F*S.z+z*C.z),d.push(v.x,v.y,v.z),x.subVectors(v,_).normalize(),p.push(x.x,x.y,x.z),m.push(B/i),m.push(O/a)}}for(let B=1;B<=i;B++)for(let D=1;D<=a;D++){const O=(a+1)*(B-1)+(D-1),I=(a+1)*B+(D-1),F=(a+1)*B+D,z=(a+1)*(B-1)+D;u.push(O,I,z),u.push(I,F,z)}this.setIndex(u),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(p,3)),this.setAttribute("uv",new At(m,2));function w(B,D,O,I,F){const z=Math.cos(B),P=Math.sin(B),U=O/D*B,X=Math.cos(U);F.x=I*(2+X)*.5*z,F.y=I*(2+X)*P*.5,F.z=I*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Z_ extends qt{constructor(e=new t1(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const l=e.computeFrenetFrames(t,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new J,d=new J,p=new Fe;let m=new J;const v=[],x=[],_=[],M=[];C(),this.setIndex(M),this.setAttribute("position",new At(v,3)),this.setAttribute("normal",new At(x,3)),this.setAttribute("uv",new At(_,2));function C(){for(let B=0;B<t;B++)T(B);T(r===!1?t:0),w(),S()}function T(B){m=e.getPointAt(B/t,m);const D=l.normals[B],O=l.binormals[B];for(let I=0;I<=a;I++){const F=I/a*Math.PI*2,z=Math.sin(F),P=-Math.cos(F);d.x=P*D.x+z*O.x,d.y=P*D.y+z*O.y,d.z=P*D.z+z*O.z,d.normalize(),x.push(d.x,d.y,d.z),u.x=m.x+i*d.x,u.y=m.y+i*d.y,u.z=m.z+i*d.z,v.push(u.x,u.y,u.z)}}function S(){for(let B=1;B<=t;B++)for(let D=1;D<=a;D++){const O=(a+1)*(B-1)+(D-1),I=(a+1)*B+(D-1),F=(a+1)*B+D,z=(a+1)*(B-1)+D;M.push(O,I,z),M.push(I,F,z)}}function w(){for(let B=0;B<=t;B++)for(let D=0;D<=a;D++)p.x=B/t,p.y=D/a,_.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Z_(new e_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class MB extends qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new J,r=new J;if(e.index!==null){const l=e.attributes.position,u=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const v=d[p],x=v.start,_=v.count;for(let M=x,C=x+_;M<C;M+=3)for(let T=0;T<3;T++){const S=u.getX(M+T),w=u.getX(M+(T+1)%3);a.fromBufferAttribute(l,S),r.fromBufferAttribute(l,w),oC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const l=e.attributes.position;for(let u=0,d=l.count/3;u<d;u++)for(let p=0;p<3;p++){const m=3*u+p,v=3*u+(p+1)%3;a.fromBufferAttribute(l,m),r.fromBufferAttribute(l,v),oC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new At(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function oC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var lC=Object.freeze({__proto__:null,BoxGeometry:lh,CapsuleGeometry:H_,CircleGeometry:z_,ConeGeometry:A0,CylinderGeometry:_0,DodecahedronGeometry:G_,EdgesGeometry:pB,ExtrudeGeometry:k_,IcosahedronGeometry:j_,LatheGeometry:X_,OctahedronGeometry:b0,PlaneGeometry:Rp,PolyhedronGeometry:yu,RingGeometry:Y_,ShapeGeometry:q_,SphereGeometry:S0,TetrahedronGeometry:J_,TorusGeometry:K_,TorusKnotGeometry:W_,TubeGeometry:Z_,WireframeGeometry:MB});class EB extends Zi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class TB extends po{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class M0 extends Zi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Br extends M0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class CB extends Zi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RB extends Zi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wB extends Zi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class BB extends Zi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class i1 extends Zi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jw,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class a1 extends Zi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class DB extends Zi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vu,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NB extends qa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hf(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function LB(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function UB(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function PS(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,l=0;l!==i;++r){const u=t[r]*e;for(let d=0;d!==e;++d)a[l++]=n[u+d]}return a}function s1(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(e.push(r.time),t.push(...l)),r=n[a++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(e.push(r.time),l.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do l=r[i],l!==void 0&&(e.push(r.time),t.push(l)),r=n[a++];while(r!==void 0)}function GI(n,e,t,i,a=30){const r=n.clone();r.name=e;const l=[];for(let d=0;d<r.tracks.length;++d){const p=r.tracks[d],m=p.getValueSize(),v=[],x=[];for(let _=0;_<p.times.length;++_){const M=p.times[_]*a;if(!(M<t||M>=i)){v.push(p.times[_]);for(let C=0;C<m;++C)x.push(p.values[_*m+C])}}v.length!==0&&(p.times=Hf(v,p.times.constructor),p.values=Hf(x,p.values.constructor),l.push(p))}r.tracks=l;let u=1/0;for(let d=0;d<r.tracks.length;++d)u>r.tracks[d].times[0]&&(u=r.tracks[d].times[0]);for(let d=0;d<r.tracks.length;++d)r.tracks[d].shift(-1*u);return r.resetDuration(),r}function VI(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let l=0;l<a;++l){const u=t.tracks[l],d=u.ValueTypeName;if(d==="bool"||d==="string")continue;const p=n.tracks.find(function(S){return S.name===u.name&&S.ValueTypeName===d});if(p===void 0)continue;let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let x=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=_/3);const M=u.times.length-1;let C;if(r<=u.times[0]){const S=m,w=v-m;C=u.values.slice(S,w)}else if(r>=u.times[M]){const S=M*v+m,w=S+v-m;C=u.values.slice(S,w)}else{const S=u.createInterpolant(),w=m,B=v-m;S.evaluate(r),C=S.resultBuffer.slice(w,B)}d==="quaternion"&&new pa().fromArray(C).normalize().conjugate().toArray(C);const T=p.times.length;for(let S=0;S<T;++S){const w=S*_+x;if(d==="quaternion")pa.multiplyQuaternionsFlat(p.values,w,C,0,p.values,w);else{const B=_-x*2;for(let D=0;D<B;++D)p.values[w+D]-=C[D]}}}return n.blendMode=FM,n}class kI{static convertArray(e,t){return Hf(e,t)}static isTypedArray(e){return LB(e)}static getKeyframeOrder(e){return UB(e)}static sortedArray(e,t,i){return PS(e,t,i)}static flattenJSON(e,t,i,a){s1(e,t,i,a)}static subclip(e,t,i,a,r=30){return GI(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return VI(e,t,i,a)}}class wp{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let l;n:{i:if(!(e<a)){for(let u=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=a,a=t[++i],e<a)break t}l=t.length;break n}if(!(e>=r)){const u=t[1];e<u&&(i=2,r=u);for(let d=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(a=r,r=t[--i-1],e>=r)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let l=0;l!==a;++l)t[l]=i[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class OB extends wp{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:If,endingEnd:If}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,l=e+1,u=a[r],d=a[l];if(u===void 0)switch(this.getSettings_().endingStart){case Ff:r=e,u=2*t-i;break;case Wg:r=a.length-2,u=t+a[r]-a[r+1];break;default:r=e,u=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Ff:l=e,d=2*i-t;break;case Wg:l=1,d=i+a[1]-a[0];break;default:l=e-1,d=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(d-i),this._offsetPrev=r*m,this._offsetNext=l*m}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,p=d-u,m=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,_=this._weightNext,M=(i-t)/(a-t),C=M*M,T=C*M,S=-x*T+2*x*C-x*M,w=(1+x)*T+(-1.5-2*x)*C+(-.5+x)*M+1,B=(-1-_)*T+(1.5+_)*C+.5*M,D=_*T-_*C;for(let O=0;O!==u;++O)r[O]=S*l[m+O]+w*l[p+O]+B*l[d+O]+D*l[v+O];return r}}class r1 extends wp{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,p=d-u,m=(i-t)/(a-t),v=1-m;for(let x=0;x!==u;++x)r[x]=l[p+x]*v+l[d+x]*m;return r}}class PB extends wp{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Dr{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hf(t,this.TimeBufferType),this.values=Hf(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Hf(e.times,Array),values:Hf(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new PB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new r1(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new OB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case fp:t=this.InterpolantFactoryMethodDiscrete;break;case hp:t=this.InterpolantFactoryMethodLinear;break;case rx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fp;case this.InterpolantFactoryMethodLinear:return hp;case this.InterpolantFactoryMethodSmooth:return rx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,l=a-1;for(;r!==a&&i[r]<e;)++r;for(;l!==-1&&i[l]>t;)--l;if(++l,r!==0||l!==a){r>=l&&(l=Math.max(l,1),r=l-1);const u=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==r;u++){const d=i[u];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,d),e=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,d,l),e=!1;break}l=d}if(a!==void 0&&LB(a))for(let u=0,d=a.length;u!==d;++u){const p=a[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===rx,r=e.length-1;let l=1;for(let u=1;u<r;++u){let d=!1;const p=e[u],m=e[u+1];if(p!==m&&(u!==1||p!==e[0]))if(a)d=!0;else{const v=u*i,x=v-i,_=v+i;for(let M=0;M!==i;++M){const C=t[v+M];if(C!==t[x+M]||C!==t[_+M]){d=!0;break}}}if(d){if(u!==l){e[l]=e[u];const v=u*i,x=l*i;for(let _=0;_!==i;++_)t[x+_]=t[v+_]}++l}}if(r>0){e[l]=e[r];for(let u=r*i,d=l*i,p=0;p!==i;++p)t[d+p]=t[u+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Dr.prototype.ValueTypeName="";Dr.prototype.TimeBufferType=Float32Array;Dr.prototype.ValueBufferType=Float32Array;Dr.prototype.DefaultInterpolation=hp;class ch extends Dr{constructor(e,t,i){super(e,t,i)}}ch.prototype.ValueTypeName="bool";ch.prototype.ValueBufferType=Array;ch.prototype.DefaultInterpolation=fp;ch.prototype.InterpolantFactoryMethodLinear=void 0;ch.prototype.InterpolantFactoryMethodSmooth=void 0;class o1 extends Dr{constructor(e,t,i,a){super(e,t,i,a)}}o1.prototype.ValueTypeName="color";class eh extends Dr{constructor(e,t,i,a){super(e,t,i,a)}}eh.prototype.ValueTypeName="number";class IB extends wp{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=(i-t)/(a-t);let p=e*u;for(let m=p+u;p!==m;p+=4)pa.slerpFlat(r,0,l,p-u,l,p,d);return r}}class th extends Dr{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new IB(this.times,this.values,this.getValueSize(),e)}}th.prototype.ValueTypeName="quaternion";th.prototype.InterpolantFactoryMethodSmooth=void 0;class uh extends Dr{constructor(e,t,i){super(e,t,i)}}uh.prototype.ValueTypeName="string";uh.prototype.ValueBufferType=Array;uh.prototype.DefaultInterpolation=fp;uh.prototype.InterpolantFactoryMethodLinear=void 0;uh.prototype.InterpolantFactoryMethodSmooth=void 0;class nh extends Dr{constructor(e,t,i,a){super(e,t,i,a)}}nh.prototype.ValueTypeName="vector";class yp{constructor(e="",t=-1,i=[],a=R_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=Zs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(XI(i[l]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,l=i.length;r!==l;++r)t.push(Dr.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,l=[];for(let u=0;u<r;u++){let d=[],p=[];d.push((u+r-1)%r,u,(u+1)%r),p.push(0,1,0);const m=UB(d);d=PS(d,1,m),p=PS(p,1,m),!a&&d[0]===0&&(d.push(r),p.push(p[0])),l.push(new eh(".morphTargetInfluences["+t[u].name+"]",d,p).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,d=e.length;u<d;u++){const p=e[u],m=p.name.match(r);if(m&&m.length>1){const v=m[1];let x=a[v];x||(a[v]=x=[]),x.push(p)}}const l=[];for(const u in a)l.push(this.CreateFromMorphTargetSequence(u,a[u],t,i));return l}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,_,M,C){if(_.length!==0){const T=[],S=[];s1(_,T,S,M),T.length!==0&&C.push(new v(x,T,S))}},a=[],r=e.name||"default",l=e.fps||30,u=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const _={};let M;for(M=0;M<x.length;M++)if(x[M].morphTargets)for(let C=0;C<x[M].morphTargets.length;C++)_[x[M].morphTargets[C]]=-1;for(const C in _){const T=[],S=[];for(let w=0;w!==x[M].morphTargets.length;++w){const B=x[M];T.push(B.time),S.push(B.morphTarget===C?1:0)}a.push(new eh(".morphTargetInfluence["+C+"]",T,S))}d=_.length*l}else{const _=".bones["+t[v].name+"]";i(nh,_+".position",x,"pos",a),i(th,_+".quaternion",x,"rot",a),i(nh,_+".scale",x,"scl",a)}}return a.length===0?null:new this(r,d,a,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function jI(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return eh;case"vector":case"vector2":case"vector3":case"vector4":return nh;case"color":return o1;case"quaternion":return th;case"bool":case"boolean":return ch;case"string":return uh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function XI(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jI(n.type);if(n.times===void 0){const t=[],i=[];s1(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const $o={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class l1{constructor(e,t,i){const a=this;let r=!1,l=0,u=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(m){u++,r===!1&&a.onStart!==void 0&&a.onStart(m,l,u),r=!0},this.itemEnd=function(m){l++,a.onProgress!==void 0&&a.onProgress(m,l,u),l===u&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,x=p.length;v<x;v+=2){const _=p[v],M=p[v+1];if(_.global&&(_.lastIndex=0),_.test(m))return M}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const FB=new l1;class Ja{constructor(e){this.manager=e!==void 0?e:FB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ja.DEFAULT_MATERIAL_NAME="__DEFAULT";const Xl={};class YI extends Error{constructor(e,t){super(e),this.response=t}}class $s extends Ja{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=$o.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Xl[e]!==void 0){Xl[e].push({onLoad:t,onProgress:i,onError:a});return}Xl[e]=[],Xl[e].push({onLoad:t,onProgress:i,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Xl[e],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=x?parseInt(x):0,M=_!==0;let C=0;const T=new ReadableStream({start(S){w();function w(){v.read().then(({done:B,value:D})=>{if(B)S.close();else{C+=D.byteLength;const O=new ProgressEvent("progress",{lengthComputable:M,loaded:C,total:_});for(let I=0,F=m.length;I<F;I++){const z=m[I];z.onProgress&&z.onProgress(O)}S.enqueue(D),w()}},B=>{S.error(B)})}}});return new Response(T)}else throw new YI(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),x=v&&v[1]?v[1].toLowerCase():void 0,_=new TextDecoder(x);return p.arrayBuffer().then(M=>_.decode(M))}}}).then(p=>{$o.add(`file:${e}`,p);const m=Xl[e];delete Xl[e];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=Xl[e];if(m===void 0)throw this.manager.itemError(e),p;delete Xl[e];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onError&&_.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qI extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new $s(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(d){a?a(d):console.error(d),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=yp.parse(e[i]);t.push(a)}return t}}class JI extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=[],u=new I_,d=new $s(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(r.withCredentials);let p=0;function m(v){d.load(e[v],function(x){const _=r.parse(x,!0);l[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(u.minFilter=vi),u.image=l,u.format=_.format,u.needsUpdate=!0,t&&t(u))},i,a)}if(Array.isArray(e))for(let v=0,x=e.length;v<x;++v)m(v);else d.load(e,function(v){const x=r.parse(v,!0);if(x.isCubemap){const _=x.mipmaps.length/x.mipmapCount;for(let M=0;M<_;M++){l[M]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)l[M].mipmaps.push(x.mipmaps[M*x.mipmapCount+C]),l[M].format=x.format,l[M].width=x.width,l[M].height=x.height}u.image=l}else u.image.width=x.width,u.image.height=x.height,u.mipmaps=x.mipmaps;x.mipmapCount===1&&(u.minFilter=vi),u.format=x.format,u.needsUpdate=!0,t&&t(u)},i,a);return u}}const Od=new WeakMap;class i0 extends Ja{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=$o.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0);else{let v=Od.get(l);v===void 0&&(v=[],Od.set(l,v)),v.push({onLoad:t,onError:a})}return l}const u=$g("img");function d(){m(),t&&t(this);const v=Od.get(this)||[];for(let x=0;x<v.length;x++){const _=v[x];_.onLoad&&_.onLoad(this)}Od.delete(this),r.manager.itemEnd(e)}function p(v){m(),a&&a(v),$o.remove(`image:${e}`);const x=Od.get(this)||[];for(let _=0;_<x.length;_++){const M=x[_];M.onError&&M.onError(v)}Od.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){u.removeEventListener("load",d,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),$o.add(`image:${e}`,u),r.manager.itemStart(e),u.src=e,u}}class KI extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=new v0;r.colorSpace=ja;const l=new i0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function d(p){l.load(e[p],function(m){r.images[p]=m,u++,u===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let p=0;p<e.length;++p)d(p);return r}}class WI extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new nl,u=new $s(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(e,function(d){let p;try{p=r.parse(d)}catch(m){if(a!==void 0)a(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Js,l.wrapT=p.wrapT!==void 0?p.wrapT:Js,l.magFilter=p.magFilter!==void 0?p.magFilter:vi,l.minFilter=p.minFilter!==void 0?p.minFilter:vi,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=Tr),p.mipmapCount===1&&(l.minFilter=vi),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},i,a),l}}class HB extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=new li,l=new i0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){r.image=u,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class xu extends Sn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class zB extends xu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Tb=new It,cC=new J,uC=new J;class c1{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.mapType=wr,this.map=null,this.mapPass=null,this.matrix=new It,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cp,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new Rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;cC.setFromMatrixPosition(e.matrixWorld),t.position.copy(cC),uC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(uC),t.updateMatrixWorld(),Tb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tb,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Tb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ZI extends c1{constructor(){super(new Ti(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=pp*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class u1 extends xu{constructor(e,t,i=0,a=Math.PI/3,r=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.distance=i,this.angle=a,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new ZI}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const fC=new It,bg=new J,Cb=new J;class QI extends c1{constructor(){super(new Ti(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new Rn(2,1,1,1),new Rn(0,1,1,1),new Rn(3,1,1,1),new Rn(1,1,1,1),new Rn(3,0,1,1),new Rn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),bg.setFromMatrixPosition(e.matrixWorld),i.position.copy(bg),Cb.copy(i.position),Cb.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Cb),i.updateMatrixWorld(),a.makeTranslation(-bg.x,-bg.y,-bg.z),fC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fC,i.coordinateSystem,i.reversedDepth)}}class f1 extends xu{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new QI}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ec extends D_{constructor(e=-1,t=1,i=1,a=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,l=i+e,u=a+t,d=a-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,l=r+p*this.view.width,u-=m*this.view.offsetY,d=u-m*this.view.height}this.projectionMatrix.makeOrthographic(r,l,u,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class $I extends c1{constructor(){super(new ec(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class h1 extends xu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.shadow=new $I}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class GB extends xu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class VB extends xu{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class kB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*r),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*a)),t.addScaledVector(l[5],1.092548*(a*r)),t.addScaledVector(l[6],.315392*(3*r*r-1)),t.addScaledVector(l[7],1.092548*(i*r)),t.addScaledVector(l[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*r),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*a),t.addScaledVector(l[5],2*.429043*a*r),t.addScaledVector(l[6],.743125*r*r-.247708),t.addScaledVector(l[7],2*.429043*i*r),t.addScaledVector(l[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class jB extends xu{constructor(e=new kB,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Q_ extends Ja{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,l=new $s(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(d){a?a(d):console.error(d),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const l=e.uniforms[r];switch(a.uniforms[r]={},l.type){case"t":a.uniforms[r].value=i(l.value);break;case"c":a.uniforms[r].value=new ut().setHex(l.value);break;case"v2":a.uniforms[r].value=new Fe().fromArray(l.value);break;case"v3":a.uniforms[r].value=new J().fromArray(l.value);break;case"v4":a.uniforms[r].value=new Rn().fromArray(l.value);break;case"m3":a.uniforms[r].value=new Wt().fromArray(l.value);break;case"m4":a.uniforms[r].value=new It().fromArray(l.value);break;default:a.uniforms[r].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new Fe().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Q_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:EB,SpriteMaterial:YM,RawShaderMaterial:TB,ShaderMaterial:po,PointsMaterial:P_,MeshPhysicalMaterial:Br,MeshStandardMaterial:M0,MeshPhongMaterial:CB,MeshToonMaterial:RB,MeshNormalMaterial:wB,MeshLambertMaterial:BB,MeshDepthMaterial:i1,MeshDistanceMaterial:a1,MeshBasicMaterial:Ws,MeshMatcapMaterial:DB,LineDashedMaterial:NB,LineBasicMaterial:qa,Material:Zi};return new t[e]}}class lu{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class XB extends qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class YB extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new $s(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(d){a?a(d):console.error(d),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(_,M){if(t[M]!==void 0)return t[M];const T=_.interleavedBuffers[M],S=r(_,T.buffer),w=Yd(T.type,S),B=new y0(w,T.stride);return B.uuid=T.uuid,t[M]=B,B}function r(_,M){if(i[M]!==void 0)return i[M];const T=_.arrayBuffers[M],S=new Uint32Array(T).buffer;return i[M]=S,S}const l=e.isInstancedBufferGeometry?new XB:new qt,u=e.data.index;if(u!==void 0){const _=Yd(u.type,u.array);l.setIndex(new wn(_,1))}const d=e.data.attributes;for(const _ in d){const M=d[_];let C;if(M.isInterleavedBufferAttribute){const T=a(e.data,M.data);C=new hu(T,M.itemSize,M.offset,M.normalized)}else{const T=Yd(M.type,M.array),S=M.isInstancedBufferAttribute?Qf:wn;C=new S(T,M.itemSize,M.normalized)}M.name!==void 0&&(C.name=M.name),M.usage!==void 0&&C.setUsage(M.usage),l.setAttribute(_,C)}const p=e.data.morphAttributes;if(p)for(const _ in p){const M=p[_],C=[];for(let T=0,S=M.length;T<S;T++){const w=M[T];let B;if(w.isInterleavedBufferAttribute){const D=a(e.data,w.data);B=new hu(D,w.itemSize,w.offset,w.normalized)}else{const D=Yd(w.type,w.array);B=new wn(D,w.itemSize,w.normalized)}w.name!==void 0&&(B.name=w.name),C.push(B)}l.morphAttributes[_]=C}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let _=0,M=v.length;_!==M;++_){const C=v[_];l.addGroup(C.start,C.count,C.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(l.boundingSphere=new ma().fromJSON(x)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class e4 extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new $s(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(v){a!==void 0&&a(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(p,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new $s(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(e,t),u=JSON.parse(l),d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,l),d=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,r,d,u,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let v=!1;for(const x in l)if(l[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,r),u=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,a,u,l,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new qf().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=new x0().fromJSON(e[r],a);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new YB;for(let r=0,l=e.length;r<l;r++){let u;const d=e[r];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":u=a.parse(d);break;default:d.type in lC?u=lC[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}u.uuid=d.uuid,d.name!==void 0&&(u.name=d.name),d.userData!==void 0&&(u.userData=d.userData),i[d.uuid]=u}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new Q_;r.setTextures(t);for(let l=0,u=e.length;l<u;l++){const d=e[l];i[d.uuid]===void 0&&(i[d.uuid]=r.parse(d)),a[d.uuid]=i[d.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=yp.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function l(d){return i.manager.itemStart(d),r.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function u(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return d.data?{data:Yd(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new l1(t);r=new i0(d),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],x=v.url;if(Array.isArray(x)){const _=[];for(let M=0,C=x.length;M<C;M++){const T=x[M],S=u(T);S!==null&&(S instanceof HTMLImageElement?_.push(S):_.push(new nl(S.data,S.width,S.height)))}a[v.uuid]=new ou(_)}else{const _=u(v.url);a[v.uuid]=new ou(_)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await a.loadAsync(d)}else return l.data?{data:Yd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new i0(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const d=e[l],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],M=await r(_);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new nl(M.data,M.width,M.height)))}i[d.uuid]=new ou(m)}else{const m=await r(d.url);i[d.uuid]=new ou(m)}}}return i}parseTextures(e,t){function i(r,l){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const a={};if(e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=e[r];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const d=t[u.image],p=d.data;let m;Array.isArray(p)?(m=new v0,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new nl:m=new li,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,t4)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],hC),m.wrapT=i(u.wrap[1],hC)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,dC)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,dC)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),a[u.uuid]=m}return a}parseObject(e,t,i,a,r){let l;function u(x){return t[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),t[x]}function d(x){if(x!==void 0){if(Array.isArray(x)){const _=[];for(let M=0,C=x.length;M<C;M++){const T=x[M];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),_.push(i[T])}return _}return i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),i[x]}}function p(x){return a[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),a[x]}let m,v;switch(e.type){case"Scene":l=new XM,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new ut(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new L_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new N_(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Ti(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new ec(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new GB(e.color,e.intensity);break;case"DirectionalLight":l=new h1(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new f1(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new VB(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new u1(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new zB(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new jB().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),v=d(e.material),l=new qM(m,v),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),v=d(e.material),l=new Li(m,v);break;case"InstancedMesh":m=u(e.geometry),v=d(e.material);const x=e.count,_=e.instanceMatrix,M=e.instanceColor;l=new JM(m,v,x),l.instanceMatrix=new Qf(new Float32Array(_.array),16),M!==void 0&&(l.instanceColor=new Qf(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=u(e.geometry),v=d(e.material),l=new hB(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(C=>{let T=null,S=null;return C.boundingBox!==void 0&&(T=new Ca().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&&(S=new ma().fromJSON(C.boundingSphere)),{...C,boundingBox:T,boundingSphere:S}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new ma().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new Ca().fromJSON(e.boundingBox));break;case"LOD":l=new fB;break;case"Line":l=new sc(u(e.geometry),d(e.material));break;case"LineLoop":l=new KM(u(e.geometry),d(e.material));break;case"LineSegments":l=new mo(u(e.geometry),d(e.material));break;case"PointCloud":case"Points":l=new WM(u(e.geometry),d(e.material));break;case"Sprite":l=new uB(d(e.material));break;case"Group":l=new Wl;break;case"Bone":l=new U_;break;default:l=new Sn}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let _=0;_<x.length;_++)l.add(this.parseObject(x[_],t,i,a,r))}if(e.animations!==void 0){const x=e.animations;for(let _=0;_<x.length;_++){const M=x[_];l.animations.push(r[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const x=e.levels;for(let _=0;_<x.length;_++){const M=x[_],C=l.getObjectByProperty("uuid",M.object);C!==void 0&&l.addLevel(C,M.distance,M.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new Sn}})}}const t4={UVMapping:__,CubeReflectionMapping:ic,CubeRefractionMapping:cu,EquirectangularReflectionMapping:Jg,EquirectangularRefractionMapping:Kg,CubeUVReflectionMapping:Tp},hC={RepeatWrapping:uu,ClampToEdgeWrapping:Js,MirroredRepeatWrapping:rp},dC={NearestFilter:da,NearestMipmapNearestFilter:A_,NearestMipmapLinearFilter:Pf,LinearFilter:vi,LinearMipmapNearestFilter:ep,LinearMipmapLinearFilter:Tr},Rb=new WeakMap;class qB extends Ja{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=$o.get(`image-bitmap:${e}`);if(l!==void 0){if(r.manager.itemStart(e),l.then){l.then(p=>{if(Rb.has(l)===!0)a&&a(Rb.get(l)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(p),r.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return $o.add(`image-bitmap:${e}`,p),t&&t(p),r.manager.itemEnd(e),p}).catch(function(p){a&&a(p),Rb.set(d,p),$o.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});$o.add(`image-bitmap:${e}`,d),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Py;class d1{static getContext(){return Py===void 0&&(Py=new(window.AudioContext||window.webkitAudioContext)),Py}static setContext(e){Py=e}}class n4 extends Ja{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new $s(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{const p=d.slice(0);d1.getContext().decodeAudioData(p,function(v){t(v)}).catch(u)}catch(p){u(p)}},i,a);function u(d){a?a(d):console.error(d),r.manager.itemError(e)}}}const pC=new It,mC=new It,_f=new It;class i4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ti,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ti,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_f.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,l=t.near*Math.tan(Yf*t.fov*.5)/t.zoom;let u,d;mC.elements[12]=-a,pC.elements[12]=a,u=-l*t.aspect+r,d=l*t.aspect+r,_f.elements[0]=2*t.near/(d-u),_f.elements[8]=(d+u)/(d-u),this.cameraL.projectionMatrix.copy(_f),u=-l*t.aspect-r,d=l*t.aspect-r,_f.elements[0]=2*t.near/(d-u),_f.elements[8]=(d+u)/(d-u),this.cameraR.projectionMatrix.copy(_f)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pC)}}class JB extends Ti{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class p1{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Af=new J,wb=new pa,a4=new J,bf=new J,Sf=new J;class s4 extends Sn{constructor(){super(),this.type="AudioListener",this.context=d1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new p1}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Af,wb,a4),bf.set(0,0,-1).applyQuaternion(wb),Sf.set(0,1,0).applyQuaternion(wb),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Af.x,i),t.positionY.linearRampToValueAtTime(Af.y,i),t.positionZ.linearRampToValueAtTime(Af.z,i),t.forwardX.linearRampToValueAtTime(bf.x,i),t.forwardY.linearRampToValueAtTime(bf.y,i),t.forwardZ.linearRampToValueAtTime(bf.z,i),t.upX.linearRampToValueAtTime(Sf.x,i),t.upY.linearRampToValueAtTime(Sf.y,i),t.upZ.linearRampToValueAtTime(Sf.z,i)}else t.setPosition(Af.x,Af.y,Af.z),t.setOrientation(bf.x,bf.y,bf.z,Sf.x,Sf.y,Sf.z)}}class KB extends Sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Mf=new J,gC=new pa,r4=new J,Ef=new J;class o4 extends KB{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mf,gC,r4),Ef.set(0,0,1).applyQuaternion(gC);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mf.x,i),t.positionY.linearRampToValueAtTime(Mf.y,i),t.positionZ.linearRampToValueAtTime(Mf.z,i),t.orientationX.linearRampToValueAtTime(Ef.x,i),t.orientationY.linearRampToValueAtTime(Ef.y,i),t.orientationZ.linearRampToValueAtTime(Ef.z,i)}else t.setPosition(Mf.x,Mf.y,Mf.z),t.setOrientation(Ef.x,Ef.y,Ef.z)}}class l4{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class WB{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,l;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==a;++u)i[r+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,r,0,u,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const d=t*this._origIndex;this._mixBufferRegion(i,a,d,1-r,t)}l>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(i[d]!==i[d+t]){u.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,l=a;r!==l;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let l=0;l!==r;++l)e[t+l]=e[i+l]}_slerp(e,t,i,a){pa.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const l=this._workIndex*r;pa.multiplyQuaternionsFlat(e,l,e,t,e,i),pa.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,i,a,r){const l=1-a;for(let u=0;u!==r;++u){const d=t+u;e[d]=e[d]*l+e[i+u]*a}}_lerpAdditive(e,t,i,a,r){for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]+e[i+l]*a}}}const m1="\\[\\]\\.:\\/",c4=new RegExp("["+m1+"]","g"),g1="[^"+m1+"]",u4="[^"+m1.replace("\\.","")+"]",f4=/((?:WC+[\/:])*)/.source.replace("WC",g1),h4=/(WCOD+)?/.source.replace("WCOD",u4),d4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",g1),p4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",g1),m4=new RegExp("^"+f4+h4+d4+p4+"$"),g4=["material","materials","bones","map"];class v4{constructor(e,t,i){const a=i||Mn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Mn{constructor(e,t,i){this.path=t,this.parsedPath=i||Mn.parseTrackName(t),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,t,i):new Mn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(c4,"")}static parseTrackName(e){const t=m4.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);g4.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let l=0;l<r.length;l++){const u=r[l];if(u.name===t||u.uuid===t)return u;const d=i(u.children);if(d)return d}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[a];if(l===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+a+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=v4;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class y4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,l=r.length;let u,d=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const x=arguments[m],_=x.uuid;let M=t[_];if(M===void 0){M=d++,t[_]=M,e.push(x);for(let C=0,T=l;C!==T;++C)r[C].push(new Mn(x,i[C],a[C]))}else if(M<p){u=e[M];const C=--p,T=e[C];t[T.uuid]=M,e[M]=T,t[_]=C,e[C]=x;for(let S=0,w=l;S!==w;++S){const B=r[S],D=B[C];let O=B[M];B[M]=D,O===void 0&&(O=new Mn(x,i[S],a[S])),B[C]=O}}else e[M]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],p=d.uuid,m=t[p];if(m!==void 0&&m>=r){const v=r++,x=e[v];t[x.uuid]=m,e[m]=x,t[p]=v,e[v]=d;for(let _=0,M=a;_!==M;++_){const C=i[_],T=C[v],S=C[m];C[m]=T,C[v]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,l=e.length;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid,v=t[m];if(v!==void 0)if(delete t[m],v<r){const x=--r,_=e[x],M=--l,C=e[M];t[_.uuid]=v,e[v]=_,t[C.uuid]=x,e[x]=C,e.pop();for(let T=0,S=a;T!==S;++T){const w=i[T],B=w[x],D=w[M];w[v]=B,w[x]=D,w.pop()}}else{const x=--l,_=e[x];x>0&&(t[_.uuid]=v),e[v]=_,e.pop();for(let M=0,C=a;M!==C;++M){const T=i[M];T[v]=T[x],T.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const l=this._paths,u=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,v=new Array(p);a=r.length,i[e]=a,l.push(e),u.push(t),r.push(v);for(let x=m,_=d.length;x!==_;++x){const M=d[x];v[x]=new Mn(M,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,l=this._bindings,u=l.length-1,d=l[u],p=e[u];t[p]=i,l[i]=d,l.pop(),r[i]=r[u],r.pop(),a[i]=a[u],a.pop()}}}class ZB{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,l=r.length,u=new Array(l),d={endingStart:If,endingEnd:If};for(let p=0;p!==l;++p){const m=r[p].createInterpolant(null);u[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Gw,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,l=r/a,u=a/r;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,p=u.sampleValues;return d[0]=r,d[1]=r+i,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const d=(e-r)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case FM:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(l),p[m].accumulateAdditive(u);break;case R_:default:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(l),p[m].accumulate(a,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const l=i===Vw;if(e===0)return r===-1?a:l&&(r&1)===1?t-a:a;if(i===zw){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const u=Math.floor(a/t);a-=t*u,r+=Math.abs(u);const d=this.repetitions-r;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(l&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=Ff,a.endingEnd=Ff):(e?a.endingStart=this.zeroSlopeAtStart?Ff:If:a.endingStart=Wg,t?a.endingEnd=this.zeroSlopeAtEnd?Ff:If:a.endingEnd=Wg)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=r,d[0]=t,u[1]=r+e,d[1]=i,this}}const x4=new Float32Array(1);class _4 extends ol{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,l=e._propertyBindings,u=e._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let v=0;v!==r;++v){const x=a[v],_=x.name;let M=m[_];if(M!==void 0)++M.referenceCount,l[v]=M;else{if(M=l[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,_));continue}const C=t&&t._propertyBindings[v].binding.parsedPath;M=new WB(Mn.create(i,_,C),x.ValueTypeName,x.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,_),l[v]=M}u[v].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let l=r[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,l=this._actionsByClip,u=l[r],d=u.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const v=u.actionByRoot,x=(e._localRoot||this._root).uuid;delete v[x],d.length===0&&delete l[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,u=l[a],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete u[r],Object.keys(u).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new r1(new Float32Array(2),new Float32Array(2),1,x4),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let l=typeof e=="string"?yp.findByName(a,e):e;const u=l!==null?l.uuid:e,d=this._actionsByClip[u];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=R_),d!==void 0){const v=d.actionByRoot[r];if(v!==void 0&&v.blendMode===i)return v;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new ZB(this,l,t,i);return this._bindAction(m,p),this._addInactiveAction(m,u,r),m}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?yp.findByName(i,e):e,l=r?r.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(a,e,r,l);const u=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)u[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const l=r.knownActions;for(let u=0,d=l.length;u!==d;++u){const p=l[u];this._deactivateAction(p);const m=p._cacheIndex,v=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,t[m]=v,t.pop(),this._removeInactiveBindingsForAction(p)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,d=u[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const l in r){const u=r[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class A4 extends VM{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new B_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class v1{constructor(e){this.value=e}clone(){return new v1(this.value.clone===void 0?this.value:this.value.clone())}}let b4=0;class S4 extends ol{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:b4++}),this.name="",this.usage=Qg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class M4 extends y0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class E4{constructor(e,t,i,a,r,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const vC=new It;class QB{constructor(e,t,i=0,a=1/0){this.ray=new oh(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new mp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return vC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(vC),this}intersectObject(e,t=!0,i=[]){return IS(e,this,i,t),i.sort(yC),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)IS(e[a],this,i,t);return i.sort(yC),i}}function yC(n,e){return n.distance-e.distance}function IS(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let l=0,u=r.length;l<u;l++)IS(r[l],e,t,!0)}}class T4{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=C4.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function C4(){this._document.hidden===!1&&this.reset()}class FS{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Gt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class R4{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class y1{constructor(e,t,i,a){y1.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const xC=new Fe;class w4{constructor(e=new Fe(1/0,1/0),t=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=xC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _C=new J,Iy=new J,Pd=new J,Id=new J,Bb=new J,B4=new J,D4=new J;class N4{constructor(e=new J,t=new J){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_C.subVectors(e,this.start),Iy.subVectors(this.end,this.start);const i=Iy.dot(Iy);let r=Iy.dot(_C)/i;return t&&(r=Gt(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=B4,i=D4){const a=10000000000000001e-32;let r,l;const u=this.start,d=e.start,p=this.end,m=e.end;Pd.subVectors(p,u),Id.subVectors(m,d),Bb.subVectors(u,d);const v=Pd.dot(Pd),x=Id.dot(Id),_=Id.dot(Bb);if(v<=a&&x<=a)return t.copy(u),i.copy(d),t.sub(i),t.dot(t);if(v<=a)r=0,l=_/x,l=Gt(l,0,1);else{const M=Pd.dot(Bb);if(x<=a)l=0,r=Gt(-M/v,0,1);else{const C=Pd.dot(Id),T=v*x-C*C;T!==0?r=Gt((C*_-M*x)/T,0,1):r=0,l=(C*r+_)/x,l<0?(l=0,r=Gt(-M/v,0,1)):l>1&&(l=1,r=Gt((C-M)/v,0,1))}}return t.copy(u).add(Pd.multiplyScalar(r)),i.copy(d).add(Id.multiplyScalar(l)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AC=new J;class L4 extends Sn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new qt,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,d=32;l<d;l++,u++){const p=l/d*Math.PI*2,m=u/d*Math.PI*2;a.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new At(a,3));const r=new qa({fog:!1,toneMapped:!1});this.cone=new mo(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),AC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nu=new J,Fy=new It,Db=new It;class U4 extends mo{constructor(e){const t=$B(e),i=new qt,a=[],r=[];for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new At(a,3)),i.setAttribute("color",new At(r,3));const l=new qa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new ut(255),d=new ut(65280);this.setColors(u,d)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");Db.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<t.length;r++){const u=t[r];u.parent&&u.parent.isBone&&(Fy.multiplyMatrices(Db,u.matrixWorld),nu.setFromMatrixPosition(Fy),a.setXYZ(l,nu.x,nu.y,nu.z),Fy.multiplyMatrices(Db,u.parent.matrixWorld),nu.setFromMatrixPosition(Fy),a.setXYZ(l+1,nu.x,nu.y,nu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function $B(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...$B(n.children[t]));return e}class O4 extends Li{constructor(e,t,i){const a=new S0(t,4,2),r=new Ws({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const P4=new J,bC=new ut,SC=new ut;class I4 extends Sn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new b0(t);a.rotateY(Math.PI*.5),this.material=new Ws({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),l=new Float32Array(r.count*3);a.setAttribute("color",new wn(l,3)),this.add(new Li(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");bC.copy(this.light.color),SC.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?bC:SC;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(P4.setFromMatrixPosition(this.light.matrixWorld).negate())}}class F4 extends mo{constructor(e=10,t=10,i=4473924,a=8947848){i=new ut(i),a=new ut(a);const r=t/2,l=e/t,u=e/2,d=[],p=[];for(let x=0,_=0,M=-u;x<=t;x++,M+=l){d.push(-u,0,M,u,0,M),d.push(M,0,-u,M,0,u);const C=x===r?i:a;C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3}const m=new qt;m.setAttribute("position",new At(d,3)),m.setAttribute("color",new At(p,3));const v=new qa({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class H4 extends mo{constructor(e=10,t=16,i=8,a=64,r=4473924,l=8947848){r=new ut(r),l=new ut(l);const u=[],d=[];if(t>1)for(let v=0;v<t;v++){const x=v/t*(Math.PI*2),_=Math.sin(x)*e,M=Math.cos(x)*e;u.push(0,0,0),u.push(_,0,M);const C=v&1?r:l;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const x=v&1?r:l,_=e-e/i*v;for(let M=0;M<a;M++){let C=M/a*(Math.PI*2),T=Math.sin(C)*_,S=Math.cos(C)*_;u.push(T,0,S),d.push(x.r,x.g,x.b),C=(M+1)/a*(Math.PI*2),T=Math.sin(C)*_,S=Math.cos(C)*_,u.push(T,0,S),d.push(x.r,x.g,x.b)}}const p=new qt;p.setAttribute("position",new At(u,3)),p.setAttribute("color",new At(d,3));const m=new qa({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const MC=new J,Hy=new J,EC=new J;class z4 extends Sn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new qt;a.setAttribute("position",new At([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new qa({fog:!1,toneMapped:!1});this.lightPlane=new sc(a,r),this.add(this.lightPlane),a=new qt,a.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new sc(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),MC.setFromMatrixPosition(this.light.matrixWorld),Hy.setFromMatrixPosition(this.light.target.matrixWorld),EC.subVectors(Hy,MC),this.lightPlane.lookAt(Hy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Hy),this.targetLine.scale.z=EC.length()}}const zy=new J,Mi=new D_;class G4 extends mo{constructor(e){const t=new qt,i=new qa({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,C){d(M),d(C)}function d(M){a.push(0,0,0),r.push(0,0,0),l[M]===void 0&&(l[M]=[]),l[M].push(a.length/3-1)}t.setAttribute("position",new At(a,3)),t.setAttribute("color",new At(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new ut(16755200),m=new ut(16711680),v=new ut(43775),x=new ut(16777215),_=new ut(3355443);this.setColors(p,m,v,x,_)}setColors(e,t,i,a,r){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,a.r,a.g,a.b),u.setXYZ(39,a.r,a.g,a.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,l;if(Mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,l=0;else if(this.camera.coordinateSystem===Ks)r=-1,l=1;else if(this.camera.coordinateSystem===dp)r=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Di("c",t,e,Mi,0,0,r),Di("t",t,e,Mi,0,0,l),Di("n1",t,e,Mi,-i,-a,r),Di("n2",t,e,Mi,i,-a,r),Di("n3",t,e,Mi,-i,a,r),Di("n4",t,e,Mi,i,a,r),Di("f1",t,e,Mi,-i,-a,l),Di("f2",t,e,Mi,i,-a,l),Di("f3",t,e,Mi,-i,a,l),Di("f4",t,e,Mi,i,a,l),Di("u1",t,e,Mi,i*.7,a*1.1,r),Di("u2",t,e,Mi,-i*.7,a*1.1,r),Di("u3",t,e,Mi,0,a*2,r),Di("cf1",t,e,Mi,-i,0,l),Di("cf2",t,e,Mi,i,0,l),Di("cf3",t,e,Mi,0,-a,l),Di("cf4",t,e,Mi,0,a,l),Di("cn1",t,e,Mi,-i,0,r),Di("cn2",t,e,Mi,i,0,r),Di("cn3",t,e,Mi,0,-a,r),Di("cn4",t,e,Mi,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Di(n,e,t,i,a,r,l){zy.set(a,r,l).unproject(i);const u=e[n];if(u!==void 0){const d=t.getAttribute("position");for(let p=0,m=u.length;p<m;p++)d.setXYZ(u[p],zy.x,zy.y,zy.z)}}const Gy=new Ca;class V4 extends mo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new qt;r.setIndex(new wn(i,1)),r.setAttribute("position",new wn(a,3)),super(r,new qa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Gy.setFromObject(this.object),Gy.isEmpty())return;const e=Gy.min,t=Gy.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class k4 extends mo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new qt;r.setIndex(new wn(i,1)),r.setAttribute("position",new At(a,3)),super(r,new qa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class j4 extends sc{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new qt;l.setAttribute("position",new At(r,3)),l.computeBoundingSphere(),super(l,new qa({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new qt;d.setAttribute("position",new At(u,3)),d.computeBoundingSphere(),this.add(new Li(d,new Ws({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const TC=new J;let Vy,Nb;class X4 extends Sn{constructor(e=new J(0,0,1),t=new J(0,0,0),i=1,a=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",Vy===void 0&&(Vy=new qt,Vy.setAttribute("position",new At([0,0,0,0,1,0],3)),Nb=new A0(.5,1,5,1),Nb.translate(0,-.5,0)),this.position.copy(t),this.line=new sc(Vy,new qa({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Li(Nb,new Ws({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{TC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(TC,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Y4 extends mo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new qt;a.setAttribute("position",new At(t,3)),a.setAttribute("color",new At(i,3));const r=new qa({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new ut,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class q4{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new t_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,l){return this.currentPath.bezierCurveTo(e,t,i,a,r,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const w=[];for(let B=0,D=S.length;B<D;B++){const O=S[B],I=new qf;I.curves=O.curves,w.push(I)}return w}function i(S,w){const B=w.length;let D=!1;for(let O=B-1,I=0;I<B;O=I++){let F=w[O],z=w[I],P=z.x-F.x,U=z.y-F.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(F=w[I],P=-P,z=w[O],U=-U),S.y<F.y||S.y>z.y)continue;if(S.y===F.y){if(S.x===F.x)return!0}else{const X=U*(S.x-F.x)-P*(S.y-F.y);if(X===0)return!0;if(X<0)continue;D=!D}}else{if(S.y!==F.y)continue;if(z.x<=S.x&&S.x<=F.x||F.x<=S.x&&S.x<=z.x)return!0}}return D}const a=uo.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,u,d;const p=[];if(r.length===1)return u=r[0],d=new qf,d.curves=u.curves,p.push(d),p;let m=!a(r[0].getPoints());m=e?!m:m;const v=[],x=[];let _=[],M=0,C;x[M]=void 0,_[M]=[];for(let S=0,w=r.length;S<w;S++)u=r[S],C=u.getPoints(),l=a(C),l=e?!l:l,l?(!m&&x[M]&&M++,x[M]={s:new qf,p:C},x[M].s.curves=u.curves,m&&M++,_[M]=[]):_[M].push({h:u,p:C[0]});if(!x[0])return t(r);if(x.length>1){let S=!1,w=0;for(let B=0,D=x.length;B<D;B++)v[B]=[];for(let B=0,D=x.length;B<D;B++){const O=_[B];for(let I=0;I<O.length;I++){const F=O[I];let z=!0;for(let P=0;P<x.length;P++)i(F.p,x[P].p)&&(B!==P&&w++,z?(z=!1,v[P].push(F)):S=!0);z&&v[B].push(F)}}w>0&&S===!1&&(_=v)}let T;for(let S=0,w=x.length;S<w;S++){d=x[S].s,p.push(d),T=_[S];for(let B=0,D=T.length;B<D;B++)d.holes.push(T[B].h)}return p}}class J4 extends ol{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function K4(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function W4(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Z4(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function HS(n,e,t,i){const a=Q4(i);switch(t){case UM:return n*e;case E_:return n*e/a.components*a.byteLength;case g0:return n*e/a.components*a.byteLength;case PM:return n*e*2/a.components*a.byteLength;case T_:return n*e*2/a.components*a.byteLength;case OM:return n*e*3/a.components*a.byteLength;case Xa:return n*e*4/a.components*a.byteLength;case C_:return n*e*4/a.components*a.byteLength;case Ng:case Lg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ug:case Og:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Tx:case Rx:return Math.max(n,16)*Math.max(e,8)/4;case Ex:case Cx:return Math.max(n,8)*Math.max(e,8)/2;case wx:case Bx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Dx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Nx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Lx:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Ux:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Ox:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Px:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Ix:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Fx:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Hx:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case zx:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Gx:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Vx:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case kx:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case jx:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Xx:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Pg:case Yx:case qx:return Math.ceil(n/4)*Math.ceil(e/4)*16;case IM:case Jx:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Kx:case Wx:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Q4(n){switch(n){case wr:case DM:return{byteLength:1,components:1};case op:case NM:case rh:return{byteLength:2,components:1};case S_:case M_:return{byteLength:2,components:4};case ac:case b_:case ys:return{byteLength:4,components:1};case LM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class $4{static contain(e,t){return K4(e,t)}static cover(e,t){return W4(e,t)}static fill(e){return Z4(e)}static getByteLength(e,t,i,a){return HS(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function eD(){let n=null,e=!1,t=null,i=null;function a(r,l){t(r,l),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function eF(n){const e=new WeakMap;function t(u,d){const p=u.array,m=u.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(d,x),n.bufferData(d,p,m),u.onUploadCallback();let _;if(p instanceof Float32Array)_=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)_=n.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=n.SHORT;else if(p instanceof Uint32Array)_=n.UNSIGNED_INT;else if(p instanceof Int32Array)_=n.INT;else if(p instanceof Int8Array)_=n.BYTE;else if(p instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function i(u,d,p){const m=d.array,v=d.updateRanges;if(n.bindBuffer(p,u),v.length===0)n.bufferSubData(p,0,m);else{v.sort((_,M)=>_.start-M.start);let x=0;for(let _=1;_<v.length;_++){const M=v[x],C=v[_];C.start<=M.start+M.count+1?M.count=Math.max(M.count,C.start+C.count-M.start):(++x,v[x]=C)}v.length=x+1;for(let _=0,M=v.length;_<M;_++){const C=v[_];n.bufferSubData(p,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=e.get(u);d&&(n.deleteBuffer(d.buffer),e.delete(u))}function l(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,d));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,d),p.version=u.version}}return{get:a,remove:r,update:l}}var tF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,nF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,aF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sF=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,rF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,oF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cF=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,uF=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,fF=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dF=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,pF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_F=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,AF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,bF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,SF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,MF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,EF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,TF=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,CF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,RF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,wF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,BF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,DF="gl_FragColor = linearToOutputTexel( gl_FragColor );",NF=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,LF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,UF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,OF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,PF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,IF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,FF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,HF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,GF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,VF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,XF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,YF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qF=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,JF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,WF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,QF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,$F=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,eH=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,iH=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,aH=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sH=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rH=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,oH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,cH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uH=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dH=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,pH=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,gH=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,vH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,xH=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_H=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,MH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,EH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,TH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,CH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,RH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,wH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,BH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,DH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,NH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,LH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,UH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,OH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,PH=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,IH=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,FH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,HH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,GH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,VH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,XH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,JH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,KH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,WH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$H=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ez=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,tz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,az=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rz=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,lz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,uz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pz=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_z=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Az=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ez=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,wz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Bz=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:tF,alphahash_pars_fragment:nF,alphamap_fragment:iF,alphamap_pars_fragment:aF,alphatest_fragment:sF,alphatest_pars_fragment:rF,aomap_fragment:oF,aomap_pars_fragment:lF,batching_pars_vertex:cF,batching_vertex:uF,begin_vertex:fF,beginnormal_vertex:hF,bsdfs:dF,iridescence_fragment:pF,bumpmap_pars_fragment:mF,clipping_planes_fragment:gF,clipping_planes_pars_fragment:vF,clipping_planes_pars_vertex:yF,clipping_planes_vertex:xF,color_fragment:_F,color_pars_fragment:AF,color_pars_vertex:bF,color_vertex:SF,common:MF,cube_uv_reflection_fragment:EF,defaultnormal_vertex:TF,displacementmap_pars_vertex:CF,displacementmap_vertex:RF,emissivemap_fragment:wF,emissivemap_pars_fragment:BF,colorspace_fragment:DF,colorspace_pars_fragment:NF,envmap_fragment:LF,envmap_common_pars_fragment:UF,envmap_pars_fragment:OF,envmap_pars_vertex:PF,envmap_physical_pars_fragment:qF,envmap_vertex:IF,fog_vertex:FF,fog_pars_vertex:HF,fog_fragment:zF,fog_pars_fragment:GF,gradientmap_pars_fragment:VF,lightmap_pars_fragment:kF,lights_lambert_fragment:jF,lights_lambert_pars_fragment:XF,lights_pars_begin:YF,lights_toon_fragment:JF,lights_toon_pars_fragment:KF,lights_phong_fragment:WF,lights_phong_pars_fragment:ZF,lights_physical_fragment:QF,lights_physical_pars_fragment:$F,lights_fragment_begin:eH,lights_fragment_maps:tH,lights_fragment_end:nH,logdepthbuf_fragment:iH,logdepthbuf_pars_fragment:aH,logdepthbuf_pars_vertex:sH,logdepthbuf_vertex:rH,map_fragment:oH,map_pars_fragment:lH,map_particle_fragment:cH,map_particle_pars_fragment:uH,metalnessmap_fragment:fH,metalnessmap_pars_fragment:hH,morphinstance_vertex:dH,morphcolor_vertex:pH,morphnormal_vertex:mH,morphtarget_pars_vertex:gH,morphtarget_vertex:vH,normal_fragment_begin:yH,normal_fragment_maps:xH,normal_pars_fragment:_H,normal_pars_vertex:AH,normal_vertex:bH,normalmap_pars_fragment:SH,clearcoat_normal_fragment_begin:MH,clearcoat_normal_fragment_maps:EH,clearcoat_pars_fragment:TH,iridescence_pars_fragment:CH,opaque_fragment:RH,packing:wH,premultiplied_alpha_fragment:BH,project_vertex:DH,dithering_fragment:NH,dithering_pars_fragment:LH,roughnessmap_fragment:UH,roughnessmap_pars_fragment:OH,shadowmap_pars_fragment:PH,shadowmap_pars_vertex:IH,shadowmap_vertex:FH,shadowmask_pars_fragment:HH,skinbase_vertex:zH,skinning_pars_vertex:GH,skinning_vertex:VH,skinnormal_vertex:kH,specularmap_fragment:jH,specularmap_pars_fragment:XH,tonemapping_fragment:YH,tonemapping_pars_fragment:qH,transmission_fragment:JH,transmission_pars_fragment:KH,uv_pars_fragment:WH,uv_pars_vertex:ZH,uv_vertex:QH,worldpos_vertex:$H,background_vert:ez,background_frag:tz,backgroundCube_vert:nz,backgroundCube_frag:iz,cube_vert:az,cube_frag:sz,depth_vert:rz,depth_frag:oz,distanceRGBA_vert:lz,distanceRGBA_frag:cz,equirect_vert:uz,equirect_frag:fz,linedashed_vert:hz,linedashed_frag:dz,meshbasic_vert:pz,meshbasic_frag:mz,meshlambert_vert:gz,meshlambert_frag:vz,meshmatcap_vert:yz,meshmatcap_frag:xz,meshnormal_vert:_z,meshnormal_frag:Az,meshphong_vert:bz,meshphong_frag:Sz,meshphysical_vert:Mz,meshphysical_frag:Ez,meshtoon_vert:Tz,meshtoon_frag:Cz,points_vert:Rz,points_frag:wz,shadow_vert:Bz,shadow_frag:Dz,sprite_vert:Nz,sprite_frag:Lz},ht={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wt}},envmap:{envMap:{value:null},envMapRotation:{value:new Wt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wt},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}}},lo={basic:{uniforms:ms([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:ms([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new ut(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:ms([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:ms([ht.common,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.roughnessmap,ht.metalnessmap,ht.fog,ht.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:ms([ht.common,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.gradientmap,ht.fog,ht.lights,{emissive:{value:new ut(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:ms([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:ms([ht.points,ht.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:ms([ht.common,ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:ms([ht.common,ht.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:ms([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:ms([ht.sprite,ht.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Wt}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:ms([ht.common,ht.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:ms([ht.lights,ht.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};lo.physical={uniforms:ms([lo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wt},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wt},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wt},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wt},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wt},anisotropyVector:{value:new Fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Wt}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const ky={r:0,b:0,g:0},Tf=new Qs,Uz=new It;function Oz(n,e,t,i,a,r,l){const u=new ut(0);let d=r===!0?0:1,p,m,v=null,x=0,_=null;function M(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function C(B){let D=!1;const O=M(B);O===null?S(u,d):O&&O.isColor&&(S(O,1),D=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?i.buffers.color.setClear(0,0,0,1,l):I==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(B,D){const O=M(D);O&&(O.isCubeTexture||O.mapping===Tp)?(m===void 0&&(m=new Li(new lh(1,1,1),new po({name:"BackgroundCubeMaterial",uniforms:gp(lo.backgroundCube.uniforms),vertexShader:lo.backgroundCube.vertexShader,fragmentShader:lo.backgroundCube.fragmentShader,side:_s,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(I,F,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Tf.copy(D.backgroundRotation),Tf.x*=-1,Tf.y*=-1,Tf.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Tf.y*=-1,Tf.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Uz.makeRotationFromEuler(Tf)),m.material.toneMapped=bn.getTransfer(O.colorSpace)!==zn,(v!==O||x!==O.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,v=O,x=O.version,_=n.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(p===void 0&&(p=new Li(new Rp(2,2),new po({name:"BackgroundMaterial",uniforms:gp(lo.background.uniforms),vertexShader:lo.background.vertexShader,fragmentShader:lo.background.fragmentShader,side:sl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(p)),p.material.uniforms.t2D.value=O,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.toneMapped=bn.getTransfer(O.colorSpace)!==zn,O.matrixAutoUpdate===!0&&O.updateMatrix(),p.material.uniforms.uvTransform.value.copy(O.matrix),(v!==O||x!==O.version||_!==n.toneMapping)&&(p.material.needsUpdate=!0,v=O,x=O.version,_=n.toneMapping),p.layers.enableAll(),B.unshift(p,p.geometry,p.material,0,0,null))}function S(B,D){B.getRGB(ky,sB(n)),i.buffers.color.setClear(ky.r,ky.g,ky.b,D,l)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(B,D=1){u.set(B),d=D,S(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(B){d=B,S(u,d)},render:C,addToRenderList:T,dispose:w}}function Pz(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=x(null);let r=a,l=!1;function u(U,X,ce,se,pe){let Ae=!1;const j=v(se,ce,X);r!==j&&(r=j,p(r.object)),Ae=_(U,se,ce,pe),Ae&&M(U,se,ce,pe),pe!==null&&e.update(pe,n.ELEMENT_ARRAY_BUFFER),(Ae||l)&&(l=!1,D(U,X,ce,se),pe!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(pe).buffer))}function d(){return n.createVertexArray()}function p(U){return n.bindVertexArray(U)}function m(U){return n.deleteVertexArray(U)}function v(U,X,ce){const se=ce.wireframe===!0;let pe=i[U.id];pe===void 0&&(pe={},i[U.id]=pe);let Ae=pe[X.id];Ae===void 0&&(Ae={},pe[X.id]=Ae);let j=Ae[se];return j===void 0&&(j=x(d()),Ae[se]=j),j}function x(U){const X=[],ce=[],se=[];for(let pe=0;pe<t;pe++)X[pe]=0,ce[pe]=0,se[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ce,attributeDivisors:se,object:U,attributes:{},index:null}}function _(U,X,ce,se){const pe=r.attributes,Ae=X.attributes;let j=0;const Z=ce.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const ye=pe[Q];let Y=Ae[Q];if(Y===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(Y=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(Y=U.instanceColor)),ye===void 0||ye.attribute!==Y||Y&&ye.data!==Y.data)return!0;j++}return r.attributesNum!==j||r.index!==se}function M(U,X,ce,se){const pe={},Ae=X.attributes;let j=0;const Z=ce.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let ye=Ae[Q];ye===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(ye=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(ye=U.instanceColor));const Y={};Y.attribute=ye,ye&&ye.data&&(Y.data=ye.data),pe[Q]=Y,j++}r.attributes=pe,r.attributesNum=j,r.index=se}function C(){const U=r.newAttributes;for(let X=0,ce=U.length;X<ce;X++)U[X]=0}function T(U){S(U,0)}function S(U,X){const ce=r.newAttributes,se=r.enabledAttributes,pe=r.attributeDivisors;ce[U]=1,se[U]===0&&(n.enableVertexAttribArray(U),se[U]=1),pe[U]!==X&&(n.vertexAttribDivisor(U,X),pe[U]=X)}function w(){const U=r.newAttributes,X=r.enabledAttributes;for(let ce=0,se=X.length;ce<se;ce++)X[ce]!==U[ce]&&(n.disableVertexAttribArray(ce),X[ce]=0)}function B(U,X,ce,se,pe,Ae,j){j===!0?n.vertexAttribIPointer(U,X,ce,pe,Ae):n.vertexAttribPointer(U,X,ce,se,pe,Ae)}function D(U,X,ce,se){C();const pe=se.attributes,Ae=ce.getAttributes(),j=X.defaultAttributeValues;for(const Z in Ae){const Q=Ae[Z];if(Q.location>=0){let ve=pe[Z];if(ve===void 0&&(Z==="instanceMatrix"&&U.instanceMatrix&&(ve=U.instanceMatrix),Z==="instanceColor"&&U.instanceColor&&(ve=U.instanceColor)),ve!==void 0){const ye=ve.normalized,Y=ve.itemSize,oe=e.get(ve);if(oe===void 0)continue;const Be=oe.buffer,De=oe.type,ue=oe.bytesPerElement,Ue=De===n.INT||De===n.UNSIGNED_INT||ve.gpuType===b_;if(ve.isInterleavedBufferAttribute){const Ie=ve.data,lt=Ie.stride,at=ve.offset;if(Ie.isInstancedInterleavedBuffer){for(let Tt=0;Tt<Q.locationSize;Tt++)S(Q.location+Tt,Ie.meshPerAttribute);U.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let Tt=0;Tt<Q.locationSize;Tt++)T(Q.location+Tt);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let Tt=0;Tt<Q.locationSize;Tt++)B(Q.location+Tt,Y/Q.locationSize,De,ye,lt*ue,(at+Y/Q.locationSize*Tt)*ue,Ue)}else{if(ve.isInstancedBufferAttribute){for(let Ie=0;Ie<Q.locationSize;Ie++)S(Q.location+Ie,ve.meshPerAttribute);U.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let Ie=0;Ie<Q.locationSize;Ie++)T(Q.location+Ie);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let Ie=0;Ie<Q.locationSize;Ie++)B(Q.location+Ie,Y/Q.locationSize,De,ye,Y*ue,Y/Q.locationSize*Ie*ue,Ue)}}else if(j!==void 0){const ye=j[Z];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(Q.location,ye);break;case 3:n.vertexAttrib3fv(Q.location,ye);break;case 4:n.vertexAttrib4fv(Q.location,ye);break;default:n.vertexAttrib1fv(Q.location,ye)}}}}w()}function O(){z();for(const U in i){const X=i[U];for(const ce in X){const se=X[ce];for(const pe in se)m(se[pe].object),delete se[pe];delete X[ce]}delete i[U]}}function I(U){if(i[U.id]===void 0)return;const X=i[U.id];for(const ce in X){const se=X[ce];for(const pe in se)m(se[pe].object),delete se[pe];delete X[ce]}delete i[U.id]}function F(U){for(const X in i){const ce=i[X];if(ce[U.id]===void 0)continue;const se=ce[U.id];for(const pe in se)m(se[pe].object),delete se[pe];delete ce[U.id]}}function z(){P(),l=!0,r!==a&&(r=a,p(r.object))}function P(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:u,reset:z,resetDefaultState:P,dispose:O,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:C,enableAttribute:T,disableUnusedAttributes:w}}function Iz(n,e,t){let i;function a(p){i=p}function r(p,m){n.drawArrays(i,p,m),t.update(m,i,1)}function l(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),t.update(m,i,v))}function u(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let _=0;for(let M=0;M<v;M++)_+=m[M];t.update(_,i,1)}function d(p,m,v,x){if(v===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let M=0;M<p.length;M++)l(p[M],m[M],x[M]);else{_.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,v);let M=0;for(let C=0;C<v;C++)M+=m[C]*x[C];t.update(M,i,1)}}this.setMode=a,this.render=r,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Fz(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(F){return!(F!==Xa&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const z=F===rh&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==wr&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==ys&&!z)}function d(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=d(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=M>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:d,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:x,maxTextures:_,maxVertexTextures:M,maxTextureSize:C,maxCubemapSize:T,maxAttributes:S,maxVertexUniforms:w,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:O,maxSamples:I}}function Hz(n){const e=this;let t=null,i=0,a=!1,r=!1;const l=new ql,u=new Wt,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const _=v.length!==0||x||i!==0||a;return a=x,i=v.length,_},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(v,x){t=m(v,x,0)},this.setState=function(v,x,_){const M=v.clippingPlanes,C=v.clipIntersection,T=v.clipShadows,S=n.get(v);if(!a||M===null||M.length===0||r&&!T)r?m(null):p();else{const w=r?0:i,B=w*4;let D=S.clippingState||null;d.value=D,D=m(M,x,B,_);for(let O=0;O!==B;++O)D[O]=t[O];S.clippingState=D,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=w}};function p(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(v,x,_,M){const C=v!==null?v.length:0;let T=null;if(C!==0){if(T=d.value,M!==!0||T===null){const S=_+C*4,w=x.matrixWorldInverse;u.getNormalMatrix(w),(T===null||T.length<S)&&(T=new Float32Array(S));for(let B=0,D=_;B!==C;++B,D+=4)l.copy(v[B]).applyMatrix4(w,u),l.normal.toArray(T,D),T[D+3]=l.constant}d.value=T,d.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,T}}function zz(n){let e=new WeakMap;function t(l,u){return u===Jg?l.mapping=ic:u===Kg&&(l.mapping=cu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===Jg||u===Kg)if(e.has(l)){const d=e.get(l).texture;return t(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const p=new lB(d.height);return p.fromEquirectangularTexture(n,l),e.set(l,p),l.addEventListener("dispose",a),t(p.texture,l.mapping)}else return null}}return l}function a(l){const u=l.target;u.removeEventListener("dispose",a);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const qd=4,CC=[.125,.215,.35,.446,.526,.582],Of=20,Lb=new ec,RC=new ut;let Ub=null,Ob=0,Pb=0,Ib=!1;const Lf=(1+Math.sqrt(5))/2,Fd=1/Lf,wC=[new J(-Lf,Fd,0),new J(Lf,Fd,0),new J(-Fd,0,Lf),new J(Fd,0,Lf),new J(0,Lf,-Fd),new J(0,Lf,Fd),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],Gz=new J;class zS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,a=100,r={}){const{size:l=256,position:u=Gz}=r;Ub=this._renderer.getRenderTarget(),Ob=this._renderer.getActiveCubeFace(),Pb=this._renderer.getActiveMipmapLevel(),Ib=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,a,d,u),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=NC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=DC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ub,Ob,Pb),this._renderer.xr.enabled=Ib,e.scissorTest=!1,jy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ic||e.mapping===cu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ub=this._renderer.getRenderTarget(),Ob=this._renderer.getActiveCubeFace(),Pb=this._renderer.getActiveMipmapLevel(),Ib=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:vi,minFilter:vi,generateMipmaps:!1,type:rh,format:Xa,colorSpace:fu,depthBuffer:!1},a=BC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=BC(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Vz(r)),this._blurMaterial=kz(r,e,t)}return a}_compileMaterial(e){const t=new Li(this._lodPlanes[0],e);this._renderer.compile(t,Lb)}_sceneToCubeUV(e,t,i,a,r){const d=new Ti(90,1,t,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,x=v.autoClear,_=v.toneMapping;v.getClearColor(RC),v.toneMapping=tl,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(a),v.clearDepth(),v.setRenderTarget(null));const C=new Ws({name:"PMREM.Background",side:_s,depthWrite:!1,depthTest:!1}),T=new Li(new lh,C);let S=!1;const w=e.background;w?w.isColor&&(C.color.copy(w),e.background=null,S=!0):(C.color.copy(RC),S=!0);for(let B=0;B<6;B++){const D=B%3;D===0?(d.up.set(0,p[B],0),d.position.set(r.x,r.y,r.z),d.lookAt(r.x+m[B],r.y,r.z)):D===1?(d.up.set(0,0,p[B]),d.position.set(r.x,r.y,r.z),d.lookAt(r.x,r.y+m[B],r.z)):(d.up.set(0,p[B],0),d.position.set(r.x,r.y,r.z),d.lookAt(r.x,r.y,r.z+m[B]));const O=this._cubeSize;jy(a,D*O,B>2?O:0,O,O),v.setRenderTarget(a),S&&v.render(T,d),v.render(e,d)}T.geometry.dispose(),T.material.dispose(),v.toneMapping=_,v.autoClear=x,e.background=w}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===ic||e.mapping===cu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=NC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=DC());const r=a?this._cubemapMaterial:this._equirectMaterial,l=new Li(this._lodPlanes[0],r),u=r.uniforms;u.envMap.value=e;const d=this._cubeSize;jy(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(l,Lb)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let r=1;r<a;r++){const l=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=wC[(a-r-1)%wC.length];this._blur(e,r-1,r,l,u)}t.autoClear=i}_blur(e,t,i,a,r){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,a,"latitudinal",r),this._halfBlur(l,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,l,u){const d=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Li(this._lodPlanes[a],p),x=p.uniforms,_=this._sizeLods[i]-1,M=isFinite(r)?Math.PI/(2*_):2*Math.PI/(2*Of-1),C=r/M,T=isFinite(r)?1+Math.floor(m*C):Of;T>Of&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Of}`);const S=[];let w=0;for(let F=0;F<Of;++F){const z=F/C,P=Math.exp(-z*z/2);S.push(P),F===0?w+=P:F<T&&(w+=2*P)}for(let F=0;F<S.length;F++)S[F]=S[F]/w;x.envMap.value=e.texture,x.samples.value=T,x.weights.value=S,x.latitudinal.value=l==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:B}=this;x.dTheta.value=M,x.mipInt.value=B-i;const D=this._sizeLods[a],O=3*D*(a>B-qd?a-B+qd:0),I=4*(this._cubeSize-D);jy(t,O,I,3*D,2*D),d.setRenderTarget(t),d.render(v,Lb)}}function Vz(n){const e=[],t=[],i=[];let a=n;const r=n-qd+1+CC.length;for(let l=0;l<r;l++){const u=Math.pow(2,a);t.push(u);let d=1/u;l>n-qd?d=CC[l-n+qd-1]:l===0&&(d=0),i.push(d);const p=1/(u-2),m=-p,v=1+p,x=[m,m,v,m,v,v,m,m,v,v,m,v],_=6,M=6,C=3,T=2,S=1,w=new Float32Array(C*M*_),B=new Float32Array(T*M*_),D=new Float32Array(S*M*_);for(let I=0;I<_;I++){const F=I%3*2/3-1,z=I>2?0:-1,P=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0];w.set(P,C*M*I),B.set(x,T*M*I);const U=[I,I,I,I,I,I];D.set(U,S*M*I)}const O=new qt;O.setAttribute("position",new wn(w,C)),O.setAttribute("uv",new wn(B,T)),O.setAttribute("faceIndex",new wn(D,S)),e.push(O),a>qd&&a--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function BC(n,e,t){const i=new ho(n,e,t);return i.texture.mapping=Tp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function jy(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function kz(n,e,t){const i=new Float32Array(Of),a=new J(0,1,0);return new po({name:"SphericalGaussianBlur",defines:{n:Of,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function DC(){return new po({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function NC(){return new po({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:x1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function x1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jz(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const d=u.mapping,p=d===Jg||d===Kg,m=d===ic||d===cu;if(p||m){let v=e.get(u);const x=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return t===null&&(t=new zS(n)),v=p?t.fromEquirectangular(u,v):t.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),v.texture;if(v!==void 0)return v.texture;{const _=u.image;return p&&_&&_.height>0||m&&_&&a(_)?(t===null&&(t=new zS(n)),v=p?t.fromEquirectangular(u):t.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),u.addEventListener("dispose",r),v.texture):null}}}return u}function a(u){let d=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&d++;return d===p}function r(u){const d=u.target;d.removeEventListener("dispose",r);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function Xz(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let a;switch(i){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(i)}return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&tp("THREE.WebGLRenderer: "+i+" extension not supported."),a}}}function Yz(n,e,t,i){const a={},r=new WeakMap;function l(v){const x=v.target;x.index!==null&&e.remove(x.index);for(const M in x.attributes)e.remove(x.attributes[M]);x.removeEventListener("dispose",l),delete a[x.id];const _=r.get(x);_&&(e.remove(_),r.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function u(v,x){return a[x.id]===!0||(x.addEventListener("dispose",l),a[x.id]=!0,t.memory.geometries++),x}function d(v){const x=v.attributes;for(const _ in x)e.update(x[_],n.ARRAY_BUFFER)}function p(v){const x=[],_=v.index,M=v.attributes.position;let C=0;if(_!==null){const w=_.array;C=_.version;for(let B=0,D=w.length;B<D;B+=3){const O=w[B+0],I=w[B+1],F=w[B+2];x.push(O,I,I,F,F,O)}}else if(M!==void 0){const w=M.array;C=M.version;for(let B=0,D=w.length/3-1;B<D;B+=3){const O=B+0,I=B+1,F=B+2;x.push(O,I,I,F,F,O)}}else return;const T=new(tB(x)?jM:kM)(x,1);T.version=C;const S=r.get(v);S&&e.remove(S),r.set(v,T)}function m(v){const x=r.get(v);if(x){const _=v.index;_!==null&&x.version<_.version&&p(v)}else p(v);return r.get(v)}return{get:u,update:d,getWireframeAttribute:m}}function qz(n,e,t){let i;function a(x){i=x}let r,l;function u(x){r=x.type,l=x.bytesPerElement}function d(x,_){n.drawElements(i,_,r,x*l),t.update(_,i,1)}function p(x,_,M){M!==0&&(n.drawElementsInstanced(i,_,r,x*l,M),t.update(_,i,M))}function m(x,_,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,r,x,0,M);let T=0;for(let S=0;S<M;S++)T+=_[S];t.update(T,i,1)}function v(x,_,M,C){if(M===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let S=0;S<x.length;S++)p(x[S]/l,_[S],C[S]);else{T.multiDrawElementsInstancedWEBGL(i,_,0,r,x,0,C,0,M);let S=0;for(let w=0;w<M;w++)S+=_[w]*C[w];t.update(S,i,1)}}this.setMode=a,this.setIndex=u,this.render=d,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function Jz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(r/3);break;case n.LINES:t.lines+=u*(r/2);break;case n.LINE_STRIP:t.lines+=u*(r-1);break;case n.LINE_LOOP:t.lines+=u*r;break;case n.POINTS:t.points+=u*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function Kz(n,e,t){const i=new WeakMap,a=new Rn;function r(l,u,d){const p=l.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let x=i.get(u);if(x===void 0||x.count!==v){let U=function(){z.dispose(),i.delete(u),u.removeEventListener("dispose",U)};var _=U;x!==void 0&&x.texture.dispose();const M=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let D=0;M===!0&&(D=1),C===!0&&(D=2),T===!0&&(D=3);let O=u.attributes.position.count*D,I=1;O>e.maxTextureSize&&(I=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const F=new Float32Array(O*I*4*v),z=new w_(F,O,I,v);z.type=ys,z.needsUpdate=!0;const P=D*4;for(let X=0;X<v;X++){const ce=S[X],se=w[X],pe=B[X],Ae=O*I*4*X;for(let j=0;j<ce.count;j++){const Z=j*P;M===!0&&(a.fromBufferAttribute(ce,j),F[Ae+Z+0]=a.x,F[Ae+Z+1]=a.y,F[Ae+Z+2]=a.z,F[Ae+Z+3]=0),C===!0&&(a.fromBufferAttribute(se,j),F[Ae+Z+4]=a.x,F[Ae+Z+5]=a.y,F[Ae+Z+6]=a.z,F[Ae+Z+7]=0),T===!0&&(a.fromBufferAttribute(pe,j),F[Ae+Z+8]=a.x,F[Ae+Z+9]=a.y,F[Ae+Z+10]=a.z,F[Ae+Z+11]=pe.itemSize===4?a.w:1)}}x={count:v,texture:z,size:new Fe(O,I)},i.set(u,x),u.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let M=0;for(let T=0;T<p.length;T++)M+=p[T];const C=u.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",C),d.getUniforms().setValue(n,"morphTargetInfluences",p)}d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:r}}function Wz(n,e,t,i){let a=new WeakMap;function r(d){const p=i.render.frame,m=d.geometry,v=e.get(d,m);if(a.get(v)!==p&&(e.update(v),a.set(v,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),a.get(d)!==p&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),a.set(d,p))),d.isSkinnedMesh){const x=d.skeleton;a.get(x)!==p&&(x.update(),a.set(x,p))}return v}function l(){a=new WeakMap}function u(d){const p=d.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:r,dispose:l}}const tD=new li,LC=new F_(1,1),nD=new w_,iD=new B_,aD=new v0,UC=[],OC=[],PC=new Float32Array(16),IC=new Float32Array(9),FC=new Float32Array(4);function Bp(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=UC[a];if(r===void 0&&(r=new Float32Array(a),UC[a]=r),e!==0){i.toArray(r,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(r,u)}return r}function Qi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function $i(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function $_(n,e){let t=OC[e];t===void 0&&(t=new Int32Array(e),OC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Zz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Qz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2fv(this.addr,e),$i(t,e)}}function $z(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Qi(t,e))return;n.uniform3fv(this.addr,e),$i(t,e)}}function eG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4fv(this.addr,e),$i(t,e)}}function tG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),$i(t,e)}else{if(Qi(t,i))return;FC.set(i),n.uniformMatrix2fv(this.addr,!1,FC),$i(t,i)}}function nG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),$i(t,e)}else{if(Qi(t,i))return;IC.set(i),n.uniformMatrix3fv(this.addr,!1,IC),$i(t,i)}}function iG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),$i(t,e)}else{if(Qi(t,i))return;PC.set(i),n.uniformMatrix4fv(this.addr,!1,PC),$i(t,i)}}function aG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function sG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2iv(this.addr,e),$i(t,e)}}function rG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qi(t,e))return;n.uniform3iv(this.addr,e),$i(t,e)}}function oG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4iv(this.addr,e),$i(t,e)}}function lG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function cG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2uiv(this.addr,e),$i(t,e)}}function uG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qi(t,e))return;n.uniform3uiv(this.addr,e),$i(t,e)}}function fG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4uiv(this.addr,e),$i(t,e)}}function hG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(LC.compareFunction=zM,r=LC):r=tD,t.setTexture2D(e||r,a)}function dG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||iD,a)}function pG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||aD,a)}function mG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||nD,a)}function gG(n){switch(n){case 5126:return Zz;case 35664:return Qz;case 35665:return $z;case 35666:return eG;case 35674:return tG;case 35675:return nG;case 35676:return iG;case 5124:case 35670:return aG;case 35667:case 35671:return sG;case 35668:case 35672:return rG;case 35669:case 35673:return oG;case 5125:return lG;case 36294:return cG;case 36295:return uG;case 36296:return fG;case 35678:case 36198:case 36298:case 36306:case 35682:return hG;case 35679:case 36299:case 36307:return dG;case 35680:case 36300:case 36308:case 36293:return pG;case 36289:case 36303:case 36311:case 36292:return mG}}function vG(n,e){n.uniform1fv(this.addr,e)}function yG(n,e){const t=Bp(e,this.size,2);n.uniform2fv(this.addr,t)}function xG(n,e){const t=Bp(e,this.size,3);n.uniform3fv(this.addr,t)}function _G(n,e){const t=Bp(e,this.size,4);n.uniform4fv(this.addr,t)}function AG(n,e){const t=Bp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function bG(n,e){const t=Bp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function SG(n,e){const t=Bp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function MG(n,e){n.uniform1iv(this.addr,e)}function EG(n,e){n.uniform2iv(this.addr,e)}function TG(n,e){n.uniform3iv(this.addr,e)}function CG(n,e){n.uniform4iv(this.addr,e)}function RG(n,e){n.uniform1uiv(this.addr,e)}function wG(n,e){n.uniform2uiv(this.addr,e)}function BG(n,e){n.uniform3uiv(this.addr,e)}function DG(n,e){n.uniform4uiv(this.addr,e)}function NG(n,e,t){const i=this.cache,a=e.length,r=$_(t,a);Qi(i,r)||(n.uniform1iv(this.addr,r),$i(i,r));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||tD,r[l])}function LG(n,e,t){const i=this.cache,a=e.length,r=$_(t,a);Qi(i,r)||(n.uniform1iv(this.addr,r),$i(i,r));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||iD,r[l])}function UG(n,e,t){const i=this.cache,a=e.length,r=$_(t,a);Qi(i,r)||(n.uniform1iv(this.addr,r),$i(i,r));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||aD,r[l])}function OG(n,e,t){const i=this.cache,a=e.length,r=$_(t,a);Qi(i,r)||(n.uniform1iv(this.addr,r),$i(i,r));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||nD,r[l])}function PG(n){switch(n){case 5126:return vG;case 35664:return yG;case 35665:return xG;case 35666:return _G;case 35674:return AG;case 35675:return bG;case 35676:return SG;case 5124:case 35670:return MG;case 35667:case 35671:return EG;case 35668:case 35672:return TG;case 35669:case 35673:return CG;case 5125:return RG;case 36294:return wG;case 36295:return BG;case 36296:return DG;case 35678:case 36198:case 36298:case 36306:case 35682:return NG;case 35679:case 36299:case 36307:return LG;case 35680:case 36300:case 36308:case 36293:return UG;case 36289:case 36303:case 36311:case 36292:return OG}}class IG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=gG(t.type)}}class FG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=PG(t.type)}}class HG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,l=a.length;r!==l;++r){const u=a[r];u.setValue(e,t[u.id],i)}}}const Fb=/(\w+)(\])?(\[|\.)?/g;function HC(n,e){n.seq.push(e),n.map[e.id]=e}function zG(n,e,t){const i=n.name,a=i.length;for(Fb.lastIndex=0;;){const r=Fb.exec(i),l=Fb.lastIndex;let u=r[1];const d=r[2]==="]",p=r[3];if(d&&(u=u|0),p===void 0||p==="["&&l+2===a){HC(t,p===void 0?new IG(u,n,e):new FG(u,n,e));break}else{let v=t.map[u];v===void 0&&(v=new HG(u),HC(t,v)),t=v}}}class lx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),l=e.getUniformLocation(t,r.name);zG(r,l,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,l=t.length;r!==l;++r){const u=t[r],d=i[u.id];d.needsUpdate!==!1&&u.setValue(e,d.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const l=e[a];l.id in t&&i.push(l)}return i}}function zC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const GG=37297;let VG=0;function kG(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let l=a;l<r;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const GC=new Wt;function jG(n){bn._getMatrix(GC,bn.workingColorSpace,n);const e=`mat3( ${GC.elements.map(t=>t.toFixed(4))} )`;switch(bn.getTransfer(n)){case Zg:return[e,"LinearTransferOETF"];case zn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function VC(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const l=/ERROR: 0:(\d+)/.exec(r);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+r+`

`+kG(n.getShaderSource(e),u)}else return r}function XG(n,e){const t=jG(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function YG(n,e){let t;switch(e){case Lw:t="Linear";break;case Uw:t="Reinhard";break;case Ow:t="Cineon";break;case BM:t="ACESFilmic";break;case Iw:t="AgX";break;case Fw:t="Neutral";break;case Pw:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Xy=new J;function qG(){bn.getLuminanceCoefficients(Xy);const n=Xy.x.toFixed(4),e=Xy.y.toFixed(4),t=Xy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function JG(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cg).join(`
`)}function KG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function WG(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),l=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),t[l]={type:r.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function Cg(n){return n!==""}function kC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZG=/^[ \t]*#include +<([\w\d./]+)>/gm;function GS(n){return n.replace(ZG,$G)}const QG=new Map;function $G(n,e){let t=sn[e];if(t===void 0){const i=QG.get(e);if(i!==void 0)t=sn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return GS(t)}const e5=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function XC(n){return n.replace(e5,t5)}function t5(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function YC(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function n5(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===x_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Dg?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===oo&&(e="SHADOWMAP_TYPE_VSM"),e}function i5(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ic:case cu:e="ENVMAP_TYPE_CUBE";break;case Tp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function a5(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case cu:e="ENVMAP_MODE_REFRACTION";break}return e}function s5(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case m0:e="ENVMAP_BLENDING_MULTIPLY";break;case Dw:e="ENVMAP_BLENDING_MIX";break;case Nw:e="ENVMAP_BLENDING_ADD";break}return e}function r5(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function o5(n,e,t,i){const a=n.getContext(),r=t.defines;let l=t.vertexShader,u=t.fragmentShader;const d=n5(t),p=i5(t),m=a5(t),v=s5(t),x=r5(t),_=JG(t),M=KG(r),C=a.createProgram();let T,S,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Cg).join(`
`),T.length>0&&(T+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Cg).join(`
`),S.length>0&&(S+=`
`)):(T=[YC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cg).join(`
`),S=[YC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==tl?"#define TONE_MAPPING":"",t.toneMapping!==tl?sn.tonemapping_pars_fragment:"",t.toneMapping!==tl?YG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,XG("linearToOutputTexel",t.outputColorSpace),qG(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cg).join(`
`)),l=GS(l),l=kC(l,t),l=jC(l,t),u=GS(u),u=kC(u,t),u=jC(u,t),l=XC(l),u=XC(u),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,T=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,S=["#define varying in",t.glslVersion===NS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===NS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const B=w+T+l,D=w+S+u,O=zC(a,a.VERTEX_SHADER,B),I=zC(a,a.FRAGMENT_SHADER,D);a.attachShader(C,O),a.attachShader(C,I),t.index0AttributeName!==void 0?a.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(C,0,"position"),a.linkProgram(C);function F(X){if(n.debug.checkShaderErrors){const ce=a.getProgramInfoLog(C)||"",se=a.getShaderInfoLog(O)||"",pe=a.getShaderInfoLog(I)||"",Ae=ce.trim(),j=se.trim(),Z=pe.trim();let Q=!0,ve=!0;if(a.getProgramParameter(C,a.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,C,O,I);else{const ye=VC(a,O,"vertex"),Y=VC(a,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(C,a.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+Ae+`
`+ye+`
`+Y)}else Ae!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ae):(j===""||Z==="")&&(ve=!1);ve&&(X.diagnostics={runnable:Q,programLog:Ae,vertexShader:{log:j,prefix:T},fragmentShader:{log:Z,prefix:S}})}a.deleteShader(O),a.deleteShader(I),z=new lx(a,C),P=WG(a,C)}let z;this.getUniforms=function(){return z===void 0&&F(this),z};let P;this.getAttributes=function(){return P===void 0&&F(this),P};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=a.getProgramParameter(C,GG)),U},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(C),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=VG++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=O,this.fragmentShader=I,this}let l5=0;class c5{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new u5(e),t.set(e,i)),i}}class u5{constructor(e){this.id=l5++,this.code=e,this.usedTimes=0}}function f5(n,e,t,i,a,r,l){const u=new mp,d=new c5,p=new Set,m=[],v=a.logarithmicDepthBuffer,x=a.vertexTextures;let _=a.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(P){return p.add(P),P===0?"uv":`uv${P}`}function T(P,U,X,ce,se){const pe=ce.fog,Ae=se.geometry,j=P.isMeshStandardMaterial?ce.environment:null,Z=(P.isMeshStandardMaterial?t:e).get(P.envMap||j),Q=Z&&Z.mapping===Tp?Z.image.height:null,ve=M[P.type];P.precision!==null&&(_=a.getMaxPrecision(P.precision),_!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",_,"instead."));const ye=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Y=ye!==void 0?ye.length:0;let oe=0;Ae.morphAttributes.position!==void 0&&(oe=1),Ae.morphAttributes.normal!==void 0&&(oe=2),Ae.morphAttributes.color!==void 0&&(oe=3);let Be,De,ue,Ue;if(ve){const Xt=lo[ve];Be=Xt.vertexShader,De=Xt.fragmentShader}else Be=P.vertexShader,De=P.fragmentShader,d.update(P),ue=d.getVertexShaderID(P),Ue=d.getFragmentShaderID(P);const Ie=n.getRenderTarget(),lt=n.state.buffers.depth.getReversed(),at=se.isInstancedMesh===!0,Tt=se.isBatchedMesh===!0,pn=!!P.map,Bt=!!P.matcap,ee=!!Z,Ge=!!P.aoMap,Ne=!!P.lightMap,Je=!!P.bumpMap,Oe=!!P.normalMap,it=!!P.displacementMap,qe=!!P.emissiveMap,$e=!!P.metalnessMap,Dt=!!P.roughnessMap,Ut=P.anisotropy>0,K=P.clearcoat>0,H=P.dispersion>0,ge=P.iridescence>0,Re=P.sheen>0,Xe=P.transmission>0,we=Ut&&!!P.anisotropyMap,xt=K&&!!P.clearcoatMap,tt=K&&!!P.clearcoatNormalMap,pt=K&&!!P.clearcoatRoughnessMap,gt=ge&&!!P.iridescenceMap,Ye=ge&&!!P.iridescenceThicknessMap,Qe=Re&&!!P.sheenColorMap,vt=Re&&!!P.sheenRoughnessMap,$=!!P.specularMap,xe=!!P.specularColorMap,et=!!P.specularIntensityMap,te=Xe&&!!P.transmissionMap,Ve=Xe&&!!P.thicknessMap,We=!!P.gradientMap,rt=!!P.alphaMap,Ke=P.alphaTest>0,He=!!P.alphaHash,ot=!!P.extensions;let St=tl;P.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(St=n.toneMapping);const en={shaderID:ve,shaderType:P.type,shaderName:P.name,vertexShader:Be,fragmentShader:De,defines:P.defines,customVertexShaderID:ue,customFragmentShaderID:Ue,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:_,batching:Tt,batchingColor:Tt&&se._colorsTexture!==null,instancing:at,instancingColor:at&&se.instanceColor!==null,instancingMorph:at&&se.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:Ie===null?n.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:fu,alphaToCoverage:!!P.alphaToCoverage,map:pn,matcap:Bt,envMap:ee,envMapMode:ee&&Z.mapping,envMapCubeUVHeight:Q,aoMap:Ge,lightMap:Ne,bumpMap:Je,normalMap:Oe,displacementMap:x&&it,emissiveMap:qe,normalMapObjectSpace:Oe&&P.normalMapType===Yw,normalMapTangentSpace:Oe&&P.normalMapType===vu,metalnessMap:$e,roughnessMap:Dt,anisotropy:Ut,anisotropyMap:we,clearcoat:K,clearcoatMap:xt,clearcoatNormalMap:tt,clearcoatRoughnessMap:pt,dispersion:H,iridescence:ge,iridescenceMap:gt,iridescenceThicknessMap:Ye,sheen:Re,sheenColorMap:Qe,sheenRoughnessMap:vt,specularMap:$,specularColorMap:xe,specularIntensityMap:et,transmission:Xe,transmissionMap:te,thicknessMap:Ve,gradientMap:We,opaque:P.transparent===!1&&P.blending===Xf&&P.alphaToCoverage===!1,alphaMap:rt,alphaTest:Ke,alphaHash:He,combine:P.combine,mapUv:pn&&C(P.map.channel),aoMapUv:Ge&&C(P.aoMap.channel),lightMapUv:Ne&&C(P.lightMap.channel),bumpMapUv:Je&&C(P.bumpMap.channel),normalMapUv:Oe&&C(P.normalMap.channel),displacementMapUv:it&&C(P.displacementMap.channel),emissiveMapUv:qe&&C(P.emissiveMap.channel),metalnessMapUv:$e&&C(P.metalnessMap.channel),roughnessMapUv:Dt&&C(P.roughnessMap.channel),anisotropyMapUv:we&&C(P.anisotropyMap.channel),clearcoatMapUv:xt&&C(P.clearcoatMap.channel),clearcoatNormalMapUv:tt&&C(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&C(P.clearcoatRoughnessMap.channel),iridescenceMapUv:gt&&C(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ye&&C(P.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&C(P.sheenColorMap.channel),sheenRoughnessMapUv:vt&&C(P.sheenRoughnessMap.channel),specularMapUv:$&&C(P.specularMap.channel),specularColorMapUv:xe&&C(P.specularColorMap.channel),specularIntensityMapUv:et&&C(P.specularIntensityMap.channel),transmissionMapUv:te&&C(P.transmissionMap.channel),thicknessMapUv:Ve&&C(P.thicknessMap.channel),alphaMapUv:rt&&C(P.alphaMap.channel),vertexTangents:!!Ae.attributes.tangent&&(Oe||Ut),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!Ae.attributes.uv&&(pn||rt),fog:!!pe,useFog:P.fog===!0,fogExp2:!!pe&&pe.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:lt,skinning:se.isSkinnedMesh===!0,morphTargets:Ae.morphAttributes.position!==void 0,morphNormals:Ae.morphAttributes.normal!==void 0,morphColors:Ae.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:oe,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&X.length>0,shadowMapType:n.shadowMap.type,toneMapping:St,decodeVideoTexture:pn&&P.map.isVideoTexture===!0&&bn.getTransfer(P.map.colorSpace)===zn,decodeVideoTextureEmissive:qe&&P.emissiveMap.isVideoTexture===!0&&bn.getTransfer(P.emissiveMap.colorSpace)===zn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===co,flipSided:P.side===_s,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:ot&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ot&&P.extensions.multiDraw===!0||Tt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return en.vertexUv1s=p.has(1),en.vertexUv2s=p.has(2),en.vertexUv3s=p.has(3),p.clear(),en}function S(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const X in P.defines)U.push(X),U.push(P.defines[X]);return P.isRawShaderMaterial===!1&&(w(U,P),B(U,P),U.push(n.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function B(P,U){u.disableAll(),U.supportsVertexTextures&&u.enable(0),U.instancing&&u.enable(1),U.instancingColor&&u.enable(2),U.instancingMorph&&u.enable(3),U.matcap&&u.enable(4),U.envMap&&u.enable(5),U.normalMapObjectSpace&&u.enable(6),U.normalMapTangentSpace&&u.enable(7),U.clearcoat&&u.enable(8),U.iridescence&&u.enable(9),U.alphaTest&&u.enable(10),U.vertexColors&&u.enable(11),U.vertexAlphas&&u.enable(12),U.vertexUv1s&&u.enable(13),U.vertexUv2s&&u.enable(14),U.vertexUv3s&&u.enable(15),U.vertexTangents&&u.enable(16),U.anisotropy&&u.enable(17),U.alphaHash&&u.enable(18),U.batching&&u.enable(19),U.dispersion&&u.enable(20),U.batchingColor&&u.enable(21),U.gradientMap&&u.enable(22),P.push(u.mask),u.disableAll(),U.fog&&u.enable(0),U.useFog&&u.enable(1),U.flatShading&&u.enable(2),U.logarithmicDepthBuffer&&u.enable(3),U.reversedDepthBuffer&&u.enable(4),U.skinning&&u.enable(5),U.morphTargets&&u.enable(6),U.morphNormals&&u.enable(7),U.morphColors&&u.enable(8),U.premultipliedAlpha&&u.enable(9),U.shadowMapEnabled&&u.enable(10),U.doubleSided&&u.enable(11),U.flipSided&&u.enable(12),U.useDepthPacking&&u.enable(13),U.dithering&&u.enable(14),U.transmission&&u.enable(15),U.sheen&&u.enable(16),U.opaque&&u.enable(17),U.pointsUvs&&u.enable(18),U.decodeVideoTexture&&u.enable(19),U.decodeVideoTextureEmissive&&u.enable(20),U.alphaToCoverage&&u.enable(21),P.push(u.mask)}function D(P){const U=M[P.type];let X;if(U){const ce=lo[U];X=rB.clone(ce.uniforms)}else X=P.uniforms;return X}function O(P,U){let X;for(let ce=0,se=m.length;ce<se;ce++){const pe=m[ce];if(pe.cacheKey===U){X=pe,++X.usedTimes;break}}return X===void 0&&(X=new o5(n,U,P,r),m.push(X)),X}function I(P){if(--P.usedTimes===0){const U=m.indexOf(P);m[U]=m[m.length-1],m.pop(),P.destroy()}}function F(P){d.remove(P)}function z(){d.dispose()}return{getParameters:T,getProgramCacheKey:S,getUniforms:D,acquireProgram:O,releaseProgram:I,releaseShaderCache:F,programs:m,dispose:z}}function h5(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function a(l,u,d){n.get(l)[u]=d}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function d5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function qC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function JC(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function l(v,x,_,M,C,T){let S=n[e];return S===void 0?(S={id:v.id,object:v,geometry:x,material:_,groupOrder:M,renderOrder:v.renderOrder,z:C,group:T},n[e]=S):(S.id=v.id,S.object=v,S.geometry=x,S.material=_,S.groupOrder=M,S.renderOrder=v.renderOrder,S.z=C,S.group=T),e++,S}function u(v,x,_,M,C,T){const S=l(v,x,_,M,C,T);_.transmission>0?i.push(S):_.transparent===!0?a.push(S):t.push(S)}function d(v,x,_,M,C,T){const S=l(v,x,_,M,C,T);_.transmission>0?i.unshift(S):_.transparent===!0?a.unshift(S):t.unshift(S)}function p(v,x){t.length>1&&t.sort(v||d5),i.length>1&&i.sort(x||qC),a.length>1&&a.sort(x||qC)}function m(){for(let v=e,x=n.length;v<x;v++){const _=n[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:u,unshift:d,finish:m,sort:p}}function p5(){let n=new WeakMap;function e(i,a){const r=n.get(i);let l;return r===void 0?(l=new JC,n.set(i,[l])):a>=r.length?(l=new JC,r.push(l)):l=r[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function m5(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new J,color:new ut};break;case"SpotLight":t={position:new J,direction:new J,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new J,color:new ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new J,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":t={color:new ut,position:new J,halfWidth:new J,halfHeight:new J};break}return n[e.id]=t,t}}}function g5(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let v5=0;function y5(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function x5(n){const e=new m5,t=g5(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new J);const a=new J,r=new It,l=new It;function u(p){let m=0,v=0,x=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let _=0,M=0,C=0,T=0,S=0,w=0,B=0,D=0,O=0,I=0,F=0;p.sort(y5);for(let P=0,U=p.length;P<U;P++){const X=p[P],ce=X.color,se=X.intensity,pe=X.distance,Ae=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)m+=ce.r*se,v+=ce.g*se,x+=ce.b*se;else if(X.isLightProbe){for(let j=0;j<9;j++)i.probe[j].addScaledVector(X.sh.coefficients[j],se);F++}else if(X.isDirectionalLight){const j=e.get(X);if(j.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const Z=X.shadow,Q=t.get(X);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.directionalShadow[_]=Q,i.directionalShadowMap[_]=Ae,i.directionalShadowMatrix[_]=X.shadow.matrix,w++}i.directional[_]=j,_++}else if(X.isSpotLight){const j=e.get(X);j.position.setFromMatrixPosition(X.matrixWorld),j.color.copy(ce).multiplyScalar(se),j.distance=pe,j.coneCos=Math.cos(X.angle),j.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),j.decay=X.decay,i.spot[C]=j;const Z=X.shadow;if(X.map&&(i.spotLightMap[O]=X.map,O++,Z.updateMatrices(X),X.castShadow&&I++),i.spotLightMatrix[C]=Z.matrix,X.castShadow){const Q=t.get(X);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.spotShadow[C]=Q,i.spotShadowMap[C]=Ae,D++}C++}else if(X.isRectAreaLight){const j=e.get(X);j.color.copy(ce).multiplyScalar(se),j.halfWidth.set(X.width*.5,0,0),j.halfHeight.set(0,X.height*.5,0),i.rectArea[T]=j,T++}else if(X.isPointLight){const j=e.get(X);if(j.color.copy(X.color).multiplyScalar(X.intensity),j.distance=X.distance,j.decay=X.decay,X.castShadow){const Z=X.shadow,Q=t.get(X);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,Q.shadowCameraNear=Z.camera.near,Q.shadowCameraFar=Z.camera.far,i.pointShadow[M]=Q,i.pointShadowMap[M]=Ae,i.pointShadowMatrix[M]=X.shadow.matrix,B++}i.point[M]=j,M++}else if(X.isHemisphereLight){const j=e.get(X);j.skyColor.copy(X.color).multiplyScalar(se),j.groundColor.copy(X.groundColor).multiplyScalar(se),i.hemi[S]=j,S++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ht.LTC_FLOAT_1,i.rectAreaLTC2=ht.LTC_FLOAT_2):(i.rectAreaLTC1=ht.LTC_HALF_1,i.rectAreaLTC2=ht.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const z=i.hash;(z.directionalLength!==_||z.pointLength!==M||z.spotLength!==C||z.rectAreaLength!==T||z.hemiLength!==S||z.numDirectionalShadows!==w||z.numPointShadows!==B||z.numSpotShadows!==D||z.numSpotMaps!==O||z.numLightProbes!==F)&&(i.directional.length=_,i.spot.length=C,i.rectArea.length=T,i.point.length=M,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=D+O-I,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=F,z.directionalLength=_,z.pointLength=M,z.spotLength=C,z.rectAreaLength=T,z.hemiLength=S,z.numDirectionalShadows=w,z.numPointShadows=B,z.numSpotShadows=D,z.numSpotMaps=O,z.numLightProbes=F,i.version=v5++)}function d(p,m){let v=0,x=0,_=0,M=0,C=0;const T=m.matrixWorldInverse;for(let S=0,w=p.length;S<w;S++){const B=p[S];if(B.isDirectionalLight){const D=i.directional[v];D.direction.setFromMatrixPosition(B.matrixWorld),a.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(a),D.direction.transformDirection(T),v++}else if(B.isSpotLight){const D=i.spot[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),D.direction.setFromMatrixPosition(B.matrixWorld),a.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(a),D.direction.transformDirection(T),_++}else if(B.isRectAreaLight){const D=i.rectArea[M];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),l.identity(),r.copy(B.matrixWorld),r.premultiply(T),l.extractRotation(r),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(l),D.halfHeight.applyMatrix4(l),M++}else if(B.isPointLight){const D=i.point[x];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),x++}else if(B.isHemisphereLight){const D=i.hemi[C];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(T),C++}}}return{setup:u,setupView:d,state:i}}function KC(n){const e=new x5(n),t=[],i=[];function a(m){p.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function l(m){i.push(m)}function u(){e.setup(t)}function d(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:p,setupLights:u,setupLightsView:d,pushLight:r,pushShadow:l}}function _5(n){let e=new WeakMap;function t(a,r=0){const l=e.get(a);let u;return l===void 0?(u=new KC(n),e.set(a,[u])):r>=l.length?(u=new KC(n),l.push(u)):u=l[r],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const A5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,b5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function S5(n,e,t){let i=new Cp;const a=new Fe,r=new Fe,l=new Rn,u=new i1({depthPacking:Xw}),d=new a1,p={},m=t.maxTextureSize,v={[sl]:_s,[_s]:sl,[co]:co},x=new po({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:A5,fragmentShader:b5}),_=x.clone();_.defines.HORIZONTAL_PASS=1;const M=new qt;M.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Li(M,x),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x_;let S=this.type;this.render=function(I,F,z){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||I.length===0)return;const P=n.getRenderTarget(),U=n.getActiveCubeFace(),X=n.getActiveMipmapLevel(),ce=n.state;ce.setBlending(Ql),ce.buffers.depth.getReversed()?ce.buffers.color.setClear(0,0,0,0):ce.buffers.color.setClear(1,1,1,1),ce.buffers.depth.setTest(!0),ce.setScissorTest(!1);const se=S!==oo&&this.type===oo,pe=S===oo&&this.type!==oo;for(let Ae=0,j=I.length;Ae<j;Ae++){const Z=I[Ae],Q=Z.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;a.copy(Q.mapSize);const ve=Q.getFrameExtents();if(a.multiply(ve),r.copy(Q.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(r.x=Math.floor(m/ve.x),a.x=r.x*ve.x,Q.mapSize.x=r.x),a.y>m&&(r.y=Math.floor(m/ve.y),a.y=r.y*ve.y,Q.mapSize.y=r.y)),Q.map===null||se===!0||pe===!0){const Y=this.type!==oo?{minFilter:da,magFilter:da}:{};Q.map!==null&&Q.map.dispose(),Q.map=new ho(a.x,a.y,Y),Q.map.texture.name=Z.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const ye=Q.getViewportCount();for(let Y=0;Y<ye;Y++){const oe=Q.getViewport(Y);l.set(r.x*oe.x,r.y*oe.y,r.x*oe.z,r.y*oe.w),ce.viewport(l),Q.updateMatrices(Z,Y),i=Q.getFrustum(),D(F,z,Q.camera,Z,this.type)}Q.isPointLightShadow!==!0&&this.type===oo&&w(Q,z),Q.needsUpdate=!1}S=this.type,T.needsUpdate=!1,n.setRenderTarget(P,U,X)};function w(I,F){const z=e.update(C);x.defines.VSM_SAMPLES!==I.blurSamples&&(x.defines.VSM_SAMPLES=I.blurSamples,_.defines.VSM_SAMPLES=I.blurSamples,x.needsUpdate=!0,_.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new ho(a.x,a.y)),x.uniforms.shadow_pass.value=I.map.texture,x.uniforms.resolution.value=I.mapSize,x.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(F,null,z,x,C,null),_.uniforms.shadow_pass.value=I.mapPass.texture,_.uniforms.resolution.value=I.mapSize,_.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(F,null,z,_,C,null)}function B(I,F,z,P){let U=null;const X=z.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(X!==void 0)U=X;else if(U=z.isPointLight===!0?d:u,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const ce=U.uuid,se=F.uuid;let pe=p[ce];pe===void 0&&(pe={},p[ce]=pe);let Ae=pe[se];Ae===void 0&&(Ae=U.clone(),pe[se]=Ae,F.addEventListener("dispose",O)),U=Ae}if(U.visible=F.visible,U.wireframe=F.wireframe,P===oo?U.side=F.shadowSide!==null?F.shadowSide:F.side:U.side=F.shadowSide!==null?F.shadowSide:v[F.side],U.alphaMap=F.alphaMap,U.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,U.map=F.map,U.clipShadows=F.clipShadows,U.clippingPlanes=F.clippingPlanes,U.clipIntersection=F.clipIntersection,U.displacementMap=F.displacementMap,U.displacementScale=F.displacementScale,U.displacementBias=F.displacementBias,U.wireframeLinewidth=F.wireframeLinewidth,U.linewidth=F.linewidth,z.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const ce=n.properties.get(U);ce.light=z}return U}function D(I,F,z,P,U){if(I.visible===!1)return;if(I.layers.test(F.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&U===oo)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,I.matrixWorld);const se=e.update(I),pe=I.material;if(Array.isArray(pe)){const Ae=se.groups;for(let j=0,Z=Ae.length;j<Z;j++){const Q=Ae[j],ve=pe[Q.materialIndex];if(ve&&ve.visible){const ye=B(I,ve,P,U);I.onBeforeShadow(n,I,F,z,se,ye,Q),n.renderBufferDirect(z,null,se,ye,I,Q),I.onAfterShadow(n,I,F,z,se,ye,Q)}}}else if(pe.visible){const Ae=B(I,pe,P,U);I.onBeforeShadow(n,I,F,z,se,Ae,null),n.renderBufferDirect(z,null,se,Ae,I,null),I.onAfterShadow(n,I,F,z,se,Ae,null)}}const ce=I.children;for(let se=0,pe=ce.length;se<pe;se++)D(ce[se],F,z,P,U)}function O(I){I.target.removeEventListener("dispose",O);for(const z in p){const P=p[z],U=I.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const M5={[yx]:xx,[_x]:Sx,[Ax]:Mx,[Zf]:bx,[xx]:yx,[Sx]:_x,[Mx]:Ax,[bx]:Zf};function E5(n,e){function t(){let te=!1;const Ve=new Rn;let We=null;const rt=new Rn(0,0,0,0);return{setMask:function(Ke){We!==Ke&&!te&&(n.colorMask(Ke,Ke,Ke,Ke),We=Ke)},setLocked:function(Ke){te=Ke},setClear:function(Ke,He,ot,St,en){en===!0&&(Ke*=St,He*=St,ot*=St),Ve.set(Ke,He,ot,St),rt.equals(Ve)===!1&&(n.clearColor(Ke,He,ot,St),rt.copy(Ve))},reset:function(){te=!1,We=null,rt.set(-1,0,0,0)}}}function i(){let te=!1,Ve=!1,We=null,rt=null,Ke=null;return{setReversed:function(He){if(Ve!==He){const ot=e.get("EXT_clip_control");He?ot.clipControlEXT(ot.LOWER_LEFT_EXT,ot.ZERO_TO_ONE_EXT):ot.clipControlEXT(ot.LOWER_LEFT_EXT,ot.NEGATIVE_ONE_TO_ONE_EXT),Ve=He;const St=Ke;Ke=null,this.setClear(St)}},getReversed:function(){return Ve},setTest:function(He){He?Ie(n.DEPTH_TEST):lt(n.DEPTH_TEST)},setMask:function(He){We!==He&&!te&&(n.depthMask(He),We=He)},setFunc:function(He){if(Ve&&(He=M5[He]),rt!==He){switch(He){case yx:n.depthFunc(n.NEVER);break;case xx:n.depthFunc(n.ALWAYS);break;case _x:n.depthFunc(n.LESS);break;case Zf:n.depthFunc(n.LEQUAL);break;case Ax:n.depthFunc(n.EQUAL);break;case bx:n.depthFunc(n.GEQUAL);break;case Sx:n.depthFunc(n.GREATER);break;case Mx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}rt=He}},setLocked:function(He){te=He},setClear:function(He){Ke!==He&&(Ve&&(He=1-He),n.clearDepth(He),Ke=He)},reset:function(){te=!1,We=null,rt=null,Ke=null,Ve=!1}}}function a(){let te=!1,Ve=null,We=null,rt=null,Ke=null,He=null,ot=null,St=null,en=null;return{setTest:function(Xt){te||(Xt?Ie(n.STENCIL_TEST):lt(n.STENCIL_TEST))},setMask:function(Xt){Ve!==Xt&&!te&&(n.stencilMask(Xt),Ve=Xt)},setFunc:function(Xt,$n,Ui){(We!==Xt||rt!==$n||Ke!==Ui)&&(n.stencilFunc(Xt,$n,Ui),We=Xt,rt=$n,Ke=Ui)},setOp:function(Xt,$n,Ui){(He!==Xt||ot!==$n||St!==Ui)&&(n.stencilOp(Xt,$n,Ui),He=Xt,ot=$n,St=Ui)},setLocked:function(Xt){te=Xt},setClear:function(Xt){en!==Xt&&(n.clearStencil(Xt),en=Xt)},reset:function(){te=!1,Ve=null,We=null,rt=null,Ke=null,He=null,ot=null,St=null,en=null}}}const r=new t,l=new i,u=new a,d=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,_=[],M=null,C=!1,T=null,S=null,w=null,B=null,D=null,O=null,I=null,F=new ut(0,0,0),z=0,P=!1,U=null,X=null,ce=null,se=null,pe=null;const Ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let j=!1,Z=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Q)[1]),j=Z>=1):Q.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),j=Z>=2);let ve=null,ye={};const Y=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),Be=new Rn().fromArray(Y),De=new Rn().fromArray(oe);function ue(te,Ve,We,rt){const Ke=new Uint8Array(4),He=n.createTexture();n.bindTexture(te,He),n.texParameteri(te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ot=0;ot<We;ot++)te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY?n.texImage3D(Ve,0,n.RGBA,1,1,rt,0,n.RGBA,n.UNSIGNED_BYTE,Ke):n.texImage2D(Ve+ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ke);return He}const Ue={};Ue[n.TEXTURE_2D]=ue(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=ue(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ue[n.TEXTURE_2D_ARRAY]=ue(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=ue(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ie(n.DEPTH_TEST),l.setFunc(Zf),Je(!1),Oe(TS),Ie(n.CULL_FACE),Ge(Ql);function Ie(te){m[te]!==!0&&(n.enable(te),m[te]=!0)}function lt(te){m[te]!==!1&&(n.disable(te),m[te]=!1)}function at(te,Ve){return v[te]!==Ve?(n.bindFramebuffer(te,Ve),v[te]=Ve,te===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Ve),te===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Ve),!0):!1}function Tt(te,Ve){let We=_,rt=!1;if(te){We=x.get(Ve),We===void 0&&(We=[],x.set(Ve,We));const Ke=te.textures;if(We.length!==Ke.length||We[0]!==n.COLOR_ATTACHMENT0){for(let He=0,ot=Ke.length;He<ot;He++)We[He]=n.COLOR_ATTACHMENT0+He;We.length=Ke.length,rt=!0}}else We[0]!==n.BACK&&(We[0]=n.BACK,rt=!0);rt&&n.drawBuffers(We)}function pn(te){return M!==te?(n.useProgram(te),M=te,!0):!1}const Bt={[su]:n.FUNC_ADD,[pw]:n.FUNC_SUBTRACT,[mw]:n.FUNC_REVERSE_SUBTRACT};Bt[gw]=n.MIN,Bt[vw]=n.MAX;const ee={[yw]:n.ZERO,[xw]:n.ONE,[_w]:n.SRC_COLOR,[gx]:n.SRC_ALPHA,[Tw]:n.SRC_ALPHA_SATURATE,[Mw]:n.DST_COLOR,[bw]:n.DST_ALPHA,[Aw]:n.ONE_MINUS_SRC_COLOR,[vx]:n.ONE_MINUS_SRC_ALPHA,[Ew]:n.ONE_MINUS_DST_COLOR,[Sw]:n.ONE_MINUS_DST_ALPHA,[Cw]:n.CONSTANT_COLOR,[Rw]:n.ONE_MINUS_CONSTANT_COLOR,[ww]:n.CONSTANT_ALPHA,[Bw]:n.ONE_MINUS_CONSTANT_ALPHA};function Ge(te,Ve,We,rt,Ke,He,ot,St,en,Xt){if(te===Ql){C===!0&&(lt(n.BLEND),C=!1);return}if(C===!1&&(Ie(n.BLEND),C=!0),te!==dw){if(te!==T||Xt!==P){if((S!==su||D!==su)&&(n.blendEquation(n.FUNC_ADD),S=su,D=su),Xt)switch(te){case Xf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case CS:n.blendFunc(n.ONE,n.ONE);break;case RS:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case wS:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Xf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case CS:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case RS:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case wS:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}w=null,B=null,O=null,I=null,F.set(0,0,0),z=0,T=te,P=Xt}return}Ke=Ke||Ve,He=He||We,ot=ot||rt,(Ve!==S||Ke!==D)&&(n.blendEquationSeparate(Bt[Ve],Bt[Ke]),S=Ve,D=Ke),(We!==w||rt!==B||He!==O||ot!==I)&&(n.blendFuncSeparate(ee[We],ee[rt],ee[He],ee[ot]),w=We,B=rt,O=He,I=ot),(St.equals(F)===!1||en!==z)&&(n.blendColor(St.r,St.g,St.b,en),F.copy(St),z=en),T=te,P=!1}function Ne(te,Ve){te.side===co?lt(n.CULL_FACE):Ie(n.CULL_FACE);let We=te.side===_s;Ve&&(We=!We),Je(We),te.blending===Xf&&te.transparent===!1?Ge(Ql):Ge(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),r.setMask(te.colorWrite);const rt=te.stencilWrite;u.setTest(rt),rt&&(u.setMask(te.stencilWriteMask),u.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),u.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),qe(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Ie(n.SAMPLE_ALPHA_TO_COVERAGE):lt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Je(te){U!==te&&(te?n.frontFace(n.CW):n.frontFace(n.CCW),U=te)}function Oe(te){te!==uw?(Ie(n.CULL_FACE),te!==X&&(te===TS?n.cullFace(n.BACK):te===fw?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):lt(n.CULL_FACE),X=te}function it(te){te!==ce&&(j&&n.lineWidth(te),ce=te)}function qe(te,Ve,We){te?(Ie(n.POLYGON_OFFSET_FILL),(se!==Ve||pe!==We)&&(n.polygonOffset(Ve,We),se=Ve,pe=We)):lt(n.POLYGON_OFFSET_FILL)}function $e(te){te?Ie(n.SCISSOR_TEST):lt(n.SCISSOR_TEST)}function Dt(te){te===void 0&&(te=n.TEXTURE0+Ae-1),ve!==te&&(n.activeTexture(te),ve=te)}function Ut(te,Ve,We){We===void 0&&(ve===null?We=n.TEXTURE0+Ae-1:We=ve);let rt=ye[We];rt===void 0&&(rt={type:void 0,texture:void 0},ye[We]=rt),(rt.type!==te||rt.texture!==Ve)&&(ve!==We&&(n.activeTexture(We),ve=We),n.bindTexture(te,Ve||Ue[te]),rt.type=te,rt.texture=Ve)}function K(){const te=ye[ve];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function H(){try{n.compressedTexImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ge(){try{n.compressedTexImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{n.texSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{n.texSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function we(){try{n.compressedTexSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function xt(){try{n.compressedTexSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function tt(){try{n.texStorage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pt(){try{n.texStorage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function gt(){try{n.texImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ye(){try{n.texImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Qe(te){Be.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),Be.copy(te))}function vt(te){De.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),De.copy(te))}function $(te,Ve){let We=p.get(Ve);We===void 0&&(We=new WeakMap,p.set(Ve,We));let rt=We.get(te);rt===void 0&&(rt=n.getUniformBlockIndex(Ve,te.name),We.set(te,rt))}function xe(te,Ve){const rt=p.get(Ve).get(te);d.get(Ve)!==rt&&(n.uniformBlockBinding(Ve,rt,te.__bindingPointIndex),d.set(Ve,rt))}function et(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},ve=null,ye={},v={},x=new WeakMap,_=[],M=null,C=!1,T=null,S=null,w=null,B=null,D=null,O=null,I=null,F=new ut(0,0,0),z=0,P=!1,U=null,X=null,ce=null,se=null,pe=null,Be.set(0,0,n.canvas.width,n.canvas.height),De.set(0,0,n.canvas.width,n.canvas.height),r.reset(),l.reset(),u.reset()}return{buffers:{color:r,depth:l,stencil:u},enable:Ie,disable:lt,bindFramebuffer:at,drawBuffers:Tt,useProgram:pn,setBlending:Ge,setMaterial:Ne,setFlipSided:Je,setCullFace:Oe,setLineWidth:it,setPolygonOffset:qe,setScissorTest:$e,activeTexture:Dt,bindTexture:Ut,unbindTexture:K,compressedTexImage2D:H,compressedTexImage3D:ge,texImage2D:gt,texImage3D:Ye,updateUBOMapping:$,uniformBlockBinding:xe,texStorage2D:tt,texStorage3D:pt,texSubImage2D:Re,texSubImage3D:Xe,compressedTexSubImage2D:we,compressedTexSubImage3D:xt,scissor:Qe,viewport:vt,reset:et}}function T5(n,e,t,i,a,r,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Fe,m=new WeakMap;let v;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(K,H){return _?new OffscreenCanvas(K,H):$g("canvas")}function C(K,H,ge){let Re=1;const Xe=Ut(K);if((Xe.width>ge||Xe.height>ge)&&(Re=ge/Math.max(Xe.width,Xe.height)),Re<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const we=Math.floor(Re*Xe.width),xt=Math.floor(Re*Xe.height);v===void 0&&(v=M(we,xt));const tt=H?M(we,xt):v;return tt.width=we,tt.height=xt,tt.getContext("2d").drawImage(K,0,0,we,xt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xe.width+"x"+Xe.height+") to ("+we+"x"+xt+")."),tt}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xe.width+"x"+Xe.height+")."),K;return K}function T(K){return K.generateMipmaps}function S(K){n.generateMipmap(K)}function w(K){return K.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?n.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(K,H,ge,Re,Xe=!1){if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let we=H;if(H===n.RED&&(ge===n.FLOAT&&(we=n.R32F),ge===n.HALF_FLOAT&&(we=n.R16F),ge===n.UNSIGNED_BYTE&&(we=n.R8)),H===n.RED_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.R8UI),ge===n.UNSIGNED_SHORT&&(we=n.R16UI),ge===n.UNSIGNED_INT&&(we=n.R32UI),ge===n.BYTE&&(we=n.R8I),ge===n.SHORT&&(we=n.R16I),ge===n.INT&&(we=n.R32I)),H===n.RG&&(ge===n.FLOAT&&(we=n.RG32F),ge===n.HALF_FLOAT&&(we=n.RG16F),ge===n.UNSIGNED_BYTE&&(we=n.RG8)),H===n.RG_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RG8UI),ge===n.UNSIGNED_SHORT&&(we=n.RG16UI),ge===n.UNSIGNED_INT&&(we=n.RG32UI),ge===n.BYTE&&(we=n.RG8I),ge===n.SHORT&&(we=n.RG16I),ge===n.INT&&(we=n.RG32I)),H===n.RGB_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RGB8UI),ge===n.UNSIGNED_SHORT&&(we=n.RGB16UI),ge===n.UNSIGNED_INT&&(we=n.RGB32UI),ge===n.BYTE&&(we=n.RGB8I),ge===n.SHORT&&(we=n.RGB16I),ge===n.INT&&(we=n.RGB32I)),H===n.RGBA_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RGBA8UI),ge===n.UNSIGNED_SHORT&&(we=n.RGBA16UI),ge===n.UNSIGNED_INT&&(we=n.RGBA32UI),ge===n.BYTE&&(we=n.RGBA8I),ge===n.SHORT&&(we=n.RGBA16I),ge===n.INT&&(we=n.RGBA32I)),H===n.RGB&&ge===n.UNSIGNED_INT_5_9_9_9_REV&&(we=n.RGB9_E5),H===n.RGBA){const xt=Xe?Zg:bn.getTransfer(Re);ge===n.FLOAT&&(we=n.RGBA32F),ge===n.HALF_FLOAT&&(we=n.RGBA16F),ge===n.UNSIGNED_BYTE&&(we=xt===zn?n.SRGB8_ALPHA8:n.RGBA8),ge===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),ge===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function D(K,H){let ge;return K?H===null||H===ac||H===lp?ge=n.DEPTH24_STENCIL8:H===ys?ge=n.DEPTH32F_STENCIL8:H===op&&(ge=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===ac||H===lp?ge=n.DEPTH_COMPONENT24:H===ys?ge=n.DEPTH_COMPONENT32F:H===op&&(ge=n.DEPTH_COMPONENT16),ge}function O(K,H){return T(K)===!0||K.isFramebufferTexture&&K.minFilter!==da&&K.minFilter!==vi?Math.log2(Math.max(H.width,H.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?H.mipmaps.length:1}function I(K){const H=K.target;H.removeEventListener("dispose",I),z(H),H.isVideoTexture&&m.delete(H)}function F(K){const H=K.target;H.removeEventListener("dispose",F),U(H)}function z(K){const H=i.get(K);if(H.__webglInit===void 0)return;const ge=K.source,Re=x.get(ge);if(Re){const Xe=Re[H.__cacheKey];Xe.usedTimes--,Xe.usedTimes===0&&P(K),Object.keys(Re).length===0&&x.delete(ge)}i.remove(K)}function P(K){const H=i.get(K);n.deleteTexture(H.__webglTexture);const ge=K.source,Re=x.get(ge);delete Re[H.__cacheKey],l.memory.textures--}function U(K){const H=i.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),i.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(H.__webglFramebuffer[Re]))for(let Xe=0;Xe<H.__webglFramebuffer[Re].length;Xe++)n.deleteFramebuffer(H.__webglFramebuffer[Re][Xe]);else n.deleteFramebuffer(H.__webglFramebuffer[Re]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[Re])}else{if(Array.isArray(H.__webglFramebuffer))for(let Re=0;Re<H.__webglFramebuffer.length;Re++)n.deleteFramebuffer(H.__webglFramebuffer[Re]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Re=0;Re<H.__webglColorRenderbuffer.length;Re++)H.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[Re]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const ge=K.textures;for(let Re=0,Xe=ge.length;Re<Xe;Re++){const we=i.get(ge[Re]);we.__webglTexture&&(n.deleteTexture(we.__webglTexture),l.memory.textures--),i.remove(ge[Re])}i.remove(K)}let X=0;function ce(){X=0}function se(){const K=X;return K>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+a.maxTextures),X+=1,K}function pe(K){const H=[];return H.push(K.wrapS),H.push(K.wrapT),H.push(K.wrapR||0),H.push(K.magFilter),H.push(K.minFilter),H.push(K.anisotropy),H.push(K.internalFormat),H.push(K.format),H.push(K.type),H.push(K.generateMipmaps),H.push(K.premultiplyAlpha),H.push(K.flipY),H.push(K.unpackAlignment),H.push(K.colorSpace),H.join()}function Ae(K,H){const ge=i.get(K);if(K.isVideoTexture&&$e(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&ge.__version!==K.version){const Re=K.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ue(ge,K,H);return}}else K.isExternalTexture&&(ge.__webglTexture=K.sourceTexture?K.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,ge.__webglTexture,n.TEXTURE0+H)}function j(K,H){const ge=i.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ge.__version!==K.version){Ue(ge,K,H);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ge.__webglTexture,n.TEXTURE0+H)}function Z(K,H){const ge=i.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ge.__version!==K.version){Ue(ge,K,H);return}t.bindTexture(n.TEXTURE_3D,ge.__webglTexture,n.TEXTURE0+H)}function Q(K,H){const ge=i.get(K);if(K.version>0&&ge.__version!==K.version){Ie(ge,K,H);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+H)}const ve={[uu]:n.REPEAT,[Js]:n.CLAMP_TO_EDGE,[rp]:n.MIRRORED_REPEAT},ye={[da]:n.NEAREST,[A_]:n.NEAREST_MIPMAP_NEAREST,[Pf]:n.NEAREST_MIPMAP_LINEAR,[vi]:n.LINEAR,[ep]:n.LINEAR_MIPMAP_NEAREST,[Tr]:n.LINEAR_MIPMAP_LINEAR},Y={[qw]:n.NEVER,[$w]:n.ALWAYS,[Jw]:n.LESS,[zM]:n.LEQUAL,[Kw]:n.EQUAL,[Qw]:n.GEQUAL,[Ww]:n.GREATER,[Zw]:n.NOTEQUAL};function oe(K,H){if(H.type===ys&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===vi||H.magFilter===ep||H.magFilter===Pf||H.magFilter===Tr||H.minFilter===vi||H.minFilter===ep||H.minFilter===Pf||H.minFilter===Tr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(K,n.TEXTURE_WRAP_S,ve[H.wrapS]),n.texParameteri(K,n.TEXTURE_WRAP_T,ve[H.wrapT]),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,ve[H.wrapR]),n.texParameteri(K,n.TEXTURE_MAG_FILTER,ye[H.magFilter]),n.texParameteri(K,n.TEXTURE_MIN_FILTER,ye[H.minFilter]),H.compareFunction&&(n.texParameteri(K,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(K,n.TEXTURE_COMPARE_FUNC,Y[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===da||H.minFilter!==Pf&&H.minFilter!==Tr||H.type===ys&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");n.texParameterf(K,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,a.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function Be(K,H){let ge=!1;K.__webglInit===void 0&&(K.__webglInit=!0,H.addEventListener("dispose",I));const Re=H.source;let Xe=x.get(Re);Xe===void 0&&(Xe={},x.set(Re,Xe));const we=pe(H);if(we!==K.__cacheKey){Xe[we]===void 0&&(Xe[we]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,ge=!0),Xe[we].usedTimes++;const xt=Xe[K.__cacheKey];xt!==void 0&&(Xe[K.__cacheKey].usedTimes--,xt.usedTimes===0&&P(H)),K.__cacheKey=we,K.__webglTexture=Xe[we].texture}return ge}function De(K,H,ge){return Math.floor(Math.floor(K/ge)/H)}function ue(K,H,ge,Re){const we=K.updateRanges;if(we.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,H.width,H.height,ge,Re,H.data);else{we.sort((Ye,Qe)=>Ye.start-Qe.start);let xt=0;for(let Ye=1;Ye<we.length;Ye++){const Qe=we[xt],vt=we[Ye],$=Qe.start+Qe.count,xe=De(vt.start,H.width,4),et=De(Qe.start,H.width,4);vt.start<=$+1&&xe===et&&De(vt.start+vt.count-1,H.width,4)===xe?Qe.count=Math.max(Qe.count,vt.start+vt.count-Qe.start):(++xt,we[xt]=vt)}we.length=xt+1;const tt=n.getParameter(n.UNPACK_ROW_LENGTH),pt=n.getParameter(n.UNPACK_SKIP_PIXELS),gt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,H.width);for(let Ye=0,Qe=we.length;Ye<Qe;Ye++){const vt=we[Ye],$=Math.floor(vt.start/4),xe=Math.ceil(vt.count/4),et=$%H.width,te=Math.floor($/H.width),Ve=xe,We=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,et),n.pixelStorei(n.UNPACK_SKIP_ROWS,te),t.texSubImage2D(n.TEXTURE_2D,0,et,te,Ve,We,ge,Re,H.data)}K.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,tt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,pt),n.pixelStorei(n.UNPACK_SKIP_ROWS,gt)}}function Ue(K,H,ge){let Re=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Re=n.TEXTURE_3D);const Xe=Be(K,H),we=H.source;t.bindTexture(Re,K.__webglTexture,n.TEXTURE0+ge);const xt=i.get(we);if(we.version!==xt.__version||Xe===!0){t.activeTexture(n.TEXTURE0+ge);const tt=bn.getPrimaries(bn.workingColorSpace),pt=H.colorSpace===Jl?null:bn.getPrimaries(H.colorSpace),gt=H.colorSpace===Jl||tt===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);let Ye=C(H.image,!1,a.maxTextureSize);Ye=Dt(H,Ye);const Qe=r.convert(H.format,H.colorSpace),vt=r.convert(H.type);let $=B(H.internalFormat,Qe,vt,H.colorSpace,H.isVideoTexture);oe(Re,H);let xe;const et=H.mipmaps,te=H.isVideoTexture!==!0,Ve=xt.__version===void 0||Xe===!0,We=we.dataReady,rt=O(H,Ye);if(H.isDepthTexture)$=D(H.format===up,H.type),Ve&&(te?t.texStorage2D(n.TEXTURE_2D,1,$,Ye.width,Ye.height):t.texImage2D(n.TEXTURE_2D,0,$,Ye.width,Ye.height,0,Qe,vt,null));else if(H.isDataTexture)if(et.length>0){te&&Ve&&t.texStorage2D(n.TEXTURE_2D,rt,$,et[0].width,et[0].height);for(let Ke=0,He=et.length;Ke<He;Ke++)xe=et[Ke],te?We&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,xe.width,xe.height,Qe,vt,xe.data):t.texImage2D(n.TEXTURE_2D,Ke,$,xe.width,xe.height,0,Qe,vt,xe.data);H.generateMipmaps=!1}else te?(Ve&&t.texStorage2D(n.TEXTURE_2D,rt,$,Ye.width,Ye.height),We&&ue(H,Ye,Qe,vt)):t.texImage2D(n.TEXTURE_2D,0,$,Ye.width,Ye.height,0,Qe,vt,Ye.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){te&&Ve&&t.texStorage3D(n.TEXTURE_2D_ARRAY,rt,$,et[0].width,et[0].height,Ye.depth);for(let Ke=0,He=et.length;Ke<He;Ke++)if(xe=et[Ke],H.format!==Xa)if(Qe!==null)if(te){if(We)if(H.layerUpdates.size>0){const ot=HS(xe.width,xe.height,H.format,H.type);for(const St of H.layerUpdates){const en=xe.data.subarray(St*ot/xe.data.BYTES_PER_ELEMENT,(St+1)*ot/xe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,St,xe.width,xe.height,1,Qe,en)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,xe.width,xe.height,Ye.depth,Qe,xe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ke,$,xe.width,xe.height,Ye.depth,0,xe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else te?We&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,xe.width,xe.height,Ye.depth,Qe,vt,xe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ke,$,xe.width,xe.height,Ye.depth,0,Qe,vt,xe.data)}else{te&&Ve&&t.texStorage2D(n.TEXTURE_2D,rt,$,et[0].width,et[0].height);for(let Ke=0,He=et.length;Ke<He;Ke++)xe=et[Ke],H.format!==Xa?Qe!==null?te?We&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ke,0,0,xe.width,xe.height,Qe,xe.data):t.compressedTexImage2D(n.TEXTURE_2D,Ke,$,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?We&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,xe.width,xe.height,Qe,vt,xe.data):t.texImage2D(n.TEXTURE_2D,Ke,$,xe.width,xe.height,0,Qe,vt,xe.data)}else if(H.isDataArrayTexture)if(te){if(Ve&&t.texStorage3D(n.TEXTURE_2D_ARRAY,rt,$,Ye.width,Ye.height,Ye.depth),We)if(H.layerUpdates.size>0){const Ke=HS(Ye.width,Ye.height,H.format,H.type);for(const He of H.layerUpdates){const ot=Ye.data.subarray(He*Ke/Ye.data.BYTES_PER_ELEMENT,(He+1)*Ke/Ye.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,He,Ye.width,Ye.height,1,Qe,vt,ot)}H.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,Qe,vt,Ye.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,$,Ye.width,Ye.height,Ye.depth,0,Qe,vt,Ye.data);else if(H.isData3DTexture)te?(Ve&&t.texStorage3D(n.TEXTURE_3D,rt,$,Ye.width,Ye.height,Ye.depth),We&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,Qe,vt,Ye.data)):t.texImage3D(n.TEXTURE_3D,0,$,Ye.width,Ye.height,Ye.depth,0,Qe,vt,Ye.data);else if(H.isFramebufferTexture){if(Ve)if(te)t.texStorage2D(n.TEXTURE_2D,rt,$,Ye.width,Ye.height);else{let Ke=Ye.width,He=Ye.height;for(let ot=0;ot<rt;ot++)t.texImage2D(n.TEXTURE_2D,ot,$,Ke,He,0,Qe,vt,null),Ke>>=1,He>>=1}}else if(et.length>0){if(te&&Ve){const Ke=Ut(et[0]);t.texStorage2D(n.TEXTURE_2D,rt,$,Ke.width,Ke.height)}for(let Ke=0,He=et.length;Ke<He;Ke++)xe=et[Ke],te?We&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,Qe,vt,xe):t.texImage2D(n.TEXTURE_2D,Ke,$,Qe,vt,xe);H.generateMipmaps=!1}else if(te){if(Ve){const Ke=Ut(Ye);t.texStorage2D(n.TEXTURE_2D,rt,$,Ke.width,Ke.height)}We&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Qe,vt,Ye)}else t.texImage2D(n.TEXTURE_2D,0,$,Qe,vt,Ye);T(H)&&S(Re),xt.__version=we.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function Ie(K,H,ge){if(H.image.length!==6)return;const Re=Be(K,H),Xe=H.source;t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+ge);const we=i.get(Xe);if(Xe.version!==we.__version||Re===!0){t.activeTexture(n.TEXTURE0+ge);const xt=bn.getPrimaries(bn.workingColorSpace),tt=H.colorSpace===Jl?null:bn.getPrimaries(H.colorSpace),pt=H.colorSpace===Jl||xt===tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const gt=H.isCompressedTexture||H.image[0].isCompressedTexture,Ye=H.image[0]&&H.image[0].isDataTexture,Qe=[];for(let He=0;He<6;He++)!gt&&!Ye?Qe[He]=C(H.image[He],!0,a.maxCubemapSize):Qe[He]=Ye?H.image[He].image:H.image[He],Qe[He]=Dt(H,Qe[He]);const vt=Qe[0],$=r.convert(H.format,H.colorSpace),xe=r.convert(H.type),et=B(H.internalFormat,$,xe,H.colorSpace),te=H.isVideoTexture!==!0,Ve=we.__version===void 0||Re===!0,We=Xe.dataReady;let rt=O(H,vt);oe(n.TEXTURE_CUBE_MAP,H);let Ke;if(gt){te&&Ve&&t.texStorage2D(n.TEXTURE_CUBE_MAP,rt,et,vt.width,vt.height);for(let He=0;He<6;He++){Ke=Qe[He].mipmaps;for(let ot=0;ot<Ke.length;ot++){const St=Ke[ot];H.format!==Xa?$!==null?te?We&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot,0,0,St.width,St.height,$,St.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot,et,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?We&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot,0,0,St.width,St.height,$,xe,St.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot,et,St.width,St.height,0,$,xe,St.data)}}}else{if(Ke=H.mipmaps,te&&Ve){Ke.length>0&&rt++;const He=Ut(Qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,rt,et,He.width,He.height)}for(let He=0;He<6;He++)if(Ye){te?We&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,Qe[He].width,Qe[He].height,$,xe,Qe[He].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,et,Qe[He].width,Qe[He].height,0,$,xe,Qe[He].data);for(let ot=0;ot<Ke.length;ot++){const en=Ke[ot].image[He].image;te?We&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot+1,0,0,en.width,en.height,$,xe,en.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot+1,et,en.width,en.height,0,$,xe,en.data)}}else{te?We&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,$,xe,Qe[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,et,$,xe,Qe[He]);for(let ot=0;ot<Ke.length;ot++){const St=Ke[ot];te?We&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot+1,0,0,$,xe,St.image[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,ot+1,et,$,xe,St.image[He])}}}T(H)&&S(n.TEXTURE_CUBE_MAP),we.__version=Xe.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function lt(K,H,ge,Re,Xe,we){const xt=r.convert(ge.format,ge.colorSpace),tt=r.convert(ge.type),pt=B(ge.internalFormat,xt,tt,ge.colorSpace),gt=i.get(H),Ye=i.get(ge);if(Ye.__renderTarget=H,!gt.__hasExternalTextures){const Qe=Math.max(1,H.width>>we),vt=Math.max(1,H.height>>we);Xe===n.TEXTURE_3D||Xe===n.TEXTURE_2D_ARRAY?t.texImage3D(Xe,we,pt,Qe,vt,H.depth,0,xt,tt,null):t.texImage2D(Xe,we,pt,Qe,vt,0,xt,tt,null)}t.bindFramebuffer(n.FRAMEBUFFER,K),qe(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Xe,Ye.__webglTexture,0,it(H)):(Xe===n.TEXTURE_2D||Xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Xe,Ye.__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function at(K,H,ge){if(n.bindRenderbuffer(n.RENDERBUFFER,K),H.depthBuffer){const Re=H.depthTexture,Xe=Re&&Re.isDepthTexture?Re.type:null,we=D(H.stencilBuffer,Xe),xt=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,tt=it(H);qe(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,tt,we,H.width,H.height):ge?n.renderbufferStorageMultisample(n.RENDERBUFFER,tt,we,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,we,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,xt,n.RENDERBUFFER,K)}else{const Re=H.textures;for(let Xe=0;Xe<Re.length;Xe++){const we=Re[Xe],xt=r.convert(we.format,we.colorSpace),tt=r.convert(we.type),pt=B(we.internalFormat,xt,tt,we.colorSpace),gt=it(H);ge&&qe(H)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,gt,pt,H.width,H.height):qe(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,gt,pt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,pt,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Tt(K,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,K),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(H.depthTexture);Re.__renderTarget=H,(!Re.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),Ae(H.depthTexture,0);const Xe=Re.__webglTexture,we=it(H);if(H.depthTexture.format===cp)qe(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0);else if(H.depthTexture.format===up)qe(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0);else throw new Error("Unknown depthTexture format")}function pn(K){const H=i.get(K),ge=K.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==K.depthTexture){const Re=K.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Re){const Xe=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Re.removeEventListener("dispose",Xe)};Re.addEventListener("dispose",Xe),H.__depthDisposeCallback=Xe}H.__boundDepthTexture=Re}if(K.depthTexture&&!H.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");const Re=K.texture.mipmaps;Re&&Re.length>0?Tt(H.__webglFramebuffer[0],K):Tt(H.__webglFramebuffer,K)}else if(ge){H.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Re]),H.__webglDepthbuffer[Re]===void 0)H.__webglDepthbuffer[Re]=n.createRenderbuffer(),at(H.__webglDepthbuffer[Re],K,!1);else{const Xe=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,we)}}else{const Re=K.texture.mipmaps;if(Re&&Re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),at(H.__webglDepthbuffer,K,!1);else{const Xe=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,we)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Bt(K,H,ge){const Re=i.get(K);H!==void 0&&lt(Re.__webglFramebuffer,K,K.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ge!==void 0&&pn(K)}function ee(K){const H=K.texture,ge=i.get(K),Re=i.get(H);K.addEventListener("dispose",F);const Xe=K.textures,we=K.isWebGLCubeRenderTarget===!0,xt=Xe.length>1;if(xt||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=H.version,l.memory.textures++),we){ge.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(H.mipmaps&&H.mipmaps.length>0){ge.__webglFramebuffer[tt]=[];for(let pt=0;pt<H.mipmaps.length;pt++)ge.__webglFramebuffer[tt][pt]=n.createFramebuffer()}else ge.__webglFramebuffer[tt]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){ge.__webglFramebuffer=[];for(let tt=0;tt<H.mipmaps.length;tt++)ge.__webglFramebuffer[tt]=n.createFramebuffer()}else ge.__webglFramebuffer=n.createFramebuffer();if(xt)for(let tt=0,pt=Xe.length;tt<pt;tt++){const gt=i.get(Xe[tt]);gt.__webglTexture===void 0&&(gt.__webglTexture=n.createTexture(),l.memory.textures++)}if(K.samples>0&&qe(K)===!1){ge.__webglMultisampledFramebuffer=n.createFramebuffer(),ge.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let tt=0;tt<Xe.length;tt++){const pt=Xe[tt];ge.__webglColorRenderbuffer[tt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ge.__webglColorRenderbuffer[tt]);const gt=r.convert(pt.format,pt.colorSpace),Ye=r.convert(pt.type),Qe=B(pt.internalFormat,gt,Ye,pt.colorSpace,K.isXRRenderTarget===!0),vt=it(K);n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,Qe,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.RENDERBUFFER,ge.__webglColorRenderbuffer[tt])}n.bindRenderbuffer(n.RENDERBUFFER,null),K.depthBuffer&&(ge.__webglDepthRenderbuffer=n.createRenderbuffer(),at(ge.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(we){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),oe(n.TEXTURE_CUBE_MAP,H);for(let tt=0;tt<6;tt++)if(H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)lt(ge.__webglFramebuffer[tt][pt],K,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,pt);else lt(ge.__webglFramebuffer[tt],K,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);T(H)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(xt){for(let tt=0,pt=Xe.length;tt<pt;tt++){const gt=Xe[tt],Ye=i.get(gt);let Qe=n.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(Qe=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,Ye.__webglTexture),oe(Qe,gt),lt(ge.__webglFramebuffer,K,gt,n.COLOR_ATTACHMENT0+tt,Qe,0),T(gt)&&S(Qe)}t.unbindTexture()}else{let tt=n.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(tt=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(tt,Re.__webglTexture),oe(tt,H),H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)lt(ge.__webglFramebuffer[pt],K,H,n.COLOR_ATTACHMENT0,tt,pt);else lt(ge.__webglFramebuffer,K,H,n.COLOR_ATTACHMENT0,tt,0);T(H)&&S(tt),t.unbindTexture()}K.depthBuffer&&pn(K)}function Ge(K){const H=K.textures;for(let ge=0,Re=H.length;ge<Re;ge++){const Xe=H[ge];if(T(Xe)){const we=w(K),xt=i.get(Xe).__webglTexture;t.bindTexture(we,xt),S(we),t.unbindTexture()}}}const Ne=[],Je=[];function Oe(K){if(K.samples>0){if(qe(K)===!1){const H=K.textures,ge=K.width,Re=K.height;let Xe=n.COLOR_BUFFER_BIT;const we=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xt=i.get(K),tt=H.length>1;if(tt)for(let gt=0;gt<H.length;gt++)t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,xt.__webglMultisampledFramebuffer);const pt=K.texture.mipmaps;pt&&pt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglFramebuffer);for(let gt=0;gt<H.length;gt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(Xe|=n.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(Xe|=n.STENCIL_BUFFER_BIT)),tt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,xt.__webglColorRenderbuffer[gt]);const Ye=i.get(H[gt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ye,0)}n.blitFramebuffer(0,0,ge,Re,0,0,ge,Re,Xe,n.NEAREST),d===!0&&(Ne.length=0,Je.length=0,Ne.push(n.COLOR_ATTACHMENT0+gt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(Ne.push(we),Je.push(we),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Je)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),tt)for(let gt=0;gt<H.length;gt++){t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.RENDERBUFFER,xt.__webglColorRenderbuffer[gt]);const Ye=i.get(H[gt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.TEXTURE_2D,Ye,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&d){const H=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function it(K){return Math.min(a.maxSamples,K.samples)}function qe(K){const H=i.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function $e(K){const H=l.render.frame;m.get(K)!==H&&(m.set(K,H),K.update())}function Dt(K,H){const ge=K.colorSpace,Re=K.format,Xe=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||ge!==fu&&ge!==Jl&&(bn.getTransfer(ge)===zn?(Re!==Xa||Xe!==wr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),H}function Ut(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(p.width=K.naturalWidth||K.width,p.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(p.width=K.displayWidth,p.height=K.displayHeight):(p.width=K.width,p.height=K.height),p}this.allocateTextureUnit=se,this.resetTextureUnits=ce,this.setTexture2D=Ae,this.setTexture2DArray=j,this.setTexture3D=Z,this.setTextureCube=Q,this.rebindTextures=Bt,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=pn,this.setupFrameBufferTexture=lt,this.useMultisampledRTT=qe}function sD(n,e){function t(i,a=Jl){let r;const l=bn.getTransfer(a);if(i===wr)return n.UNSIGNED_BYTE;if(i===S_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===M_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===LM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===DM)return n.BYTE;if(i===NM)return n.SHORT;if(i===op)return n.UNSIGNED_SHORT;if(i===b_)return n.INT;if(i===ac)return n.UNSIGNED_INT;if(i===ys)return n.FLOAT;if(i===rh)return n.HALF_FLOAT;if(i===UM)return n.ALPHA;if(i===OM)return n.RGB;if(i===Xa)return n.RGBA;if(i===cp)return n.DEPTH_COMPONENT;if(i===up)return n.DEPTH_STENCIL;if(i===E_)return n.RED;if(i===g0)return n.RED_INTEGER;if(i===PM)return n.RG;if(i===T_)return n.RG_INTEGER;if(i===C_)return n.RGBA_INTEGER;if(i===Ng||i===Lg||i===Ug||i===Og)if(l===zn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Ng)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Lg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ug)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Og)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Ng)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Lg)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ug)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Og)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Ex||i===Tx||i===Cx||i===Rx)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Ex)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Tx)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Cx)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Rx)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===wx||i===Bx||i===Dx)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===wx||i===Bx)return l===zn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Dx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Nx||i===Lx||i===Ux||i===Ox||i===Px||i===Ix||i===Fx||i===Hx||i===zx||i===Gx||i===Vx||i===kx||i===jx||i===Xx)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Nx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Lx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Ux)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Ox)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Px)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Ix)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Fx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Hx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===zx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Gx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Vx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===kx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===jx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Xx)return l===zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Pg||i===Yx||i===qx)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===Pg)return l===zn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Yx)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===qx)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===IM||i===Jx||i===Kx||i===Wx)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Pg)return r.COMPRESSED_RED_RGTC1_EXT;if(i===Jx)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Kx)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Wx)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===lp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class rD extends li{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const C5=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,R5=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class w5{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new rD(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new po({vertexShader:C5,fragmentShader:R5,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Li(new Rp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class B5 extends ol{constructor(e,t){super();const i=this;let a=null,r=1,l=null,u="local-floor",d=1,p=null,m=null,v=null,x=null,_=null,M=null;const C=new w5,T={},S=t.getContextAttributes();let w=null,B=null;const D=[],O=[],I=new Fe;let F=null;const z=new Ti;z.viewport=new Rn;const P=new Ti;P.viewport=new Rn;const U=[z,P],X=new JB;let ce=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let Ue=D[ue];return Ue===void 0&&(Ue=new ox,D[ue]=Ue),Ue.getTargetRaySpace()},this.getControllerGrip=function(ue){let Ue=D[ue];return Ue===void 0&&(Ue=new ox,D[ue]=Ue),Ue.getGripSpace()},this.getHand=function(ue){let Ue=D[ue];return Ue===void 0&&(Ue=new ox,D[ue]=Ue),Ue.getHandSpace()};function pe(ue){const Ue=O.indexOf(ue.inputSource);if(Ue===-1)return;const Ie=D[Ue];Ie!==void 0&&(Ie.update(ue.inputSource,ue.frame,p||l),Ie.dispatchEvent({type:ue.type,data:ue.inputSource}))}function Ae(){a.removeEventListener("select",pe),a.removeEventListener("selectstart",pe),a.removeEventListener("selectend",pe),a.removeEventListener("squeeze",pe),a.removeEventListener("squeezestart",pe),a.removeEventListener("squeezeend",pe),a.removeEventListener("end",Ae),a.removeEventListener("inputsourceschange",j);for(let ue=0;ue<D.length;ue++){const Ue=O[ue];Ue!==null&&(O[ue]=null,D[ue].disconnect(Ue))}ce=null,se=null,C.reset();for(const ue in T)delete T[ue];e.setRenderTarget(w),_=null,x=null,v=null,a=null,B=null,De.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(I.width,I.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){r=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){u=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(ue){p=ue},this.getBaseLayer=function(){return x!==null?x:_},this.getBinding=function(){return v},this.getFrame=function(){return M},this.getSession=function(){return a},this.setSession=async function(ue){if(a=ue,a!==null){if(w=e.getRenderTarget(),a.addEventListener("select",pe),a.addEventListener("selectstart",pe),a.addEventListener("selectend",pe),a.addEventListener("squeeze",pe),a.addEventListener("squeezestart",pe),a.addEventListener("squeezeend",pe),a.addEventListener("end",Ae),a.addEventListener("inputsourceschange",j),S.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(I),typeof XRWebGLBinding<"u"&&(v=new XRWebGLBinding(a,t)),v!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ie=null,lt=null,at=null;S.depth&&(at=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ie=S.stencil?up:cp,lt=S.stencil?lp:ac);const Tt={colorFormat:t.RGBA8,depthFormat:at,scaleFactor:r};x=v.createProjectionLayer(Tt),a.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),B=new ho(x.textureWidth,x.textureHeight,{format:Xa,type:wr,depthTexture:new F_(x.textureWidth,x.textureHeight,lt,void 0,void 0,void 0,void 0,void 0,void 0,Ie),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Ie={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:r};_=new XRWebGLLayer(a,t,Ie),a.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),B=new ho(_.framebufferWidth,_.framebufferHeight,{format:Xa,type:wr,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}B.isXRRenderTarget=!0,this.setFoveation(d),p=null,l=await a.requestReferenceSpace(u),De.setContext(a),De.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function j(ue){for(let Ue=0;Ue<ue.removed.length;Ue++){const Ie=ue.removed[Ue],lt=O.indexOf(Ie);lt>=0&&(O[lt]=null,D[lt].disconnect(Ie))}for(let Ue=0;Ue<ue.added.length;Ue++){const Ie=ue.added[Ue];let lt=O.indexOf(Ie);if(lt===-1){for(let Tt=0;Tt<D.length;Tt++)if(Tt>=O.length){O.push(Ie),lt=Tt;break}else if(O[Tt]===null){O[Tt]=Ie,lt=Tt;break}if(lt===-1)break}const at=D[lt];at&&at.connect(Ie)}}const Z=new J,Q=new J;function ve(ue,Ue,Ie){Z.setFromMatrixPosition(Ue.matrixWorld),Q.setFromMatrixPosition(Ie.matrixWorld);const lt=Z.distanceTo(Q),at=Ue.projectionMatrix.elements,Tt=Ie.projectionMatrix.elements,pn=at[14]/(at[10]-1),Bt=at[14]/(at[10]+1),ee=(at[9]+1)/at[5],Ge=(at[9]-1)/at[5],Ne=(at[8]-1)/at[0],Je=(Tt[8]+1)/Tt[0],Oe=pn*Ne,it=pn*Je,qe=lt/(-Ne+Je),$e=qe*-Ne;if(Ue.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX($e),ue.translateZ(qe),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),at[10]===-1)ue.projectionMatrix.copy(Ue.projectionMatrix),ue.projectionMatrixInverse.copy(Ue.projectionMatrixInverse);else{const Dt=pn+qe,Ut=Bt+qe,K=Oe-$e,H=it+(lt-$e),ge=ee*Bt/Ut*Dt,Re=Ge*Bt/Ut*Dt;ue.projectionMatrix.makePerspective(K,H,ge,Re,Dt,Ut),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function ye(ue,Ue){Ue===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(Ue.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(a===null)return;let Ue=ue.near,Ie=ue.far;C.texture!==null&&(C.depthNear>0&&(Ue=C.depthNear),C.depthFar>0&&(Ie=C.depthFar)),X.near=P.near=z.near=Ue,X.far=P.far=z.far=Ie,(ce!==X.near||se!==X.far)&&(a.updateRenderState({depthNear:X.near,depthFar:X.far}),ce=X.near,se=X.far),X.layers.mask=ue.layers.mask|6,z.layers.mask=X.layers.mask&3,P.layers.mask=X.layers.mask&5;const lt=ue.parent,at=X.cameras;ye(X,lt);for(let Tt=0;Tt<at.length;Tt++)ye(at[Tt],lt);at.length===2?ve(X,z,P):X.projectionMatrix.copy(z.projectionMatrix),Y(ue,X,lt)};function Y(ue,Ue,Ie){Ie===null?ue.matrix.copy(Ue.matrixWorld):(ue.matrix.copy(Ie.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(Ue.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(Ue.projectionMatrix),ue.projectionMatrixInverse.copy(Ue.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=pp*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return X},this.getFoveation=function(){if(!(x===null&&_===null))return d},this.setFoveation=function(ue){d=ue,x!==null&&(x.fixedFoveation=ue),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ue)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(X)},this.getCameraTexture=function(ue){return T[ue]};let oe=null;function Be(ue,Ue){if(m=Ue.getViewerPose(p||l),M=Ue,m!==null){const Ie=m.views;_!==null&&(e.setRenderTargetFramebuffer(B,_.framebuffer),e.setRenderTarget(B));let lt=!1;Ie.length!==X.cameras.length&&(X.cameras.length=0,lt=!0);for(let Bt=0;Bt<Ie.length;Bt++){const ee=Ie[Bt];let Ge=null;if(_!==null)Ge=_.getViewport(ee);else{const Je=v.getViewSubImage(x,ee);Ge=Je.viewport,Bt===0&&(e.setRenderTargetTextures(B,Je.colorTexture,Je.depthStencilTexture),e.setRenderTarget(B))}let Ne=U[Bt];Ne===void 0&&(Ne=new Ti,Ne.layers.enable(Bt),Ne.viewport=new Rn,U[Bt]=Ne),Ne.matrix.fromArray(ee.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(ee.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(Ge.x,Ge.y,Ge.width,Ge.height),Bt===0&&(X.matrix.copy(Ne.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale)),lt===!0&&X.cameras.push(Ne)}const at=a.enabledFeatures;if(at&&at.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&v){const Bt=v.getDepthInformation(Ie[0]);Bt&&Bt.isValid&&Bt.texture&&C.init(Bt,a.renderState)}if(at&&at.includes("camera-access")&&(e.state.unbindTexture(),v))for(let Bt=0;Bt<Ie.length;Bt++){const ee=Ie[Bt].camera;if(ee){let Ge=T[ee];Ge||(Ge=new rD,T[ee]=Ge);const Ne=v.getCameraImage(ee);Ge.sourceTexture=Ne}}}for(let Ie=0;Ie<D.length;Ie++){const lt=O[Ie],at=D[Ie];lt!==null&&at!==void 0&&at.update(lt,Ue,p||l)}oe&&oe(ue,Ue),Ue.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ue}),M=null}const De=new eD;De.setAnimationLoop(Be),this.setAnimationLoop=function(ue){oe=ue},this.dispose=function(){}}}const Cf=new Qs,D5=new It;function N5(n,e){function t(T,S){T.matrixAutoUpdate===!0&&T.updateMatrix(),S.value.copy(T.matrix)}function i(T,S){S.color.getRGB(T.fogColor.value,sB(n)),S.isFog?(T.fogNear.value=S.near,T.fogFar.value=S.far):S.isFogExp2&&(T.fogDensity.value=S.density)}function a(T,S,w,B,D){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(T,S):S.isMeshToonMaterial?(r(T,S),v(T,S)):S.isMeshPhongMaterial?(r(T,S),m(T,S)):S.isMeshStandardMaterial?(r(T,S),x(T,S),S.isMeshPhysicalMaterial&&_(T,S,D)):S.isMeshMatcapMaterial?(r(T,S),M(T,S)):S.isMeshDepthMaterial?r(T,S):S.isMeshDistanceMaterial?(r(T,S),C(T,S)):S.isMeshNormalMaterial?r(T,S):S.isLineBasicMaterial?(l(T,S),S.isLineDashedMaterial&&u(T,S)):S.isPointsMaterial?d(T,S,w,B):S.isSpriteMaterial?p(T,S):S.isShadowMaterial?(T.color.value.copy(S.color),T.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(T,S){T.opacity.value=S.opacity,S.color&&T.diffuse.value.copy(S.color),S.emissive&&T.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(T.map.value=S.map,t(S.map,T.mapTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.bumpMap&&(T.bumpMap.value=S.bumpMap,t(S.bumpMap,T.bumpMapTransform),T.bumpScale.value=S.bumpScale,S.side===_s&&(T.bumpScale.value*=-1)),S.normalMap&&(T.normalMap.value=S.normalMap,t(S.normalMap,T.normalMapTransform),T.normalScale.value.copy(S.normalScale),S.side===_s&&T.normalScale.value.negate()),S.displacementMap&&(T.displacementMap.value=S.displacementMap,t(S.displacementMap,T.displacementMapTransform),T.displacementScale.value=S.displacementScale,T.displacementBias.value=S.displacementBias),S.emissiveMap&&(T.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,T.emissiveMapTransform)),S.specularMap&&(T.specularMap.value=S.specularMap,t(S.specularMap,T.specularMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest);const w=e.get(S),B=w.envMap,D=w.envMapRotation;B&&(T.envMap.value=B,Cf.copy(D),Cf.x*=-1,Cf.y*=-1,Cf.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Cf.y*=-1,Cf.z*=-1),T.envMapRotation.value.setFromMatrix4(D5.makeRotationFromEuler(Cf)),T.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=S.reflectivity,T.ior.value=S.ior,T.refractionRatio.value=S.refractionRatio),S.lightMap&&(T.lightMap.value=S.lightMap,T.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,T.lightMapTransform)),S.aoMap&&(T.aoMap.value=S.aoMap,T.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,T.aoMapTransform))}function l(T,S){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,S.map&&(T.map.value=S.map,t(S.map,T.mapTransform))}function u(T,S){T.dashSize.value=S.dashSize,T.totalSize.value=S.dashSize+S.gapSize,T.scale.value=S.scale}function d(T,S,w,B){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,T.size.value=S.size*w,T.scale.value=B*.5,S.map&&(T.map.value=S.map,t(S.map,T.uvTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest)}function p(T,S){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,T.rotation.value=S.rotation,S.map&&(T.map.value=S.map,t(S.map,T.mapTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest)}function m(T,S){T.specular.value.copy(S.specular),T.shininess.value=Math.max(S.shininess,1e-4)}function v(T,S){S.gradientMap&&(T.gradientMap.value=S.gradientMap)}function x(T,S){T.metalness.value=S.metalness,S.metalnessMap&&(T.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,T.metalnessMapTransform)),T.roughness.value=S.roughness,S.roughnessMap&&(T.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,T.roughnessMapTransform)),S.envMap&&(T.envMapIntensity.value=S.envMapIntensity)}function _(T,S,w){T.ior.value=S.ior,S.sheen>0&&(T.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),T.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(T.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,T.sheenColorMapTransform)),S.sheenRoughnessMap&&(T.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,T.sheenRoughnessMapTransform))),S.clearcoat>0&&(T.clearcoat.value=S.clearcoat,T.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(T.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,T.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(T.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===_s&&T.clearcoatNormalScale.value.negate())),S.dispersion>0&&(T.dispersion.value=S.dispersion),S.iridescence>0&&(T.iridescence.value=S.iridescence,T.iridescenceIOR.value=S.iridescenceIOR,T.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(T.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,T.iridescenceMapTransform)),S.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),S.transmission>0&&(T.transmission.value=S.transmission,T.transmissionSamplerMap.value=w.texture,T.transmissionSamplerSize.value.set(w.width,w.height),S.transmissionMap&&(T.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,T.transmissionMapTransform)),T.thickness.value=S.thickness,S.thicknessMap&&(T.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=S.attenuationDistance,T.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(T.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(T.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=S.specularIntensity,T.specularColor.value.copy(S.specularColor),S.specularColorMap&&(T.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,T.specularColorMapTransform)),S.specularIntensityMap&&(T.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,T.specularIntensityMapTransform))}function M(T,S){S.matcap&&(T.matcap.value=S.matcap)}function C(T,S){const w=e.get(S).light;T.referencePosition.value.setFromMatrixPosition(w.matrixWorld),T.nearDistance.value=w.shadow.camera.near,T.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function L5(n,e,t,i){let a={},r={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(w,B){const D=B.program;i.uniformBlockBinding(w,D)}function p(w,B){let D=a[w.id];D===void 0&&(M(w),D=m(w),a[w.id]=D,w.addEventListener("dispose",T));const O=B.program;i.updateUBOMapping(w,O);const I=e.render.frame;r[w.id]!==I&&(x(w),r[w.id]=I)}function m(w){const B=v();w.__bindingPointIndex=B;const D=n.createBuffer(),O=w.__size,I=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,O,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,D),D}function v(){for(let w=0;w<u;w++)if(l.indexOf(w)===-1)return l.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(w){const B=a[w.id],D=w.uniforms,O=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let I=0,F=D.length;I<F;I++){const z=Array.isArray(D[I])?D[I]:[D[I]];for(let P=0,U=z.length;P<U;P++){const X=z[P];if(_(X,I,P,O)===!0){const ce=X.__offset,se=Array.isArray(X.value)?X.value:[X.value];let pe=0;for(let Ae=0;Ae<se.length;Ae++){const j=se[Ae],Z=C(j);typeof j=="number"||typeof j=="boolean"?(X.__data[0]=j,n.bufferSubData(n.UNIFORM_BUFFER,ce+pe,X.__data)):j.isMatrix3?(X.__data[0]=j.elements[0],X.__data[1]=j.elements[1],X.__data[2]=j.elements[2],X.__data[3]=0,X.__data[4]=j.elements[3],X.__data[5]=j.elements[4],X.__data[6]=j.elements[5],X.__data[7]=0,X.__data[8]=j.elements[6],X.__data[9]=j.elements[7],X.__data[10]=j.elements[8],X.__data[11]=0):(j.toArray(X.__data,pe),pe+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ce,X.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(w,B,D,O){const I=w.value,F=B+"_"+D;if(O[F]===void 0)return typeof I=="number"||typeof I=="boolean"?O[F]=I:O[F]=I.clone(),!0;{const z=O[F];if(typeof I=="number"||typeof I=="boolean"){if(z!==I)return O[F]=I,!0}else if(z.equals(I)===!1)return z.copy(I),!0}return!1}function M(w){const B=w.uniforms;let D=0;const O=16;for(let F=0,z=B.length;F<z;F++){const P=Array.isArray(B[F])?B[F]:[B[F]];for(let U=0,X=P.length;U<X;U++){const ce=P[U],se=Array.isArray(ce.value)?ce.value:[ce.value];for(let pe=0,Ae=se.length;pe<Ae;pe++){const j=se[pe],Z=C(j),Q=D%O,ve=Q%Z.boundary,ye=Q+ve;D+=ve,ye!==0&&O-ye<Z.storage&&(D+=O-ye),ce.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),ce.__offset=D,D+=Z.storage}}}const I=D%O;return I>0&&(D+=O-I),w.__size=D,w.__cache={},this}function C(w){const B={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(B.boundary=4,B.storage=4):w.isVector2?(B.boundary=8,B.storage=8):w.isVector3||w.isColor?(B.boundary=16,B.storage=12):w.isVector4?(B.boundary=16,B.storage=16):w.isMatrix3?(B.boundary=48,B.storage=48):w.isMatrix4?(B.boundary=64,B.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),B}function T(w){const B=w.target;B.removeEventListener("dispose",T);const D=l.indexOf(B.__bindingPointIndex);l.splice(D,1),n.deleteBuffer(a[B.id]),delete a[B.id],delete r[B.id]}function S(){for(const w in a)n.deleteBuffer(a[w]);l=[],a={},r={}}return{bind:d,update:p,dispose:S}}class oD{constructor(e={}){const{canvas:t=nB(),context:i=null,depth:a=!0,stencil:r=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=l;const M=new Uint32Array(4),C=new Int32Array(4);let T=null,S=null;const w=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=tl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let O=!1;this._outputColorSpace=ja;let I=0,F=0,z=null,P=-1,U=null;const X=new Rn,ce=new Rn;let se=null;const pe=new ut(0);let Ae=0,j=t.width,Z=t.height,Q=1,ve=null,ye=null;const Y=new Rn(0,0,j,Z),oe=new Rn(0,0,j,Z);let Be=!1;const De=new Cp;let ue=!1,Ue=!1;const Ie=new It,lt=new J,at=new Rn,Tt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pn=!1;function Bt(){return z===null?Q:1}let ee=i;function Ge(V,re){return t.getContext(V,re)}try{const V={alpha:!0,depth:a,stencil:r,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${p0}`),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",rt,!1),t.addEventListener("webglcontextcreationerror",Ke,!1),ee===null){const re="webgl2";if(ee=Ge(re,V),ee===null)throw Ge(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Ne,Je,Oe,it,qe,$e,Dt,Ut,K,H,ge,Re,Xe,we,xt,tt,pt,gt,Ye,Qe,vt,$,xe,et;function te(){Ne=new Xz(ee),Ne.init(),$=new sD(ee,Ne),Je=new Fz(ee,Ne,e,$),Oe=new E5(ee,Ne),Je.reversedDepthBuffer&&x&&Oe.buffers.depth.setReversed(!0),it=new Jz(ee),qe=new h5,$e=new T5(ee,Ne,Oe,qe,Je,$,it),Dt=new zz(D),Ut=new jz(D),K=new eF(ee),xe=new Pz(ee,K),H=new Yz(ee,K,it,xe),ge=new Wz(ee,H,K,it),Ye=new Kz(ee,Je,$e),tt=new Hz(qe),Re=new f5(D,Dt,Ut,Ne,Je,xe,tt),Xe=new N5(D,qe),we=new p5,xt=new _5(Ne),gt=new Oz(D,Dt,Ut,Oe,ge,_,d),pt=new S5(D,ge,Je),et=new L5(ee,it,Je,Oe),Qe=new Iz(ee,Ne,it),vt=new qz(ee,Ne,it),it.programs=Re.programs,D.capabilities=Je,D.extensions=Ne,D.properties=qe,D.renderLists=we,D.shadowMap=pt,D.state=Oe,D.info=it}te();const Ve=new B5(D,ee);this.xr=Ve,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const V=Ne.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Ne.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(V){V!==void 0&&(Q=V,this.setSize(j,Z,!1))},this.getSize=function(V){return V.set(j,Z)},this.setSize=function(V,re,me=!0){if(Ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=V,Z=re,t.width=Math.floor(V*Q),t.height=Math.floor(re*Q),me===!0&&(t.style.width=V+"px",t.style.height=re+"px"),this.setViewport(0,0,V,re)},this.getDrawingBufferSize=function(V){return V.set(j*Q,Z*Q).floor()},this.setDrawingBufferSize=function(V,re,me){j=V,Z=re,Q=me,t.width=Math.floor(V*me),t.height=Math.floor(re*me),this.setViewport(0,0,V,re)},this.getCurrentViewport=function(V){return V.copy(X)},this.getViewport=function(V){return V.copy(Y)},this.setViewport=function(V,re,me,Me){V.isVector4?Y.set(V.x,V.y,V.z,V.w):Y.set(V,re,me,Me),Oe.viewport(X.copy(Y).multiplyScalar(Q).round())},this.getScissor=function(V){return V.copy(oe)},this.setScissor=function(V,re,me,Me){V.isVector4?oe.set(V.x,V.y,V.z,V.w):oe.set(V,re,me,Me),Oe.scissor(ce.copy(oe).multiplyScalar(Q).round())},this.getScissorTest=function(){return Be},this.setScissorTest=function(V){Oe.setScissorTest(Be=V)},this.setOpaqueSort=function(V){ve=V},this.setTransparentSort=function(V){ye=V},this.getClearColor=function(V){return V.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor(...arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha(...arguments)},this.clear=function(V=!0,re=!0,me=!0){let Me=0;if(V){let le=!1;if(z!==null){const je=z.texture.format;le=je===C_||je===T_||je===g0}if(le){const je=z.texture.type,st=je===wr||je===ac||je===op||je===lp||je===S_||je===M_,mt=gt.getClearColor(),ct=gt.getClearAlpha(),Mt=mt.r,Ot=mt.g,Ct=mt.b;st?(M[0]=Mt,M[1]=Ot,M[2]=Ct,M[3]=ct,ee.clearBufferuiv(ee.COLOR,0,M)):(C[0]=Mt,C[1]=Ot,C[2]=Ct,C[3]=ct,ee.clearBufferiv(ee.COLOR,0,C))}else Me|=ee.COLOR_BUFFER_BIT}re&&(Me|=ee.DEPTH_BUFFER_BIT),me&&(Me|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",rt,!1),t.removeEventListener("webglcontextcreationerror",Ke,!1),gt.dispose(),we.dispose(),xt.dispose(),qe.dispose(),Dt.dispose(),Ut.dispose(),ge.dispose(),xe.dispose(),et.dispose(),Re.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",Ui),Ve.removeEventListener("sessionend",cc),As.stop()};function We(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function rt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const V=it.autoReset,re=pt.enabled,me=pt.autoUpdate,Me=pt.needsUpdate,le=pt.type;te(),it.autoReset=V,pt.enabled=re,pt.autoUpdate=me,pt.needsUpdate=Me,pt.type=le}function Ke(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function He(V){const re=V.target;re.removeEventListener("dispose",He),ot(re)}function ot(V){St(V),qe.remove(V)}function St(V){const re=qe.get(V).programs;re!==void 0&&(re.forEach(function(me){Re.releaseProgram(me)}),V.isShaderMaterial&&Re.releaseShaderCache(V))}this.renderBufferDirect=function(V,re,me,Me,le,je){re===null&&(re=Tt);const st=le.isMesh&&le.matrixWorld.determinant()<0,mt=er(V,re,me,Me,le);Oe.setMaterial(Me,st);let ct=me.index,Mt=1;if(Me.wireframe===!0){if(ct=H.getWireframeAttribute(me),ct===void 0)return;Mt=2}const Ot=me.drawRange,Ct=me.attributes.position;let Qt=Ot.start*Mt,En=(Ot.start+Ot.count)*Mt;je!==null&&(Qt=Math.max(Qt,je.start*Mt),En=Math.min(En,(je.start+je.count)*Mt)),ct!==null?(Qt=Math.max(Qt,0),En=Math.min(En,ct.count)):Ct!=null&&(Qt=Math.max(Qt,0),En=Math.min(En,Ct.count));const Pn=En-Qt;if(Pn<0||Pn===1/0)return;xe.setup(le,Me,mt,me,ct);let Tn,tn=Qe;if(ct!==null&&(Tn=K.get(ct),tn=vt,tn.setIndex(Tn)),le.isMesh)Me.wireframe===!0?(Oe.setLineWidth(Me.wireframeLinewidth*Bt()),tn.setMode(ee.LINES)):tn.setMode(ee.TRIANGLES);else if(le.isLine){let yt=Me.linewidth;yt===void 0&&(yt=1),Oe.setLineWidth(yt*Bt()),le.isLineSegments?tn.setMode(ee.LINES):le.isLineLoop?tn.setMode(ee.LINE_LOOP):tn.setMode(ee.LINE_STRIP)}else le.isPoints?tn.setMode(ee.POINTS):le.isSprite&&tn.setMode(ee.TRIANGLES);if(le.isBatchedMesh)if(le._multiDrawInstances!==null)tp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),tn.renderMultiDrawInstances(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount,le._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))tn.renderMultiDraw(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount);else{const yt=le._multiDrawStarts,Gn=le._multiDrawCounts,un=le._multiDrawCount,Oi=ct?K.get(ct).bytesPerElement:1,tr=qe.get(Me).currentProgram.getUniforms();for(let xi=0;xi<un;xi++)tr.setValue(ee,"_gl_DrawID",xi),tn.render(yt[xi]/Oi,Gn[xi])}else if(le.isInstancedMesh)tn.renderInstances(Qt,Pn,le.count);else if(me.isInstancedBufferGeometry){const yt=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,Gn=Math.min(me.instanceCount,yt);tn.renderInstances(Qt,Pn,Gn)}else tn.render(Qt,Pn)};function en(V,re,me){V.transparent===!0&&V.side===co&&V.forceSinglePass===!1?(V.side=_s,V.needsUpdate=!0,ta(V,re,me),V.side=sl,V.needsUpdate=!0,ta(V,re,me),V.side=co):ta(V,re,me)}this.compile=function(V,re,me=null){me===null&&(me=V),S=xt.get(me),S.init(re),B.push(S),me.traverseVisible(function(le){le.isLight&&le.layers.test(re.layers)&&(S.pushLight(le),le.castShadow&&S.pushShadow(le))}),V!==me&&V.traverseVisible(function(le){le.isLight&&le.layers.test(re.layers)&&(S.pushLight(le),le.castShadow&&S.pushShadow(le))}),S.setupLights();const Me=new Set;return V.traverse(function(le){if(!(le.isMesh||le.isPoints||le.isLine||le.isSprite))return;const je=le.material;if(je)if(Array.isArray(je))for(let st=0;st<je.length;st++){const mt=je[st];en(mt,me,le),Me.add(mt)}else en(je,me,le),Me.add(je)}),S=B.pop(),Me},this.compileAsync=function(V,re,me=null){const Me=this.compile(V,re,me);return new Promise(le=>{function je(){if(Me.forEach(function(st){qe.get(st).currentProgram.isReady()&&Me.delete(st)}),Me.size===0){le(V);return}setTimeout(je,10)}Ne.get("KHR_parallel_shader_compile")!==null?je():setTimeout(je,10)})};let Xt=null;function $n(V){Xt&&Xt(V)}function Ui(){As.stop()}function cc(){As.start()}const As=new eD;As.setAnimationLoop($n),typeof self<"u"&&As.setContext(self),this.setAnimationLoop=function(V){Xt=V,Ve.setAnimationLoop(V),V===null?As.stop():As.start()},Ve.addEventListener("sessionstart",Ui),Ve.addEventListener("sessionend",cc),this.render=function(V,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(re),re=Ve.getCamera()),V.isScene===!0&&V.onBeforeRender(D,V,re,z),S=xt.get(V,B.length),S.init(re),B.push(S),Ie.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),De.setFromProjectionMatrix(Ie,Ks,re.reversedDepth),Ue=this.localClippingEnabled,ue=tt.init(this.clippingPlanes,Ue),T=we.get(V,w.length),T.init(),w.push(T),Ve.enabled===!0&&Ve.isPresenting===!0){const je=D.xr.getDepthSensingMesh();je!==null&&vo(je,re,-1/0,D.sortObjects)}vo(V,re,0,D.sortObjects),T.finish(),D.sortObjects===!0&&T.sort(ve,ye),pn=Ve.enabled===!1||Ve.isPresenting===!1||Ve.hasDepthSensing()===!1,pn&&gt.addToRenderList(T,V),this.info.render.frame++,ue===!0&&tt.beginShadows();const me=S.state.shadowsArray;pt.render(me,V,re),ue===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=T.opaque,le=T.transmissive;if(S.setupLights(),re.isArrayCamera){const je=re.cameras;if(le.length>0)for(let st=0,mt=je.length;st<mt;st++){const ct=je[st];ll(Me,le,V,ct)}pn&&gt.render(V);for(let st=0,mt=je.length;st<mt;st++){const ct=je[st];Ka(T,V,ct,ct.viewport)}}else le.length>0&&ll(Me,le,V,re),pn&&gt.render(V),Ka(T,V,re);z!==null&&F===0&&($e.updateMultisampleRenderTarget(z),$e.updateRenderTargetMipmap(z)),V.isScene===!0&&V.onAfterRender(D,V,re),xe.resetDefaultState(),P=-1,U=null,B.pop(),B.length>0?(S=B[B.length-1],ue===!0&&tt.setGlobalState(D.clippingPlanes,S.state.camera)):S=null,w.pop(),w.length>0?T=w[w.length-1]:T=null};function vo(V,re,me,Me){if(V.visible===!1)return;if(V.layers.test(re.layers)){if(V.isGroup)me=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(re);else if(V.isLight)S.pushLight(V),V.castShadow&&S.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||De.intersectsSprite(V)){Me&&at.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Ie);const st=ge.update(V),mt=V.material;mt.visible&&T.push(V,st,mt,me,at.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||De.intersectsObject(V))){const st=ge.update(V),mt=V.material;if(Me&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),at.copy(V.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),at.copy(st.boundingSphere.center)),at.applyMatrix4(V.matrixWorld).applyMatrix4(Ie)),Array.isArray(mt)){const ct=st.groups;for(let Mt=0,Ot=ct.length;Mt<Ot;Mt++){const Ct=ct[Mt],Qt=mt[Ct.materialIndex];Qt&&Qt.visible&&T.push(V,st,Qt,me,at.z,Ct)}}else mt.visible&&T.push(V,st,mt,me,at.z,null)}}const je=V.children;for(let st=0,mt=je.length;st<mt;st++)vo(je[st],re,me,Me)}function Ka(V,re,me,Me){const le=V.opaque,je=V.transmissive,st=V.transparent;S.setupLightsView(me),ue===!0&&tt.setGlobalState(D.clippingPlanes,me),Me&&Oe.viewport(X.copy(Me)),le.length>0&&Ra(le,re,me),je.length>0&&Ra(je,re,me),st.length>0&&Ra(st,re,me),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function ll(V,re,me,Me){if((me.isScene===!0?me.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Me.id]===void 0&&(S.state.transmissionRenderTarget[Me.id]=new ho(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?rh:wr,minFilter:Tr,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const je=S.state.transmissionRenderTarget[Me.id],st=Me.viewport||X;je.setSize(st.z*D.transmissionResolutionScale,st.w*D.transmissionResolutionScale);const mt=D.getRenderTarget(),ct=D.getActiveCubeFace(),Mt=D.getActiveMipmapLevel();D.setRenderTarget(je),D.getClearColor(pe),Ae=D.getClearAlpha(),Ae<1&&D.setClearColor(16777215,.5),D.clear(),pn&&gt.render(me);const Ot=D.toneMapping;D.toneMapping=tl;const Ct=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),S.setupLightsView(Me),ue===!0&&tt.setGlobalState(D.clippingPlanes,Me),Ra(V,me,Me),$e.updateMultisampleRenderTarget(je),$e.updateRenderTargetMipmap(je),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let Qt=!1;for(let En=0,Pn=re.length;En<Pn;En++){const Tn=re[En],tn=Tn.object,yt=Tn.geometry,Gn=Tn.material,un=Tn.group;if(Gn.side===co&&tn.layers.test(Me.layers)){const Oi=Gn.side;Gn.side=_s,Gn.needsUpdate=!0,Wa(tn,me,Me,yt,Gn,un),Gn.side=Oi,Gn.needsUpdate=!0,Qt=!0}}Qt===!0&&($e.updateMultisampleRenderTarget(je),$e.updateRenderTargetMipmap(je))}D.setRenderTarget(mt,ct,Mt),D.setClearColor(pe,Ae),Ct!==void 0&&(Me.viewport=Ct),D.toneMapping=Ot}function Ra(V,re,me){const Me=re.isScene===!0?re.overrideMaterial:null;for(let le=0,je=V.length;le<je;le++){const st=V[le],mt=st.object,ct=st.geometry,Mt=st.group;let Ot=st.material;Ot.allowOverride===!0&&Me!==null&&(Ot=Me),mt.layers.test(me.layers)&&Wa(mt,re,me,ct,Ot,Mt)}}function Wa(V,re,me,Me,le,je){V.onBeforeRender(D,re,me,Me,le,je),V.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),le.onBeforeRender(D,re,me,Me,V,je),le.transparent===!0&&le.side===co&&le.forceSinglePass===!1?(le.side=_s,le.needsUpdate=!0,D.renderBufferDirect(me,re,Me,le,V,je),le.side=sl,le.needsUpdate=!0,D.renderBufferDirect(me,re,Me,le,V,je),le.side=co):D.renderBufferDirect(me,re,Me,le,V,je),V.onAfterRender(D,re,me,Me,le,je)}function ta(V,re,me){re.isScene!==!0&&(re=Tt);const Me=qe.get(V),le=S.state.lights,je=S.state.shadowsArray,st=le.state.version,mt=Re.getParameters(V,le.state,je,re,me),ct=Re.getProgramCacheKey(mt);let Mt=Me.programs;Me.environment=V.isMeshStandardMaterial?re.environment:null,Me.fog=re.fog,Me.envMap=(V.isMeshStandardMaterial?Ut:Dt).get(V.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&V.envMap===null?re.environmentRotation:V.envMapRotation,Mt===void 0&&(V.addEventListener("dispose",He),Mt=new Map,Me.programs=Mt);let Ot=Mt.get(ct);if(Ot!==void 0){if(Me.currentProgram===Ot&&Me.lightsStateVersion===st)return Ci(V,mt),Ot}else mt.uniforms=Re.getUniforms(V),V.onBeforeCompile(mt,D),Ot=Re.acquireProgram(mt,ct),Mt.set(ct,Ot),Me.uniforms=mt.uniforms;const Ct=Me.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Ct.clippingPlanes=tt.uniform),Ci(V,mt),Me.needsLights=fh(V),Me.lightsStateVersion=st,Me.needsLights&&(Ct.ambientLightColor.value=le.state.ambient,Ct.lightProbe.value=le.state.probe,Ct.directionalLights.value=le.state.directional,Ct.directionalLightShadows.value=le.state.directionalShadow,Ct.spotLights.value=le.state.spot,Ct.spotLightShadows.value=le.state.spotShadow,Ct.rectAreaLights.value=le.state.rectArea,Ct.ltc_1.value=le.state.rectAreaLTC1,Ct.ltc_2.value=le.state.rectAreaLTC2,Ct.pointLights.value=le.state.point,Ct.pointLightShadows.value=le.state.pointShadow,Ct.hemisphereLights.value=le.state.hemi,Ct.directionalShadowMap.value=le.state.directionalShadowMap,Ct.directionalShadowMatrix.value=le.state.directionalShadowMatrix,Ct.spotShadowMap.value=le.state.spotShadowMap,Ct.spotLightMatrix.value=le.state.spotLightMatrix,Ct.spotLightMap.value=le.state.spotLightMap,Ct.pointShadowMap.value=le.state.pointShadowMap,Ct.pointShadowMatrix.value=le.state.pointShadowMatrix),Me.currentProgram=Ot,Me.uniformsList=null,Ot}function Zt(V){if(V.uniformsList===null){const re=V.currentProgram.getUniforms();V.uniformsList=lx.seqWithValue(re.seq,V.uniforms)}return V.uniformsList}function Ci(V,re){const me=qe.get(V);me.outputColorSpace=re.outputColorSpace,me.batching=re.batching,me.batchingColor=re.batchingColor,me.instancing=re.instancing,me.instancingColor=re.instancingColor,me.instancingMorph=re.instancingMorph,me.skinning=re.skinning,me.morphTargets=re.morphTargets,me.morphNormals=re.morphNormals,me.morphColors=re.morphColors,me.morphTargetsCount=re.morphTargetsCount,me.numClippingPlanes=re.numClippingPlanes,me.numIntersection=re.numClipIntersection,me.vertexAlphas=re.vertexAlphas,me.vertexTangents=re.vertexTangents,me.toneMapping=re.toneMapping}function er(V,re,me,Me,le){re.isScene!==!0&&(re=Tt),$e.resetTextureUnits();const je=re.fog,st=Me.isMeshStandardMaterial?re.environment:null,mt=z===null?D.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:fu,ct=(Me.isMeshStandardMaterial?Ut:Dt).get(Me.envMap||st),Mt=Me.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,Ot=!!me.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),Ct=!!me.morphAttributes.position,Qt=!!me.morphAttributes.normal,En=!!me.morphAttributes.color;let Pn=tl;Me.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Pn=D.toneMapping);const Tn=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,tn=Tn!==void 0?Tn.length:0,yt=qe.get(Me),Gn=S.state.lights;if(ue===!0&&(Ue===!0||V!==U)){const _i=V===U&&Me.id===P;tt.setState(Me,V,_i)}let un=!1;Me.version===yt.__version?(yt.needsLights&&yt.lightsStateVersion!==Gn.state.version||yt.outputColorSpace!==mt||le.isBatchedMesh&&yt.batching===!1||!le.isBatchedMesh&&yt.batching===!0||le.isBatchedMesh&&yt.batchingColor===!0&&le.colorTexture===null||le.isBatchedMesh&&yt.batchingColor===!1&&le.colorTexture!==null||le.isInstancedMesh&&yt.instancing===!1||!le.isInstancedMesh&&yt.instancing===!0||le.isSkinnedMesh&&yt.skinning===!1||!le.isSkinnedMesh&&yt.skinning===!0||le.isInstancedMesh&&yt.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&yt.instancingColor===!1&&le.instanceColor!==null||le.isInstancedMesh&&yt.instancingMorph===!0&&le.morphTexture===null||le.isInstancedMesh&&yt.instancingMorph===!1&&le.morphTexture!==null||yt.envMap!==ct||Me.fog===!0&&yt.fog!==je||yt.numClippingPlanes!==void 0&&(yt.numClippingPlanes!==tt.numPlanes||yt.numIntersection!==tt.numIntersection)||yt.vertexAlphas!==Mt||yt.vertexTangents!==Ot||yt.morphTargets!==Ct||yt.morphNormals!==Qt||yt.morphColors!==En||yt.toneMapping!==Pn||yt.morphTargetsCount!==tn)&&(un=!0):(un=!0,yt.__version=Me.version);let Oi=yt.currentProgram;un===!0&&(Oi=ta(Me,re,le));let tr=!1,xi=!1,yo=!1;const on=Oi.getUniforms(),ki=yt.uniforms;if(Oe.useProgram(Oi.program)&&(tr=!0,xi=!0,yo=!0),Me.id!==P&&(P=Me.id,xi=!0),tr||U!==V){Oe.buffers.depth.getReversed()&&V.reversedDepth!==!0&&(V._reversedDepth=!0,V.updateProjectionMatrix()),on.setValue(ee,"projectionMatrix",V.projectionMatrix),on.setValue(ee,"viewMatrix",V.matrixWorldInverse);const ci=on.map.cameraPosition;ci!==void 0&&ci.setValue(ee,lt.setFromMatrixPosition(V.matrixWorld)),Je.logarithmicDepthBuffer&&on.setValue(ee,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&on.setValue(ee,"isOrthographic",V.isOrthographicCamera===!0),U!==V&&(U=V,xi=!0,yo=!0)}if(le.isSkinnedMesh){on.setOptional(ee,le,"bindMatrix"),on.setOptional(ee,le,"bindMatrixInverse");const _i=le.skeleton;_i&&(_i.boneTexture===null&&_i.computeBoneTexture(),on.setValue(ee,"boneTexture",_i.boneTexture,$e))}le.isBatchedMesh&&(on.setOptional(ee,le,"batchingTexture"),on.setValue(ee,"batchingTexture",le._matricesTexture,$e),on.setOptional(ee,le,"batchingIdTexture"),on.setValue(ee,"batchingIdTexture",le._indirectTexture,$e),on.setOptional(ee,le,"batchingColorTexture"),le._colorsTexture!==null&&on.setValue(ee,"batchingColorTexture",le._colorsTexture,$e));const na=me.morphAttributes;if((na.position!==void 0||na.normal!==void 0||na.color!==void 0)&&Ye.update(le,me,Oi),(xi||yt.receiveShadow!==le.receiveShadow)&&(yt.receiveShadow=le.receiveShadow,on.setValue(ee,"receiveShadow",le.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(ki.envMap.value=ct,ki.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&re.environment!==null&&(ki.envMapIntensity.value=re.environmentIntensity),xi&&(on.setValue(ee,"toneMappingExposure",D.toneMappingExposure),yt.needsLights&&uc(ki,yo),je&&Me.fog===!0&&Xe.refreshFogUniforms(ki,je),Xe.refreshMaterialUniforms(ki,Me,Q,Z,S.state.transmissionRenderTarget[V.id]),lx.upload(ee,Zt(yt),ki,$e)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(lx.upload(ee,Zt(yt),ki,$e),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&on.setValue(ee,"center",le.center),on.setValue(ee,"modelViewMatrix",le.modelViewMatrix),on.setValue(ee,"normalMatrix",le.normalMatrix),on.setValue(ee,"modelMatrix",le.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const _i=Me.uniformsGroups;for(let ci=0,cl=_i.length;ci<cl;ci++){const ga=_i[ci];et.update(ga,Oi),et.bind(ga,Oi)}}return Oi}function uc(V,re){V.ambientLightColor.needsUpdate=re,V.lightProbe.needsUpdate=re,V.directionalLights.needsUpdate=re,V.directionalLightShadows.needsUpdate=re,V.pointLights.needsUpdate=re,V.pointLightShadows.needsUpdate=re,V.spotLights.needsUpdate=re,V.spotLightShadows.needsUpdate=re,V.rectAreaLights.needsUpdate=re,V.hemisphereLights.needsUpdate=re}function fh(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(V,re,me){const Me=qe.get(V);Me.__autoAllocateDepthBuffer=V.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),qe.get(V.texture).__webglTexture=re,qe.get(V.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:me,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(V,re){const me=qe.get(V);me.__webglFramebuffer=re,me.__useDefaultFramebuffer=re===void 0};const Ip=ee.createFramebuffer();this.setRenderTarget=function(V,re=0,me=0){z=V,I=re,F=me;let Me=!0,le=null,je=!1,st=!1;if(V){const ct=qe.get(V);if(ct.__useDefaultFramebuffer!==void 0)Oe.bindFramebuffer(ee.FRAMEBUFFER,null),Me=!1;else if(ct.__webglFramebuffer===void 0)$e.setupRenderTarget(V);else if(ct.__hasExternalTextures)$e.rebindTextures(V,qe.get(V.texture).__webglTexture,qe.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const Ct=V.depthTexture;if(ct.__boundDepthTexture!==Ct){if(Ct!==null&&qe.has(Ct)&&(V.width!==Ct.image.width||V.height!==Ct.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$e.setupDepthRenderbuffer(V)}}const Mt=V.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(st=!0);const Ot=qe.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Ot[re])?le=Ot[re][me]:le=Ot[re],je=!0):V.samples>0&&$e.useMultisampledRTT(V)===!1?le=qe.get(V).__webglMultisampledFramebuffer:Array.isArray(Ot)?le=Ot[me]:le=Ot,X.copy(V.viewport),ce.copy(V.scissor),se=V.scissorTest}else X.copy(Y).multiplyScalar(Q).floor(),ce.copy(oe).multiplyScalar(Q).floor(),se=Be;if(me!==0&&(le=Ip),Oe.bindFramebuffer(ee.FRAMEBUFFER,le)&&Me&&Oe.drawBuffers(V,le),Oe.viewport(X),Oe.scissor(ce),Oe.setScissorTest(se),je){const ct=qe.get(V.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+re,ct.__webglTexture,me)}else if(st){const ct=re;for(let Mt=0;Mt<V.textures.length;Mt++){const Ot=qe.get(V.textures[Mt]);ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+Mt,Ot.__webglTexture,me,ct)}}else if(V!==null&&me!==0){const ct=qe.get(V.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ct.__webglTexture,me)}P=-1},this.readRenderTargetPixels=function(V,re,me,Me,le,je,st,mt=0){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=qe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(ct=ct[st]),ct){Oe.bindFramebuffer(ee.FRAMEBUFFER,ct);try{const Mt=V.textures[mt],Ot=Mt.format,Ct=Mt.type;if(!Je.textureFormatReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Je.textureTypeReadable(Ct)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=V.width-Me&&me>=0&&me<=V.height-le&&(V.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+mt),ee.readPixels(re,me,Me,le,$.convert(Ot),$.convert(Ct),je))}finally{const Mt=z!==null?qe.get(z).__webglFramebuffer:null;Oe.bindFramebuffer(ee.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(V,re,me,Me,le,je,st,mt=0){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ct=qe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(ct=ct[st]),ct)if(re>=0&&re<=V.width-Me&&me>=0&&me<=V.height-le){Oe.bindFramebuffer(ee.FRAMEBUFFER,ct);const Mt=V.textures[mt],Ot=Mt.format,Ct=Mt.type;if(!Je.textureFormatReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Je.textureTypeReadable(Ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Qt=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Qt),ee.bufferData(ee.PIXEL_PACK_BUFFER,je.byteLength,ee.STREAM_READ),V.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+mt),ee.readPixels(re,me,Me,le,$.convert(Ot),$.convert(Ct),0);const En=z!==null?qe.get(z).__webglFramebuffer:null;Oe.bindFramebuffer(ee.FRAMEBUFFER,En);const Pn=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await _P(ee,Pn,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Qt),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,je),ee.deleteBuffer(Qt),ee.deleteSync(Pn),je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(V,re=null,me=0){const Me=Math.pow(2,-me),le=Math.floor(V.image.width*Me),je=Math.floor(V.image.height*Me),st=re!==null?re.x:0,mt=re!==null?re.y:0;$e.setTexture2D(V,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,me,0,0,st,mt,le,je),Oe.unbindTexture()};const fc=ee.createFramebuffer(),Nr=ee.createFramebuffer();this.copyTextureToTexture=function(V,re,me=null,Me=null,le=0,je=null){je===null&&(le!==0?(tp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),je=le,le=0):je=0);let st,mt,ct,Mt,Ot,Ct,Qt,En,Pn;const Tn=V.isCompressedTexture?V.mipmaps[je]:V.image;if(me!==null)st=me.max.x-me.min.x,mt=me.max.y-me.min.y,ct=me.isBox3?me.max.z-me.min.z:1,Mt=me.min.x,Ot=me.min.y,Ct=me.isBox3?me.min.z:0;else{const na=Math.pow(2,-le);st=Math.floor(Tn.width*na),mt=Math.floor(Tn.height*na),V.isDataArrayTexture?ct=Tn.depth:V.isData3DTexture?ct=Math.floor(Tn.depth*na):ct=1,Mt=0,Ot=0,Ct=0}Me!==null?(Qt=Me.x,En=Me.y,Pn=Me.z):(Qt=0,En=0,Pn=0);const tn=$.convert(re.format),yt=$.convert(re.type);let Gn;re.isData3DTexture?($e.setTexture3D(re,0),Gn=ee.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?($e.setTexture2DArray(re,0),Gn=ee.TEXTURE_2D_ARRAY):($e.setTexture2D(re,0),Gn=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,re.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,re.unpackAlignment);const un=ee.getParameter(ee.UNPACK_ROW_LENGTH),Oi=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),tr=ee.getParameter(ee.UNPACK_SKIP_PIXELS),xi=ee.getParameter(ee.UNPACK_SKIP_ROWS),yo=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Tn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Tn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Mt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Ot),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Ct);const on=V.isDataArrayTexture||V.isData3DTexture,ki=re.isDataArrayTexture||re.isData3DTexture;if(V.isDepthTexture){const na=qe.get(V),_i=qe.get(re),ci=qe.get(na.__renderTarget),cl=qe.get(_i.__renderTarget);Oe.bindFramebuffer(ee.READ_FRAMEBUFFER,ci.__webglFramebuffer),Oe.bindFramebuffer(ee.DRAW_FRAMEBUFFER,cl.__webglFramebuffer);for(let ga=0;ga<ct;ga++)on&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,qe.get(V).__webglTexture,le,Ct+ga),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,qe.get(re).__webglTexture,je,Pn+ga)),ee.blitFramebuffer(Mt,Ot,st,mt,Qt,En,st,mt,ee.DEPTH_BUFFER_BIT,ee.NEAREST);Oe.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(le!==0||V.isRenderTargetTexture||qe.has(V)){const na=qe.get(V),_i=qe.get(re);Oe.bindFramebuffer(ee.READ_FRAMEBUFFER,fc),Oe.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Nr);for(let ci=0;ci<ct;ci++)on?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,na.__webglTexture,le,Ct+ci):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,na.__webglTexture,le),ki?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,_i.__webglTexture,je,Pn+ci):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,_i.__webglTexture,je),le!==0?ee.blitFramebuffer(Mt,Ot,st,mt,Qt,En,st,mt,ee.COLOR_BUFFER_BIT,ee.NEAREST):ki?ee.copyTexSubImage3D(Gn,je,Qt,En,Pn+ci,Mt,Ot,st,mt):ee.copyTexSubImage2D(Gn,je,Qt,En,Mt,Ot,st,mt);Oe.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else ki?V.isDataTexture||V.isData3DTexture?ee.texSubImage3D(Gn,je,Qt,En,Pn,st,mt,ct,tn,yt,Tn.data):re.isCompressedArrayTexture?ee.compressedTexSubImage3D(Gn,je,Qt,En,Pn,st,mt,ct,tn,Tn.data):ee.texSubImage3D(Gn,je,Qt,En,Pn,st,mt,ct,tn,yt,Tn):V.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,je,Qt,En,st,mt,tn,yt,Tn.data):V.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,je,Qt,En,Tn.width,Tn.height,tn,Tn.data):ee.texSubImage2D(ee.TEXTURE_2D,je,Qt,En,st,mt,tn,yt,Tn);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,un),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Oi),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,tr),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,xi),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,yo),je===0&&re.generateMipmaps&&ee.generateMipmap(Gn),Oe.unbindTexture()},this.copyTextureToTexture3D=function(V,re,me=null,Me=null,le=0){return tp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,re,me,Me,le)},this.initRenderTarget=function(V){qe.get(V).__webglFramebuffer===void 0&&$e.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?$e.setTextureCube(V,0):V.isData3DTexture?$e.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?$e.setTexture2DArray(V,0):$e.setTexture2D(V,0),Oe.unbindTexture()},this.resetState=function(){I=0,F=0,z=null,Oe.reset(),xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ks}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=bn._getUnpackColorSpace()}}const U5=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:BM,AddEquation:su,AddOperation:Nw,AdditiveAnimationBlendMode:FM,AdditiveBlending:CS,AgXToneMapping:Iw,AlphaFormat:UM,AlwaysCompare:$w,AlwaysDepth:xx,AlwaysStencilFunc:DS,AmbientLight:GB,AnimationAction:ZB,AnimationClip:yp,AnimationLoader:qI,AnimationMixer:_4,AnimationObjectGroup:y4,AnimationUtils:kI,ArcCurve:mB,ArrayCamera:JB,ArrowHelper:X4,AttachedBindMode:BS,Audio:KB,AudioAnalyser:l4,AudioContext:d1,AudioListener:s4,AudioLoader:n4,AxesHelper:Y4,BackSide:_s,BasicDepthPacking:jw,BasicShadowMap:hw,BatchedMesh:hB,Bone:U_,BooleanKeyframeTrack:ch,Box2:w4,Box3:Ca,Box3Helper:k4,BoxGeometry:lh,BoxHelper:V4,BufferAttribute:wn,BufferGeometry:qt,BufferGeometryLoader:YB,ByteType:DM,Cache:$o,Camera:D_,CameraHelper:G4,CanvasTexture:hI,CapsuleGeometry:H_,CatmullRomCurve3:gB,CineonToneMapping:Ow,CircleGeometry:z_,ClampToEdgeWrapping:Js,Clock:p1,Color:ut,ColorKeyframeTrack:o1,ColorManagement:bn,CompressedArrayTexture:uI,CompressedCubeTexture:fI,CompressedTexture:I_,CompressedTextureLoader:JI,ConeGeometry:A0,ConstantAlphaFactor:ww,ConstantColorFactor:Cw,Controls:J4,CubeCamera:oB,CubeReflectionMapping:ic,CubeRefractionMapping:cu,CubeTexture:v0,CubeTextureLoader:KI,CubeUVReflectionMapping:Tp,CubicBezierCurve:QM,CubicBezierCurve3:vB,CubicInterpolant:OB,CullFaceBack:TS,CullFaceFront:fw,CullFaceFrontBack:SO,CullFaceNone:uw,Curve:go,CurvePath:xB,CustomBlending:dw,CustomToneMapping:Pw,CylinderGeometry:_0,Cylindrical:R4,Data3DTexture:B_,DataArrayTexture:w_,DataTexture:nl,DataTextureLoader:WI,DataUtils:OP,DecrementStencilOp:UO,DecrementWrapStencilOp:PO,DefaultLoadingManager:FB,DepthFormat:cp,DepthStencilFormat:up,DepthTexture:F_,DetachedBindMode:Hw,DirectionalLight:h1,DirectionalLightHelper:z4,DiscreteInterpolant:PB,DodecahedronGeometry:G_,DoubleSide:co,DstAlphaFactor:bw,DstColorFactor:Mw,DynamicCopyUsage:ZO,DynamicDrawUsage:XO,DynamicReadUsage:JO,EdgesGeometry:pB,EllipseCurve:V_,EqualCompare:Kw,EqualDepth:Ax,EqualStencilFunc:zO,EquirectangularReflectionMapping:Jg,EquirectangularRefractionMapping:Kg,Euler:Qs,EventDispatcher:ol,ExtrudeGeometry:k_,FileLoader:$s,Float16BufferAttribute:VP,Float32BufferAttribute:At,FloatType:ys,Fog:L_,FogExp2:N_,FramebufferTexture:cI,FrontSide:sl,Frustum:Cp,FrustumArray:O_,GLBufferAttribute:E4,GLSL1:$O,GLSL3:NS,GreaterCompare:Ww,GreaterDepth:Sx,GreaterEqualCompare:Qw,GreaterEqualDepth:bx,GreaterEqualStencilFunc:jO,GreaterStencilFunc:VO,GridHelper:F4,Group:Wl,HalfFloatType:rh,HemisphereLight:zB,HemisphereLightHelper:I4,IcosahedronGeometry:j_,ImageBitmapLoader:qB,ImageLoader:i0,ImageUtils:iB,IncrementStencilOp:LO,IncrementWrapStencilOp:OO,InstancedBufferAttribute:Qf,InstancedBufferGeometry:XB,InstancedInterleavedBuffer:M4,InstancedMesh:JM,Int16BufferAttribute:zP,Int32BufferAttribute:GP,Int8BufferAttribute:IP,IntType:b_,InterleavedBuffer:y0,InterleavedBufferAttribute:hu,Interpolant:wp,InterpolateDiscrete:fp,InterpolateLinear:hp,InterpolateSmooth:rx,InterpolationSamplingMode:nP,InterpolationSamplingType:tP,InvertStencilOp:IO,KeepStencilOp:Nf,KeyframeTrack:Dr,LOD:fB,LatheGeometry:X_,Layers:mp,LessCompare:Jw,LessDepth:_x,LessEqualCompare:zM,LessEqualDepth:Zf,LessEqualStencilFunc:GO,LessStencilFunc:HO,Light:xu,LightProbe:jB,Line:sc,Line3:N4,LineBasicMaterial:qa,LineCurve:$M,LineCurve3:yB,LineDashedMaterial:NB,LineLoop:KM,LineSegments:mo,LinearFilter:vi,LinearInterpolant:r1,LinearMipMapLinearFilter:CO,LinearMipMapNearestFilter:TO,LinearMipmapLinearFilter:Tr,LinearMipmapNearestFilter:ep,LinearSRGBColorSpace:fu,LinearToneMapping:Lw,LinearTransfer:Zg,Loader:Ja,LoaderUtils:lu,LoadingManager:l1,LoopOnce:zw,LoopPingPong:Vw,LoopRepeat:Gw,MOUSE:Bf,Material:Zi,MaterialLoader:Q_,MathUtils:eB,Matrix2:y1,Matrix3:Wt,Matrix4:It,MaxEquation:vw,Mesh:Li,MeshBasicMaterial:Ws,MeshDepthMaterial:i1,MeshDistanceMaterial:a1,MeshLambertMaterial:BB,MeshMatcapMaterial:DB,MeshNormalMaterial:wB,MeshPhongMaterial:CB,MeshPhysicalMaterial:Br,MeshStandardMaterial:M0,MeshToonMaterial:RB,MinEquation:gw,MirroredRepeatWrapping:rp,MixOperation:Dw,MultiplyBlending:wS,MultiplyOperation:m0,NearestFilter:da,NearestMipMapLinearFilter:EO,NearestMipMapNearestFilter:MO,NearestMipmapLinearFilter:Pf,NearestMipmapNearestFilter:A_,NeutralToneMapping:Fw,NeverCompare:qw,NeverDepth:yx,NeverStencilFunc:FO,NoBlending:Ql,NoColorSpace:Jl,NoToneMapping:tl,NormalAnimationBlendMode:R_,NormalBlending:Xf,NotEqualCompare:Zw,NotEqualDepth:Mx,NotEqualStencilFunc:kO,NumberKeyframeTrack:eh,Object3D:Sn,ObjectLoader:e4,ObjectSpaceNormalMap:Yw,OctahedronGeometry:b0,OneFactor:xw,OneMinusConstantAlphaFactor:Bw,OneMinusConstantColorFactor:Rw,OneMinusDstAlphaFactor:Sw,OneMinusDstColorFactor:Ew,OneMinusSrcAlphaFactor:vx,OneMinusSrcColorFactor:Aw,OrthographicCamera:ec,PCFShadowMap:x_,PCFSoftShadowMap:Dg,PMREMGenerator:zS,Path:t_,PerspectiveCamera:Ti,Plane:ql,PlaneGeometry:Rp,PlaneHelper:j4,PointLight:f1,PointLightHelper:O4,Points:WM,PointsMaterial:P_,PolarGridHelper:H4,PolyhedronGeometry:yu,PositionalAudio:o4,PropertyBinding:Mn,PropertyMixer:WB,QuadraticBezierCurve:e1,QuadraticBezierCurve3:t1,Quaternion:pa,QuaternionKeyframeTrack:th,QuaternionLinearInterpolant:IB,RED_GREEN_RGTC2_Format:Kx,RED_RGTC1_Format:IM,REVISION:p0,RGBADepthPacking:Xw,RGBAFormat:Xa,RGBAIntegerFormat:C_,RGBA_ASTC_10x10_Format:kx,RGBA_ASTC_10x5_Format:zx,RGBA_ASTC_10x6_Format:Gx,RGBA_ASTC_10x8_Format:Vx,RGBA_ASTC_12x10_Format:jx,RGBA_ASTC_12x12_Format:Xx,RGBA_ASTC_4x4_Format:Nx,RGBA_ASTC_5x4_Format:Lx,RGBA_ASTC_5x5_Format:Ux,RGBA_ASTC_6x5_Format:Ox,RGBA_ASTC_6x6_Format:Px,RGBA_ASTC_8x5_Format:Ix,RGBA_ASTC_8x6_Format:Fx,RGBA_ASTC_8x8_Format:Hx,RGBA_BPTC_Format:Pg,RGBA_ETC2_EAC_Format:Dx,RGBA_PVRTC_2BPPV1_Format:Rx,RGBA_PVRTC_4BPPV1_Format:Cx,RGBA_S3TC_DXT1_Format:Lg,RGBA_S3TC_DXT3_Format:Ug,RGBA_S3TC_DXT5_Format:Og,RGBDepthPacking:wO,RGBFormat:OM,RGBIntegerFormat:RO,RGB_BPTC_SIGNED_Format:Yx,RGB_BPTC_UNSIGNED_Format:qx,RGB_ETC1_Format:wx,RGB_ETC2_Format:Bx,RGB_PVRTC_2BPPV1_Format:Tx,RGB_PVRTC_4BPPV1_Format:Ex,RGB_S3TC_DXT1_Format:Ng,RGDepthPacking:BO,RGFormat:PM,RGIntegerFormat:T_,RawShaderMaterial:TB,Ray:oh,Raycaster:QB,RectAreaLight:VB,RedFormat:E_,RedIntegerFormat:g0,ReinhardToneMapping:Uw,RenderTarget:VM,RenderTarget3D:A4,RepeatWrapping:uu,ReplaceStencilOp:NO,ReverseSubtractEquation:mw,RingGeometry:Y_,SIGNED_RED_GREEN_RGTC2_Format:Wx,SIGNED_RED_RGTC1_Format:Jx,SRGBColorSpace:ja,SRGBTransfer:zn,Scene:XM,ShaderChunk:sn,ShaderLib:lo,ShaderMaterial:po,ShadowMaterial:EB,Shape:qf,ShapeGeometry:q_,ShapePath:q4,ShapeUtils:uo,ShortType:NM,Skeleton:x0,SkeletonHelper:U4,SkinnedMesh:qM,Source:ou,Sphere:ma,SphereGeometry:S0,Spherical:FS,SphericalHarmonics3:kB,SplineCurve:n1,SpotLight:u1,SpotLightHelper:L4,Sprite:uB,SpriteMaterial:YM,SrcAlphaFactor:gx,SrcAlphaSaturateFactor:Tw,SrcColorFactor:_w,StaticCopyUsage:WO,StaticDrawUsage:Qg,StaticReadUsage:qO,StereoCamera:i4,StreamCopyUsage:QO,StreamDrawUsage:YO,StreamReadUsage:KO,StringKeyframeTrack:uh,SubtractEquation:pw,SubtractiveBlending:RS,TOUCH:Df,TangentSpaceNormalMap:vu,TetrahedronGeometry:J_,Texture:li,TextureLoader:HB,TextureUtils:$4,Timer:T4,TimestampQuery:eP,TorusGeometry:K_,TorusKnotGeometry:W_,Triangle:Ls,TriangleFanDrawMode:Zx,TriangleStripDrawMode:HM,TrianglesDrawMode:kw,TubeGeometry:Z_,UVMapping:__,Uint16BufferAttribute:kM,Uint32BufferAttribute:jM,Uint8BufferAttribute:FP,Uint8ClampedBufferAttribute:HP,Uniform:v1,UniformsGroup:S4,UniformsLib:ht,UniformsUtils:rB,UnsignedByteType:wr,UnsignedInt248Type:lp,UnsignedInt5999Type:LM,UnsignedIntType:ac,UnsignedShort4444Type:S_,UnsignedShort5551Type:M_,UnsignedShortType:op,VSMShadowMap:oo,Vector2:Fe,Vector3:J,Vector4:Rn,VectorKeyframeTrack:nh,VideoFrameTexture:lI,VideoTexture:dB,WebGL3DRenderTarget:EP,WebGLArrayRenderTarget:MP,WebGLCoordinateSystem:Ks,WebGLCubeRenderTarget:lB,WebGLRenderTarget:ho,WebGLRenderer:oD,WebGLUtils:sD,WebGPUCoordinateSystem:dp,WebXRController:ox,WireframeGeometry:MB,WrapAroundEnding:Wg,ZeroCurvatureEnding:If,ZeroFactor:yw,ZeroSlopeEnding:Ff,ZeroStencilOp:DO,createCanvasElement:nB},Symbol.toStringTag,{value:"Module"}));var Hb={exports:{}},zb={},Gb={exports:{}},Vb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function O5(){if(WC)return Vb;WC=1;var n=Mp();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,l=n.useDebugValue;function u(v,x){var _=x(),M=i({inst:{value:_,getSnapshot:x}}),C=M[0].inst,T=M[1];return r(function(){C.value=_,C.getSnapshot=x,d(C)&&T({inst:C})},[v,_,x]),a(function(){return d(C)&&T({inst:C}),v(function(){d(C)&&T({inst:C})})},[v]),l(_),_}function d(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!t(v,_)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Vb.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Vb}var ZC;function P5(){return ZC||(ZC=1,Gb.exports=O5()),Gb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function I5(){if(QC)return zb;QC=1;var n=Mp(),e=P5();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,l=n.useEffect,u=n.useMemo,d=n.useDebugValue;return zb.useSyncExternalStoreWithSelector=function(p,m,v,x,_){var M=r(null);if(M.current===null){var C={hasValue:!1,value:null};M.current=C}else C=M.current;M=u(function(){function S(I){if(!w){if(w=!0,B=I,I=x(I),_!==void 0&&C.hasValue){var F=C.value;if(_(F,I))return D=F}return D=I}if(F=D,i(B,I))return F;var z=x(I);return _!==void 0&&_(F,z)?(B=I,F):(B=I,D=z)}var w=!1,B,D,O=v===void 0?null:v;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,v,x,_]);var T=a(p,M[0],M[1]);return l(function(){C.hasValue=!0,C.value=T},[T]),d(T),T},zb}var $C;function F5(){return $C||($C=1,Hb.exports=I5()),Hb.exports}var H5=F5();const z5=g_(H5),e2=n=>{let e;const t=new Set,i=(p,m)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(_=>_(e,x))}},a=()=>e,u={setState:i,getState:a,getInitialState:()=>d,subscribe:p=>(t.add(p),()=>t.delete(p))},d=e=n(i,a,u);return u},lD=(n=>n?e2(n):e2),{useSyncExternalStoreWithSelector:G5}=z5,V5=n=>n;function k5(n,e=V5,t){const i=G5(n.subscribe,n.getState,n.getInitialState,e,t);return Qn.useDebugValue(i),i}const t2=(n,e)=>{const t=lD(n),i=(a,r=e)=>k5(t,a,r);return Object.assign(i,t),i},j5=((n,e)=>n?t2(n,e):t2),X5=n=>typeof n=="object"&&typeof n.then=="function",zf=[];function cD(n,e,t=(i,a)=>i===a){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let a=0;a<i;a++)if(!t(n[a],e[a]))return!1;return!0}function uD(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of zf)if(cD(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const a={keys:e,equal:i.equal,remove:()=>{const r=zf.indexOf(a);r!==-1&&zf.splice(r,1)},promise:(X5(n)?n:n(...e)).then(r=>{a.response=r,i.lifespan&&i.lifespan>0&&(a.timeout=setTimeout(a.remove,i.lifespan))}).catch(r=>a.error=r)};if(zf.push(a),!t)throw a.promise}const Y5=(n,e,t)=>uD(n,e,!1,t),q5=(n,e,t)=>void uD(n,e,!0,t),J5=n=>{if(n===void 0||n.length===0)zf.splice(0,zf.length);else{const e=zf.find(t=>cD(n,t.keys,t.equal));e&&e.remove()}};var kb={exports:{}},jb={exports:{}},Xb={exports:{}},Yb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function K5(){return n2||(n2=1,(function(n){function e(j,Z){var Q=j.length;j.push(Z);e:for(;0<Q;){var ve=Q-1>>>1,ye=j[ve];if(0<a(ye,Z))j[ve]=Z,j[Q]=ye,Q=ve;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],Q=j.pop();if(Q!==Z){j[0]=Q;e:for(var ve=0,ye=j.length,Y=ye>>>1;ve<Y;){var oe=2*(ve+1)-1,Be=j[oe],De=oe+1,ue=j[De];if(0>a(Be,Q))De<ye&&0>a(ue,Be)?(j[ve]=ue,j[De]=Q,ve=De):(j[ve]=Be,j[oe]=Q,ve=oe);else if(De<ye&&0>a(ue,Q))j[ve]=ue,j[De]=Q,ve=De;else break e}}return Z}function a(j,Z){var Q=j.sortIndex-Z.sortIndex;return Q!==0?Q:j.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,x=3,_=!1,M=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function B(j){for(var Z=t(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=j)i(p),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(p)}}function D(j){if(C=!1,B(j),!M)if(t(d)!==null)M=!0,pe();else{var Z=t(p);Z!==null&&Ae(D,Z.startTime-j)}}var O=!1,I=-1,F=5,z=-1;function P(){return!(n.unstable_now()-z<F)}function U(){if(O){var j=n.unstable_now();z=j;var Z=!0;try{e:{M=!1,C&&(C=!1,S(I),I=-1),_=!0;var Q=x;try{t:{for(B(j),v=t(d);v!==null&&!(v.expirationTime>j&&P());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,x=v.priorityLevel;var ye=ve(v.expirationTime<=j);if(j=n.unstable_now(),typeof ye=="function"){v.callback=ye,B(j),Z=!0;break t}v===t(d)&&i(d),B(j)}else i(d);v=t(d)}if(v!==null)Z=!0;else{var Y=t(p);Y!==null&&Ae(D,Y.startTime-j),Z=!1}}break e}finally{v=null,x=Q,_=!1}Z=void 0}}finally{Z?X():O=!1}}}var X;if(typeof w=="function")X=function(){w(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,se=ce.port2;ce.port1.onmessage=U,X=function(){se.postMessage(null)}}else X=function(){T(U,0)};function pe(){O||(O=!0,X())}function Ae(j,Z){I=T(function(){j(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){M||_||(M=!0,pe())},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(j){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var Q=x;x=Z;try{return j()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=x;x=j;try{return Z()}finally{x=Q}},n.unstable_scheduleCallback=function(j,Z,Q){var ve=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,j){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,j={id:m++,callback:Z,priorityLevel:j,startTime:Q,expirationTime:ye,sortIndex:-1},Q>ve?(j.sortIndex=Q,e(p,j),t(d)===null&&j===t(p)&&(C?(S(I),I=-1):C=!0,Ae(D,Q-ve))):(j.sortIndex=ye,e(d,j),M||_||(M=!0,pe())),j},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(j){var Z=x;return function(){var Q=x;x=Z;try{return j.apply(this,arguments)}finally{x=Q}}}})(Yb)),Yb}var i2;function fD(){return i2||(i2=1,Xb.exports=K5()),Xb.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function W5(){return a2||(a2=1,(function(n){n.exports=function(e){function t(c,f,y,b){return new cm(c,f,y,b)}function i(){}function a(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=gm&&c[gm]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Ml?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Cc:return"Fragment";case Fs:return"Portal";case mm:return"Profiler";case pm:return"StrictMode";case Fh:return"Suspense";case Io:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case cr:return(c.displayName||"Context")+".Provider";case Po:return(c._context.displayName||"Context")+".Consumer";case Rc:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ku:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case Hs:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if(Hh===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Hh=f&&f[1]||"",vm=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hh+c+vm}function d(c,f){if(!c||Fo)return"";Fo=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(kt){var dt=kt}Reflect.construct(c,[],ft)}else{try{ft.call()}catch(kt){dt=kt}c.call(ft.prototype)}}else{try{throw Error()}catch(kt){dt=kt}(ft=c())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(kt){if(kt&&dt&&typeof kt.stack=="string")return[kt.stack,dt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),k=N[0],ne=N[1];if(k&&ne){var de=k.split(`
`),Pe=ne.split(`
`);for(R=b=0;b<de.length&&!de[b].includes("DetermineComponentFrameRoot");)b++;for(;R<Pe.length&&!Pe[R].includes("DetermineComponentFrameRoot");)R++;if(b===de.length||R===Pe.length)for(b=de.length-1,R=Pe.length-1;1<=b&&0<=R&&de[b]!==Pe[R];)R--;for(;1<=b&&0<=R;b--,R--)if(de[b]!==Pe[R]){if(b!==1||R!==1)do if(b--,R--,0>R||de[b]!==Pe[R]){var nt=`
`+de[b].replace(" at new "," at ");return c.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",c.displayName)),nt}while(1<=b&&0<=R);break}}}finally{Fo=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=d(c.type,!1),c;case 11:return c=d(c.type.render,!1),c;case 1:return c=d(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function x(c){if(v(c)!==c)throw Error(a(188))}function _(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(a(188));return f!==c?null:c}for(var y=c,b=f;;){var R=y.return;if(R===null)break;var N=R.alternate;if(N===null){if(b=R.return,b!==null){y=b;continue}break}if(R.child===N.child){for(N=R.child;N;){if(N===y)return x(R),c;if(N===b)return x(R),f;N=N.sibling}throw Error(a(188))}if(y.return!==b.return)y=R,b=N;else{for(var k=!1,ne=R.child;ne;){if(ne===y){k=!0,y=R,b=N;break}if(ne===b){k=!0,b=R,y=N;break}ne=ne.sibling}if(!k){for(ne=N.child;ne;){if(ne===y){k=!0,y=N,b=R;break}if(ne===b){k=!0,b=N,y=R;break}ne=ne.sibling}if(!k)throw Error(a(189))}}if(y.alternate!==b)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?c:f}function M(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=M(c),f!==null)return f;c=c.sibling}return null}function C(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=C(c),f!==null))return f;c=c.sibling}return null}function T(c){return{current:c}}function S(c){0>Yr||(c.current=Qu[Yr],Qu[Yr]=null,Yr--)}function w(c,f){Yr++,Qu[Yr]=c.current,c.current=f}function B(c){return c>>>=0,c===0?32:31-($u(c)/Rv|0)|0}function D(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function O(c,f){var y=c.pendingLanes;if(y===0)return 0;var b=0,R=c.suspendedLanes,N=c.pingedLanes,k=c.warmLanes;c=c.finishedLanes!==0;var ne=y&134217727;return ne!==0?(y=ne&~R,y!==0?b=D(y):(N&=ne,N!==0?b=D(N):c||(k=ne&~k,k!==0&&(b=D(k))))):(ne=y&~R,ne!==0?b=D(ne):N!==0?b=D(N):c||(k=y&~k,k!==0&&(b=D(k)))),b===0?0:f!==0&&f!==b&&(f&R)===0&&(R=b&-b,k=f&-f,R>=k||R===32&&(k&4194176)!==0)?f:b}function I(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function F(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var c=Nc;return Nc<<=1,(Nc&4194176)===0&&(Nc=128),c}function P(){var c=ef;return ef<<=1,(ef&62914560)===0&&(ef=4194304),c}function U(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function X(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ce(c,f,y,b,R,N){var k=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var ne=c.entanglements,de=c.expirationTimes,Pe=c.hiddenUpdates;for(y=k&~y;0<y;){var nt=31-La(y),ft=1<<nt;ne[nt]=0,de[nt]=-1;var dt=Pe[nt];if(dt!==null)for(Pe[nt]=null,nt=0;nt<dt.length;nt++){var kt=dt[nt];kt!==null&&(kt.lane&=-536870913)}y&=~ft}b!==0&&se(c,b,0),N!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=N&~(k&~f))}function se(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-La(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|y&4194218}function pe(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var b=31-La(y),R=1<<b;R&f|c[b]&f&&(c[b]|=f),y&=~R}}function Ae(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function j(c){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(Uc,c,void 0,(c.current.flags&128)===128)}catch{}}function Z(c){if(typeof Nv=="function"&&Jm(c),Ua&&typeof Ua.setStrictMode=="function")try{Ua.setStrictMode(Uc,c)}catch{}}function Q(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function ve(c,f){if(typeof c=="object"&&c!==null){var y=nd.get(c);return y!==void 0?y:(f={value:c,source:f,stack:m(f)},nd.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function ye(c,f){Jn[ni++]=af,Jn[ni++]=nf,nf=c,af=f}function Y(c,f,y){as[ss++]=pr,as[ss++]=Ms,as[ss++]=zs,zs=c;var b=pr;c=Ms;var R=32-La(b)-1;b&=~(1<<R),y+=1;var N=32-La(f)+R;if(30<N){var k=R-R%5;N=(b&(1<<k)-1).toString(32),b>>=k,R-=k,pr=1<<32-La(f)+R|y<<R|b,Ms=N+c}else pr=1<<N|y<<R|b,Ms=c}function oe(c){c.return!==null&&(ye(c,1),Y(c,1,0))}function Be(c){for(;c===nf;)nf=Jn[--ni],Jn[ni]=null,af=Jn[--ni],Jn[ni]=null;for(;c===zs;)zs=as[--ss],as[ss]=null,Ms=as[--ss],as[ss]=null,pr=as[--ss],as[ss]=null}function De(c,f){w(Gs,f),w(sf,c),w(zi,null),c=El(f),S(zi),w(zi,c)}function ue(){S(zi),S(sf),S(Gs)}function Ue(c){c.memoizedState!==null&&w(Oc,c);var f=zi.current,y=ov(f,c.type);f!==y&&(w(sf,c),w(zi,y))}function Ie(c){sf.current===c&&(S(zi),S(sf)),Oc.current===c&&(S(Oc),fr?Ht._currentValue=Na:Ht._currentValue2=Na)}function lt(c){var f=Error(a(418,""));throw ee(ve(f,c)),rf}function at(c,f){if(!_a)throw Error(a(175));cA(c.stateNode,c.type,c.memoizedProps,f,c)||lt(c)}function Tt(c){for(la=c.return;la;)switch(la.tag){case 3:case 27:Es=!0;return;case 5:case 13:Es=!1;return;default:la=la.return}}function pn(c){if(!_a||c!==la)return!1;if(!yn)return Tt(c),yn=!0,!1;var f=!1;if(Ji?c.tag!==3&&c.tag!==27&&(c.tag!==5||Sv(c.type)&&!Go(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||Sv(c.type)&&!Go(c.type,c.memoizedProps))&&(f=!0),f&&Wi&&lt(c),Tt(c),c.tag===13){if(!_a)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Wi=Av(c)}else Wi=la?Om(c.stateNode):null;return!0}function Bt(){_a&&(Wi=la=null,yn=!1)}function ee(c){rs===null?rs=[c]:rs.push(c)}function Ge(){for(var c=ko,f=Pc=ko=0;f<c;){var y=os[f];os[f++]=null;var b=os[f];os[f++]=null;var R=os[f];os[f++]=null;var N=os[f];if(os[f++]=null,b!==null&&R!==null){var k=b.pending;k===null?R.next=R:(R.next=k.next,k.next=R),b.pending=R}N!==0&&it(y,R,N)}}function Ne(c,f,y,b){os[ko++]=c,os[ko++]=f,os[ko++]=y,os[ko++]=b,Pc|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function Je(c,f,y,b){return Ne(c,f,y,b),qe(c)}function Oe(c,f){return Ne(c,null,null,f),qe(c)}function it(c,f,y){c.lanes|=y;var b=c.alternate;b!==null&&(b.lanes|=y);for(var R=!1,N=c.return;N!==null;)N.childLanes|=y,b=N.alternate,b!==null&&(b.childLanes|=y),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(R=!0)),c=N,N=N.return;R&&f!==null&&c.tag===3&&(N=c.stateNode,R=31-La(y),N=N.hiddenUpdates,c=N[R],c===null?N[R]=[f]:c.push(f),f.lane=y|536870912)}function qe(c){if(50<Pl)throw Pl=0,Sa=null,Error(a(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function $e(c){c!==wl&&c.next===null&&(wl===null?Ic=wl=c:wl=wl.next=c),lf=!0,of||(of=!0,Re(Ut))}function Dt(c,f){if(!Vs&&lf){Vs=!0;do for(var y=!1,b=Ic;b!==null;){if(c!==0){var R=b.pendingLanes;if(R===0)var N=0;else{var k=b.suspendedLanes,ne=b.pingedLanes;N=(1<<31-La(42|c)+1)-1,N&=R&~(k&~ne),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(y=!0,ge(b,N))}else N=nn,N=O(b,b===rn?N:0),(N&3)===0||I(b,N)||(y=!0,ge(b,N));b=b.next}while(y);Vs=!1}}function Ut(){lf=of=!1;var c=0;jo!==0&&(Vo()&&(c=jo),jo=0);for(var f=Ki(),y=null,b=Ic;b!==null;){var R=b.next,N=K(b,f);N===0?(b.next=null,y===null?Ic=R:y.next=R,R===null&&(wl=y)):(y=b,(c!==0||(N&3)!==0)&&(lf=!0)),b=R}Dt(c)}function K(c,f){for(var y=c.suspendedLanes,b=c.pingedLanes,R=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var k=31-La(N),ne=1<<k,de=R[k];de===-1?((ne&y)===0||(ne&b)!==0)&&(R[k]=F(ne,f)):de<=f&&(c.expiredLanes|=ne),N&=~ne}if(f=rn,y=nn,y=O(c,c===f?y:0),b=c.callbackNode,y===0||c===f&&Fn===2||c.cancelPendingCommit!==null)return b!==null&&b!==null&&tf(b),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||I(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(b!==null&&tf(b),Ae(y)){case 2:case 8:y=Dv;break;case 32:y=ed;break;case 268435456:y=td;break;default:y=ed}return b=H.bind(null,c),y=Lc(y,b),c.callbackPriority=f,c.callbackNode=y,f}return b!==null&&b!==null&&tf(b),c.callbackPriority=2,c.callbackNode=null,2}function H(c,f){var y=c.callbackNode;if(Fi()&&c.callbackNode!==y)return null;var b=nn;return b=O(c,c===rn?b:0),b===0?null:(Fu(c,b,f),K(c,Ki()),c.callbackNode!=null&&c.callbackNode===y?H.bind(null,c):null)}function ge(c,f){if(Fi())return null;Fu(c,f,!0)}function Re(c){Ai?kh(function(){(wt&6)!==0?Lc(qm,c):c()}):Lc(qm,c)}function Xe(){return jo===0&&(jo=z()),jo}function we(c,f){if(cf===null){var y=cf=[];id=0,Oa=Xe(),Xo={status:"pending",value:void 0,then:function(b){y.push(b)}}}return id++,f.then(xt,xt),f}function xt(){if(--id===0&&cf!==null){Xo!==null&&(Xo.status="fulfilled");var c=cf;cf=null,Oa=0,Xo=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function tt(c,f){var y=[],b={status:"pending",value:null,reason:null,then:function(R){y.push(R)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var R=0;R<y.length;R++)(0,y[R])(f)},function(R){for(b.status="rejected",b.reason=R,R=0;R<y.length;R++)(0,y[R])(void 0)}),b}function pt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ye(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Qe(c,f,y){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(wt&2)!==0){var R=b.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),b.pending=f,f=qe(c),it(c,null,y),f}return Ne(c,b,f,y),qe(c)}function vt(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var b=f.lanes;b&=c.pendingLanes,y|=b,f.lanes=y,pe(c,y)}}function $(c,f){var y=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var R=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var k={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};N===null?R=N=k:N=N.next=k,y=y.next}while(y!==null);N===null?R=N=f:N=N.next=f}else R=N=f;y={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function xe(){if(Fc){var c=Xo;if(c!==null)throw c}}function et(c,f,y,b){Fc=!1;var R=c.updateQueue;qr=!1;var N=R.firstBaseUpdate,k=R.lastBaseUpdate,ne=R.shared.pending;if(ne!==null){R.shared.pending=null;var de=ne,Pe=de.next;de.next=null,k===null?N=Pe:k.next=Pe,k=de;var nt=c.alternate;nt!==null&&(nt=nt.updateQueue,ne=nt.lastBaseUpdate,ne!==k&&(ne===null?nt.firstBaseUpdate=Pe:ne.next=Pe,nt.lastBaseUpdate=de))}if(N!==null){var ft=R.baseState;k=0,nt=Pe=de=null,ne=N;do{var dt=ne.lane&-536870913,kt=dt!==ne.lane;if(kt?(nn&dt)===dt:(b&dt)===dt){dt!==0&&dt===Oa&&(Fc=!0),nt!==null&&(nt=nt.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Ha=c,df=ne;dt=f;var Il=y;switch(df.tag){case 1:if(Ha=df.payload,typeof Ha=="function"){ft=Ha.call(Il,ft,dt);break e}ft=Ha;break e;case 3:Ha.flags=Ha.flags&-65537|128;case 0:if(Ha=df.payload,dt=typeof Ha=="function"?Ha.call(Il,ft,dt):Ha,dt==null)break e;ft=Sl({},ft,dt);break e;case 2:qr=!0}}dt=ne.callback,dt!==null&&(c.flags|=64,kt&&(c.flags|=8192),kt=R.callbacks,kt===null?R.callbacks=[dt]:kt.push(dt))}else kt={lane:dt,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},nt===null?(Pe=nt=kt,de=ft):nt=nt.next=kt,k|=dt;if(ne=ne.next,ne===null){if(ne=R.shared.pending,ne===null)break;kt=ne,ne=kt.next,kt.next=null,R.lastBaseUpdate=kt,R.shared.pending=null}}while(!0);nt===null&&(de=ft),R.baseState=de,R.firstBaseUpdate=Pe,R.lastBaseUpdate=nt,N===null&&(R.shared.lanes=0),fs|=k,c.lanes=k,c.memoizedState=ft}}function te(c,f){if(typeof c!="function")throw Error(a(191,c));c.call(f)}function Ve(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)te(y[c],f)}function We(c,f){if(is(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),b=Object.keys(f);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var R=y[b];if(!uf.call(f,R)||!is(c[R],f[R]))return!1}return!0}function rt(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ke(){}function He(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(Ke,Ke),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===On?Error(a(483)):c;default:if(typeof f.status=="string")f.then(Ke,Ke);else{if(c=rn,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=b}},function(b){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===On?Error(a(483)):c}throw Bl=f,On}}function ot(){if(Bl===null)throw Error(a(459));var c=Bl;return Bl=null,c}function St(c){var f=Ts;return Ts+=1,mr===null&&(mr=[]),He(mr,c,f)}function en(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Xt(c,f){throw f.$$typeof===dm?Error(a(525)):(c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function $n(c){var f=c._init;return f(c._payload)}function Ui(c){function f(Se,fe){if(c){var Te=Se.deletions;Te===null?(Se.deletions=[fe],Se.flags|=16):Te.push(fe)}}function y(Se,fe){if(!c)return null;for(;fe!==null;)f(Se,fe),fe=fe.sibling;return null}function b(Se){for(var fe=new Map;Se!==null;)Se.key!==null?fe.set(Se.key,Se):fe.set(Se.index,Se),Se=Se.sibling;return fe}function R(Se,fe){return Se=ra(Se,fe),Se.index=0,Se.sibling=null,Se}function N(Se,fe,Te){return Se.index=Te,c?(Te=Se.alternate,Te!==null?(Te=Te.index,Te<fe?(Se.flags|=33554434,fe):Te):(Se.flags|=33554434,fe)):(Se.flags|=1048576,fe)}function k(Se){return c&&Se.alternate===null&&(Se.flags|=33554434),Se}function ne(Se,fe,Te,Ze){return fe===null||fe.tag!==6?(fe=Oo(Te,Se.mode,Ze),fe.return=Se,fe):(fe=R(fe,Te),fe.return=Se,fe)}function de(Se,fe,Te,Ze){var Et=Te.type;return Et===Cc?nt(Se,fe,Te.props.children,Ze,Te.key):fe!==null&&(fe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Hs&&$n(Et)===fe.type)?(fe=R(fe,Te.props),en(fe,Te),fe.return=Se,fe):(fe=bs(Te.type,Te.key,Te.props,null,Se.mode,Ze),en(fe,Te),fe.return=Se,fe)}function Pe(Se,fe,Te,Ze){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Te.containerInfo||fe.stateNode.implementation!==Te.implementation?(fe=Tc(Te,Se.mode,Ze),fe.return=Se,fe):(fe=R(fe,Te.children||[]),fe.return=Se,fe)}function nt(Se,fe,Te,Ze,Et){return fe===null||fe.tag!==7?(fe=Gr(Te,Se.mode,Ze,Et),fe.return=Se,fe):(fe=R(fe,Te),fe.return=Se,fe)}function ft(Se,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Oo(""+fe,Se.mode,Te),fe.return=Se,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Vr:return Te=bs(fe.type,fe.key,fe.props,null,Se.mode,Te),en(Te,fe),Te.return=Se,Te;case Fs:return fe=Tc(fe,Se.mode,Te),fe.return=Se,fe;case Hs:var Ze=fe._init;return fe=Ze(fe._payload),ft(Se,fe,Te)}if(Ho(fe)||r(fe))return fe=Gr(fe,Se.mode,Te,null),fe.return=Se,fe;if(typeof fe.then=="function")return ft(Se,St(fe),Te);if(fe.$$typeof===cr)return ft(Se,Lu(Se,fe),Te);Xt(Se,fe)}return null}function dt(Se,fe,Te,Ze){var Et=fe!==null?fe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Et!==null?null:ne(Se,fe,""+Te,Ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case Vr:return Te.key===Et?de(Se,fe,Te,Ze):null;case Fs:return Te.key===Et?Pe(Se,fe,Te,Ze):null;case Hs:return Et=Te._init,Te=Et(Te._payload),dt(Se,fe,Te,Ze)}if(Ho(Te)||r(Te))return Et!==null?null:nt(Se,fe,Te,Ze,null);if(typeof Te.then=="function")return dt(Se,fe,St(Te),Ze);if(Te.$$typeof===cr)return dt(Se,fe,Lu(Se,Te),Ze);Xt(Se,Te)}return null}function kt(Se,fe,Te,Ze,Et){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Se=Se.get(Te)||null,ne(fe,Se,""+Ze,Et);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case Vr:return Se=Se.get(Ze.key===null?Te:Ze.key)||null,de(fe,Se,Ze,Et);case Fs:return Se=Se.get(Ze.key===null?Te:Ze.key)||null,Pe(fe,Se,Ze,Et);case Hs:var kn=Ze._init;return Ze=kn(Ze._payload),kt(Se,fe,Te,Ze,Et)}if(Ho(Ze)||r(Ze))return Se=Se.get(Te)||null,nt(fe,Se,Ze,Et,null);if(typeof Ze.then=="function")return kt(Se,fe,Te,St(Ze),Et);if(Ze.$$typeof===cr)return kt(Se,fe,Te,Lu(fe,Ze),Et);Xt(fe,Ze)}return null}function Ha(Se,fe,Te,Ze){for(var Et=null,kn=null,zt=fe,_n=fe=0,Bi=null;zt!==null&&_n<Te.length;_n++){zt.index>_n?(Bi=zt,zt=null):Bi=zt.sibling;var An=dt(Se,zt,Te[_n],Ze);if(An===null){zt===null&&(zt=Bi);break}c&&zt&&An.alternate===null&&f(Se,zt),fe=N(An,fe,_n),kn===null?Et=An:kn.sibling=An,kn=An,zt=Bi}if(_n===Te.length)return y(Se,zt),yn&&ye(Se,_n),Et;if(zt===null){for(;_n<Te.length;_n++)zt=ft(Se,Te[_n],Ze),zt!==null&&(fe=N(zt,fe,_n),kn===null?Et=zt:kn.sibling=zt,kn=zt);return yn&&ye(Se,_n),Et}for(zt=b(zt);_n<Te.length;_n++)Bi=kt(zt,Se,_n,Te[_n],Ze),Bi!==null&&(c&&Bi.alternate!==null&&zt.delete(Bi.key===null?_n:Bi.key),fe=N(Bi,fe,_n),kn===null?Et=Bi:kn.sibling=Bi,kn=Bi);return c&&zt.forEach(function(eo){return f(Se,eo)}),yn&&ye(Se,_n),Et}function df(Se,fe,Te,Ze){if(Te==null)throw Error(a(151));for(var Et=null,kn=null,zt=fe,_n=fe=0,Bi=null,An=Te.next();zt!==null&&!An.done;_n++,An=Te.next()){zt.index>_n?(Bi=zt,zt=null):Bi=zt.sibling;var eo=dt(Se,zt,An.value,Ze);if(eo===null){zt===null&&(zt=Bi);break}c&&zt&&eo.alternate===null&&f(Se,zt),fe=N(eo,fe,_n),kn===null?Et=eo:kn.sibling=eo,kn=eo,zt=Bi}if(An.done)return y(Se,zt),yn&&ye(Se,_n),Et;if(zt===null){for(;!An.done;_n++,An=Te.next())An=ft(Se,An.value,Ze),An!==null&&(fe=N(An,fe,_n),kn===null?Et=An:kn.sibling=An,kn=An);return yn&&ye(Se,_n),Et}for(zt=b(zt);!An.done;_n++,An=Te.next())An=kt(zt,Se,_n,An.value,Ze),An!==null&&(c&&An.alternate!==null&&zt.delete(An.key===null?_n:An.key),fe=N(An,fe,_n),kn===null?Et=An:kn.sibling=An,kn=An);return c&&zt.forEach(function(hd){return f(Se,hd)}),yn&&ye(Se,_n),Et}function Il(Se,fe,Te,Ze){if(typeof Te=="object"&&Te!==null&&Te.type===Cc&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case Vr:e:{for(var Et=Te.key;fe!==null;){if(fe.key===Et){if(Et=Te.type,Et===Cc){if(fe.tag===7){y(Se,fe.sibling),Ze=R(fe,Te.props.children),Ze.return=Se,Se=Ze;break e}}else if(fe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Hs&&$n(Et)===fe.type){y(Se,fe.sibling),Ze=R(fe,Te.props),en(Ze,Te),Ze.return=Se,Se=Ze;break e}y(Se,fe);break}else f(Se,fe);fe=fe.sibling}Te.type===Cc?(Ze=Gr(Te.props.children,Se.mode,Ze,Te.key),Ze.return=Se,Se=Ze):(Ze=bs(Te.type,Te.key,Te.props,null,Se.mode,Ze),en(Ze,Te),Ze.return=Se,Se=Ze)}return k(Se);case Fs:e:{for(Et=Te.key;fe!==null;){if(fe.key===Et)if(fe.tag===4&&fe.stateNode.containerInfo===Te.containerInfo&&fe.stateNode.implementation===Te.implementation){y(Se,fe.sibling),Ze=R(fe,Te.children||[]),Ze.return=Se,Se=Ze;break e}else{y(Se,fe);break}else f(Se,fe);fe=fe.sibling}Ze=Tc(Te,Se.mode,Ze),Ze.return=Se,Se=Ze}return k(Se);case Hs:return Et=Te._init,Te=Et(Te._payload),Il(Se,fe,Te,Ze)}if(Ho(Te))return Ha(Se,fe,Te,Ze);if(r(Te)){if(Et=r(Te),typeof Et!="function")throw Error(a(150));return Te=Et.call(Te),df(Se,fe,Te,Ze)}if(typeof Te.then=="function")return Il(Se,fe,St(Te),Ze);if(Te.$$typeof===cr)return Il(Se,fe,Lu(Se,Te),Ze);Xt(Se,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,fe!==null&&fe.tag===6?(y(Se,fe.sibling),Ze=R(fe,Te),Ze.return=Se,Se=Ze):(y(Se,fe),Ze=Oo(Te,Se.mode,Ze),Ze.return=Se,Se=Ze),k(Se)):y(Se,fe)}return function(Se,fe,Te,Ze){try{Ts=0;var Et=Il(Se,fe,Te,Ze);return mr=null,Et}catch(zt){if(zt===On)throw zt;var kn=t(29,zt,null,Se.mode);return kn.lanes=Ze,kn.return=Se,kn}finally{}}}function cc(c,f){c=ks,w(ls,c),w(gr,f),ks=c|f.baseLanes}function As(){w(ls,ks),w(gr,gr.current)}function vo(){ks=ls.current,S(gr),S(ls)}function Ka(c){var f=c.alternate;w(bi,bi.current&1),w(cs,c),Cs===null&&(f===null||gr.current!==null||f.memoizedState!==null)&&(Cs=c)}function ll(c){if(c.tag===22){if(w(bi,bi.current),w(cs,c),Cs===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Cs=c)}}else Ra()}function Ra(){w(bi,bi.current),w(cs,cs.current)}function Wa(c){S(cs),Cs===c&&(Cs=null),S(bi)}function ta(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Jh(y)||Zu(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Zt(){throw Error(a(321))}function Ci(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!is(c[y],f[y]))return!1;return!0}function er(c,f,y,b,R,N){return vr=N,Jt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Lt.H=c===null||c.memoizedState===null?Si:ca,Jr=!1,N=y(b,R),Jr=!1,Kn&&(N=fh(f,y,b,R)),uc(c),N}function uc(c){Lt.H=xn;var f=Cn!==null&&Cn.next!==null;if(vr=0,fi=Cn=Jt=null,Rs=!1,ii=0,Hc=null,f)throw Error(a(300));c===null||hi||(c=c.dependencies,c!==null&&Mo(c)&&(hi=!0))}function fh(c,f,y,b){Jt=c;var R=0;do{if(Kn&&(Hc=null),ii=0,Kn=!1,25<=R)throw Error(a(301));if(R+=1,fi=Cn=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Lt.H=qo,N=f(y,b)}while(Kn);return N}function Ip(){var c=Lt.H,f=c.useState()[0];return f=typeof f.then=="function"?Me(f):f,c=c.useState()[0],(Cn!==null?Cn.memoizedState:null)!==c&&(Jt.flags|=1024),f}function fc(){var c=ff!==0;return ff=0,c}function Nr(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function V(c){if(Rs){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Rs=!1}vr=0,fi=Cn=Jt=null,Kn=!1,ii=ff=0,Hc=null}function re(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?Jt.memoizedState=fi=c:fi=fi.next=c,fi}function me(){if(Cn===null){var c=Jt.alternate;c=c!==null?c.memoizedState:null}else c=Cn.next;var f=fi===null?Jt.memoizedState:fi.next;if(f!==null)fi=f,Cn=c;else{if(c===null)throw Jt.alternate===null?Error(a(467)):Error(a(310));Cn=c,c={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},fi===null?Jt.memoizedState=fi=c:fi=fi.next=c}return fi}function Me(c){var f=ii;return ii+=1,Hc===null&&(Hc=[]),c=He(Hc,c,f),f=Jt,(fi===null?f.memoizedState:fi.next)===null&&(f=f.alternate,Lt.H=f===null||f.memoizedState===null?Si:ca),c}function le(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Me(c);if(c.$$typeof===cr)return Xi(c)}throw Error(a(438,String(c)))}function je(c){var f=null,y=Jt.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var b=Jt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=sd(),Jt.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),b=0;b<c;b++)y[b]=rv;return f.index++,y}function st(c,f){return typeof f=="function"?f(c):f}function mt(c){var f=me();return ct(f,Cn,c)}function ct(c,f,y){var b=c.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=y;var R=c.baseQueue,N=b.pending;if(N!==null){if(R!==null){var k=R.next;R.next=N.next,N.next=k}f.baseQueue=R=N,b.pending=null}if(N=c.baseState,R===null)c.memoizedState=N;else{f=R.next;var ne=k=null,de=null,Pe=f,nt=!1;do{var ft=Pe.lane&-536870913;if(ft!==Pe.lane?(nn&ft)===ft:(vr&ft)===ft){var dt=Pe.revertLane;if(dt===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),ft===Oa&&(nt=!0);else if((vr&dt)===dt){Pe=Pe.next,dt===Oa&&(nt=!0);continue}else ft={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},de===null?(ne=de=ft,k=N):de=de.next=ft,Jt.lanes|=dt,fs|=dt;ft=Pe.action,Jr&&y(N,ft),N=Pe.hasEagerState?Pe.eagerState:y(N,ft)}else dt={lane:ft,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},de===null?(ne=de=dt,k=N):de=de.next=dt,Jt.lanes|=ft,fs|=ft;Pe=Pe.next}while(Pe!==null&&Pe!==f);if(de===null?k=N:de.next=ne,!is(N,c.memoizedState)&&(hi=!0,nt&&(y=Xo,y!==null)))throw y;c.memoizedState=N,c.baseState=k,c.baseQueue=de,b.lastRenderedState=N}return R===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function Mt(c){var f=me(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var b=y.dispatch,R=y.pending,N=f.memoizedState;if(R!==null){y.pending=null;var k=R=R.next;do N=c(N,k.action),k=k.next;while(k!==R);is(N,f.memoizedState)||(hi=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),y.lastRenderedState=N}return[N,b]}function Ot(c,f,y){var b=Jt,R=me(),N=yn;if(N){if(y===void 0)throw Error(a(407));y=y()}else y=f();var k=!is((Cn||R).memoizedState,y);if(k&&(R.memoizedState=y,hi=!0),R=R.queue,Su(En.bind(null,b,R,c),[c]),R.getSnapshot!==f||k||fi!==null&&fi.memoizedState.tag&1){if(b.flags|=2048,ga(9,Qt.bind(null,b,R,y,f),{destroy:void 0},null),rn===null)throw Error(a(349));N||(vr&60)!==0||Ct(b,f,y)}return y}function Ct(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=Jt.updateQueue,f===null?(f=sd(),Jt.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Qt(c,f,y,b){f.value=y,f.getSnapshot=b,Pn(f)&&Tn(c)}function En(c,f,y){return y(function(){Pn(f)&&Tn(c)})}function Pn(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!is(c,y)}catch{return!0}}function Tn(c){var f=Oe(c,2);f!==null&&sa(f,c,2)}function tn(c){var f=re();if(typeof c=="function"){var y=c;if(c=y(),Jr){Z(!0);try{y()}finally{Z(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:c},f}function yt(c,f,y,b){return c.baseState=y,ct(c,Cn,typeof b=="function"?b:st)}function Gn(c,f,y,b,R){if(dl(c))throw Error(a(485));if(c=f.action,c!==null){var N={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){N.listeners.push(k)}};Lt.T!==null?y(!0):N.isTransition=!1,b(N),y=f.pending,y===null?(N.next=f.pending=N,un(f,N)):(N.next=y.next,f.pending=y.next=N)}}function un(c,f){var y=f.action,b=f.payload,R=c.state;if(f.isTransition){var N=Lt.T,k={};Lt.T=k;try{var ne=y(R,b),de=Lt.S;de!==null&&de(k,ne),Oi(c,f,ne)}catch(Pe){xi(c,f,Pe)}finally{Lt.T=N}}else try{N=y(R,b),Oi(c,f,N)}catch(Pe){xi(c,f,Pe)}}function Oi(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(b){tr(c,f,b)},function(b){return xi(c,f,b)}):tr(c,f,y)}function tr(c,f,y){f.status="fulfilled",f.value=y,yo(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,un(c,y)))}function xi(c,f,y){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=y,yo(f),f=f.next;while(f!==b)}c.action=null}function yo(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function on(c,f){return f}function ki(c,f){if(yn){var y=rn.formState;if(y!==null){e:{var b=Jt;if(yn){if(Wi){var R=dv(Wi,Es);if(R){Wi=Om(R),b=pv(R);break e}}lt(b)}b=!1}b&&(f=y[0])}}y=re(),y.memoizedState=y.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:f},y.queue=b,y=gh.bind(null,Jt,b),b.dispatch=y,b=tn(!1);var N=vh.bind(null,Jt,!1,b.queue);return b=re(),R={state:f,dispatch:null,action:c,pending:null},b.queue=R,y=Gn.bind(null,Jt,R,N,y),R.dispatch=y,b.memoizedState=c,[f,y,!1]}function na(c){var f=me();return _i(f,Cn,c)}function _i(c,f,y){f=ct(c,f,on)[0],c=mt(st)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Me(f):f;var b=me(),R=b.queue,N=R.dispatch;return y!==b.memoizedState&&(Jt.flags|=2048,ga(9,ci.bind(null,R,y),{destroy:void 0},null)),[f,N,c]}function ci(c,f){c.action=f}function cl(c){var f=me(),y=Cn;if(y!==null)return _i(f,y,c);me(),f=f.memoizedState,y=me();var b=y.queue.dispatch;return y.memoizedState=c,[f,b,!1]}function ga(c,f,y,b){return c={tag:c,create:f,inst:y,deps:b,next:null},f=Jt.updateQueue,f===null&&(f=sd(),Jt.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(b=y.next,y.next=c,c.next=b,f.lastEffect=c),c}function ul(){return me().memoizedState}function hh(c,f,y,b){var R=re();Jt.flags|=c,R.memoizedState=ga(1|f,y,{destroy:void 0},b===void 0?null:b)}function bu(c,f,y,b){var R=me();b=b===void 0?null:b;var N=R.memoizedState.inst;Cn!==null&&b!==null&&Ci(b,Cn.memoizedState.deps)?R.memoizedState=ga(f,y,N,b):(Jt.flags|=c,R.memoizedState=ga(1|f,y,N,b))}function Fp(c,f){hh(8390656,8,c,f)}function Su(c,f){bu(2048,8,c,f)}function O0(c,f){return bu(4,2,c,f)}function P0(c,f){return bu(4,4,c,f)}function Mu(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function nr(c,f,y){y=y!=null?y.concat([c]):null,bu(4,4,Mu.bind(null,f,c),y)}function Eu(){}function dh(c,f){var y=me();f=f===void 0?null:f;var b=y.memoizedState;return f!==null&&Ci(f,b[1])?b[0]:(y.memoizedState=[c,f],c)}function fl(c,f){var y=me();f=f===void 0?null:f;var b=y.memoizedState;if(f!==null&&Ci(f,b[1]))return b[0];if(b=c(),Jr){Z(!0);try{c()}finally{Z(!1)}}return y.memoizedState=[b,f],b}function xo(c,f,y){return y===void 0||(vr&1073741824)!==0?c.memoizedState=f:(c.memoizedState=y,c=sr(),Jt.lanes|=c,fs|=c,y)}function Hp(c,f,y,b){return is(y,f)?y:gr.current!==null?(c=xo(c,y,b),is(c,f)||(hi=!0),c):(vr&42)===0?(hi=!0,c.memoizedState=y):(c=sr(),Jt.lanes|=c,fs|=c,f)}function ph(c,f,y,b,R){var N=Ri();oa(N!==0&&8>N?N:8);var k=Lt.T,ne={};Lt.T=ne,vh(c,!1,f,y);try{var de=R(),Pe=Lt.S;if(Pe!==null&&Pe(ne,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var nt=tt(de,b);Ao(c,f,nt,xa(c))}else Ao(c,f,b,xa(c))}catch(ft){Ao(c,f,{then:function(){},status:"rejected",reason:ft},xa())}finally{oa(N),Lt.T=k}}function zp(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Na,baseState:Na,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:Na},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function hl(){return Xi(Ht)}function ir(){return me().memoizedState}function mh(){return me().memoizedState}function Tu(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=xa();c=Ye(y);var b=Qe(f,c,y);b!==null&&(sa(b,f,y),vt(b,f,y)),f={cache:bh()},c.payload=f;return}f=f.return}}function _o(c,f,y){var b=xa();y={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},dl(c)?Cu(f,y):(y=Je(c,f,y,b),y!==null&&(sa(y,c,b),Gp(y,f,b)))}function gh(c,f,y){var b=xa();Ao(c,f,y,b)}function Ao(c,f,y,b){var R={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(dl(c))Cu(f,R);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var k=f.lastRenderedState,ne=N(k,y);if(R.hasEagerState=!0,R.eagerState=ne,is(ne,k))return Ne(c,f,R,0),rn===null&&Ge(),!1}catch{}finally{}if(y=Je(c,f,R,b),y!==null)return sa(y,c,b),Gp(y,f,b),!0}return!1}function vh(c,f,y,b){if(b={lane:2,revertLane:Xe(),action:b,hasEagerState:!1,eagerState:null,next:null},dl(c)){if(f)throw Error(a(479))}else f=Je(c,y,b,2),f!==null&&sa(f,c,2)}function dl(c){var f=c.alternate;return c===Jt||f!==null&&f===Jt}function Cu(c,f){Kn=Rs=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Gp(c,f,y){if((y&4194176)!==0){var b=f.lanes;b&=c.pendingLanes,y|=b,f.lanes=y,pe(c,y)}}function ia(c,f,y,b){f=c.memoizedState,y=y(b,f),y=y==null?f:Sl({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function bo(c,f,y,b,R,N,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,N,k):f.prototype&&f.prototype.isPureReactComponent?!We(y,b)||!We(R,N):!0}function Ru(c,f,y,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,b),f.state!==c&&rd.enqueueReplaceState(f,f.state,null)}function Os(c,f){var y=f;if("ref"in f){y={};for(var b in f)b!=="ref"&&(y[b]=f[b])}if(c=c.defaultProps){y===f&&(y=Sl({},y));for(var R in c)y[R]===void 0&&(y[R]=c[R])}return y}function yh(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function xh(c,f,y){try{var b=c.onCaughtError;b(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function wu(c,f,y){return y=Ye(y),y.tag=3,y.payload={element:null},y.callback=function(){yh(c,f)},y}function hc(c){return c=Ye(c),c.tag=3,c}function Bu(c,f,y,b){var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var N=b.value;c.payload=function(){return R(N)},c.callback=function(){xh(f,y,b)}}var k=y.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){xh(f,y,b),typeof R!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var ne=b.stack;this.componentDidCatch(b.value,{componentStack:ne!==null?ne:""})})}function I0(c,f,y,b,R){if(y.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=y.alternate,f!==null&&pl(f,y,R,!0),y=cs.current,y!==null){switch(y.tag){case 13:return Cs===null?Da():y.alternate===null&&gn===0&&(gn=3),y.flags&=-257,y.flags|=65536,y.lanes=R,b===ad?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([b]):f.add(b),Ph(c,b,R)),!1;case 22:return y.flags|=65536,b===ad?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([b]):y.add(b)),Ph(c,b,R)),!1}throw Error(a(435,y.tag))}return Ph(c,b,R),Da(),!1}if(yn)return f=cs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,b!==rf&&(c=Error(a(422),{cause:b}),ee(ve(c,y)))):(b!==rf&&(f=Error(a(423),{cause:b}),ee(ve(f,y))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,b=ve(b,y),R=wu(c.stateNode,b,R),$(c,R),gn!==4&&(gn=2)),!1;var N=Error(a(520),{cause:b});if(N=ve(N,y),Gc===null?Gc=[N]:Gc.push(N),gn!==4&&(gn=2),f===null)return!0;b=ve(b,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=R&-R,y.lanes|=c,c=wu(y.stateNode,b,c),$(y,c),!1;case 1:if(f=y.type,N=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ds===null||!ds.has(N))))return y.flags|=65536,R&=-R,y.lanes|=R,R=hc(R),Bu(R,c,y,b),$(y,R),!1}y=y.return}while(y!==null);return!1}function ji(c,f,y,b){f.child=c===null?Wm(f,null,y,b):Yo(f,c.child,y,b)}function F0(c,f,y,b,R){y=y.render;var N=f.ref;if("ref"in b){var k={};for(var ne in b)ne!=="ref"&&(k[ne]=b[ne])}else k=b;return ml(f),b=er(c,f,y,k,N,R),ne=fc(),c!==null&&!hi?(Nr(c,f,R),Lr(c,f,R)):(yn&&ne&&oe(f),f.flags|=1,ji(c,f,b,R),f.child)}function H0(c,f,y,b,R){if(c===null){var N=y.type;return typeof N=="function"&&!Hr(N)&&N.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=N,_h(c,f,N,b,R)):(c=bs(y.type,null,b,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,!Jp(c,R)){var k=N.memoizedProps;if(y=y.compare,y=y!==null?y:We,y(k,b)&&c.ref===f.ref)return Lr(c,f,R)}return f.flags|=1,c=ra(N,b),c.ref=f.ref,c.return=f,f.child=c}function _h(c,f,y,b,R){if(c!==null){var N=c.memoizedProps;if(We(N,b)&&c.ref===f.ref)if(hi=!1,f.pendingProps=b=N,Jp(c,R))(c.flags&131072)!==0&&(hi=!0);else return f.lanes=c.lanes,Lr(c,f,R)}return Vp(c,f,y,b,R)}function z0(c,f,y){var b=f.pendingProps,R=b.children,N=(f.stateNode._pendingVisibility&2)!==0,k=c!==null?c.memoizedState:null;if(Du(c,f),b.mode==="hidden"||N){if((f.flags&128)!==0){if(b=k!==null?k.baseLanes|y:y,c!==null){for(R=f.child=c.child,N=0;R!==null;)N=N|R.lanes|R.childLanes,R=R.sibling;f.childLanes=N&~b}else f.childLanes=0,f.child=null;return G0(c,f,b,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Sh(f,k!==null?k.cachePool:null),k!==null?cc(f,k):As(),ll(f);else return f.lanes=f.childLanes=536870912,G0(c,f,k!==null?k.baseLanes|y:y,y)}else k!==null?(Sh(f,k.cachePool),cc(f,k),Ra(),f.memoizedState=null):(c!==null&&Sh(f,null),As(),Ra());return ji(c,f,R,y),f.child}function G0(c,f,y,b){var R=Eo();return R=R===null?null:{parent:fr?Bn._currentValue:Bn._currentValue2,pool:R},f.memoizedState={baseLanes:y,cachePool:R},c!==null&&Sh(f,null),As(),ll(f),c!==null&&pl(c,f,b,!0),null}function Du(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(a(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function Vp(c,f,y,b,R){return ml(f),y=er(c,f,y,b,void 0,R),b=fc(),c!==null&&!hi?(Nr(c,f,R),Lr(c,f,R)):(yn&&b&&oe(f),f.flags|=1,ji(c,f,y,R),f.child)}function V0(c,f,y,b,R,N){return ml(f),f.updateQueue=null,y=fh(f,b,y,R),uc(c),b=fc(),c!==null&&!hi?(Nr(c,f,N),Lr(c,f,N)):(yn&&b&&oe(f),f.flags|=1,ji(c,f,y,N),f.child)}function kp(c,f,y,b,R){if(ml(f),f.stateNode===null){var N=Rl,k=y.contextType;typeof k=="object"&&k!==null&&(N=Xi(k)),N=new y(b,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=rd,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=b,N.state=f.memoizedState,N.refs={},pt(f),k=y.contextType,N.context=typeof k=="object"&&k!==null?Xi(k):Rl,N.state=f.memoizedState,k=y.getDerivedStateFromProps,typeof k=="function"&&(ia(f,y,k,b),N.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(k=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),k!==N.state&&rd.enqueueReplaceState(N,N.state,null),et(f,b,N,R),xe(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){N=f.stateNode;var ne=f.memoizedProps,de=Os(y,ne);N.props=de;var Pe=N.context,nt=y.contextType;k=Rl,typeof nt=="object"&&nt!==null&&(k=Xi(nt));var ft=y.getDerivedStateFromProps;nt=typeof ft=="function"||typeof N.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,nt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ne||Pe!==k)&&Ru(f,N,b,k),qr=!1;var dt=f.memoizedState;N.state=dt,et(f,b,N,R),xe(),Pe=f.memoizedState,ne||dt!==Pe||qr?(typeof ft=="function"&&(ia(f,y,ft,b),Pe=f.memoizedState),(de=qr||bo(f,y,de,b,dt,Pe,k))?(nt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Pe),N.props=b,N.state=Pe,N.context=k,b=de):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{N=f.stateNode,gt(c,f),k=f.memoizedProps,nt=Os(y,k),N.props=nt,ft=f.pendingProps,dt=N.context,Pe=y.contextType,de=Rl,typeof Pe=="object"&&Pe!==null&&(de=Xi(Pe)),ne=y.getDerivedStateFromProps,(Pe=typeof ne=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(k!==ft||dt!==de)&&Ru(f,N,b,de),qr=!1,dt=f.memoizedState,N.state=dt,et(f,b,N,R),xe();var kt=f.memoizedState;k!==ft||dt!==kt||qr||c!==null&&c.dependencies!==null&&Mo(c.dependencies)?(typeof ne=="function"&&(ia(f,y,ne,b),kt=f.memoizedState),(nt=qr||bo(f,y,nt,b,dt,kt,de)||c!==null&&c.dependencies!==null&&Mo(c.dependencies))?(Pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,kt,de),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,kt,de)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||k===c.memoizedProps&&dt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&dt===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=kt),N.props=b,N.state=kt,N.context=de,b=nt):(typeof N.componentDidUpdate!="function"||k===c.memoizedProps&&dt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&dt===c.memoizedState||(f.flags|=1024),b=!1)}return N=b,Du(c,f),b=(f.flags&128)!==0,N||b?(N=f.stateNode,y=b&&typeof y.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,c!==null&&b?(f.child=Yo(f,c.child,null,R),f.child=Yo(f,null,y,R)):ji(c,f,y,R),f.memoizedState=N.state,c=f.child):c=Lr(c,f,R),c}function k0(c,f,y,b){return Bt(),f.flags|=256,ji(c,f,y,b),f.child}function jp(c){return{baseLanes:c,cachePool:J0()}}function Xp(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=Fa),c}function j0(c,f,y){var b=f.pendingProps,R=!1,N=(f.flags&128)!==0,k;if((k=N)||(k=c!==null&&c.memoizedState===null?!1:(bi.current&2)!==0),k&&(R=!0,f.flags&=-129),k=(f.flags&32)!==0,f.flags&=-33,c===null){if(yn){if(R?Ka(f):Ra(),yn){var ne=Wi,de;(de=ne)&&(ne=xv(ne,Es),ne!==null?(f.memoizedState={dehydrated:ne,treeContext:zs!==null?{id:pr,overflow:Ms}:null,retryLane:536870912},de=t(18,null,null,0),de.stateNode=ne,de.return=f,f.child=de,la=f,Wi=null,de=!0):de=!1),de||lt(f)}if(ne=f.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return Zu(ne)?f.lanes=16:f.lanes=536870912,null;Wa(f)}return ne=b.children,b=b.fallback,R?(Ra(),R=f.mode,ne=Yp({mode:"hidden",children:ne},R),b=Gr(b,R,y,null),ne.return=f,b.return=f,ne.sibling=b,f.child=ne,R=f.child,R.memoizedState=jp(y),R.childLanes=Xp(c,k,y),f.memoizedState=ua,b):(Ka(f),Nu(f,ne))}if(de=c.memoizedState,de!==null&&(ne=de.dehydrated,ne!==null)){if(N)f.flags&256?(Ka(f),f.flags&=-257,f=qp(c,f,y)):f.memoizedState!==null?(Ra(),f.child=c.child,f.flags|=128,f=null):(Ra(),R=b.fallback,ne=f.mode,b=Yp({mode:"visible",children:b.children},ne),R=Gr(R,ne,y,null),R.flags|=2,b.return=f,R.return=f,b.sibling=R,f.child=b,Yo(f,c.child,null,y),b=f.child,b.memoizedState=jp(y),b.childLanes=Xp(c,k,y),f.memoizedState=ua,f=R);else if(Ka(f),Zu(ne))k=hv(ne).digest,b=Error(a(419)),b.stack="",b.digest=k,ee({value:b,source:null,stack:null}),f=qp(c,f,y);else if(hi||pl(c,f,y,!1),k=(y&c.childLanes)!==0,hi||k){if(k=rn,k!==null){if(b=y&-y,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(k.suspendedLanes|y))!==0?0:b,b!==0&&b!==de.retryLane)throw de.retryLane=b,Oe(c,b),sa(k,c,b),Uv}Jh(ne)||Da(),f=qp(c,f,y)}else Jh(ne)?(f.flags|=128,f.child=c.child,f=Al.bind(null,c),lA(ne,f),f=null):(c=de.treeContext,_a&&(Wi=gv(ne),la=f,yn=!0,rs=null,Es=!1,c!==null&&(as[ss++]=pr,as[ss++]=Ms,as[ss++]=zs,pr=c.id,Ms=c.overflow,zs=f)),f=Nu(f,b.children),f.flags|=4096);return f}return R?(Ra(),R=b.fallback,ne=f.mode,de=c.child,N=de.sibling,b=ra(de,{mode:"hidden",children:b.children}),b.subtreeFlags=de.subtreeFlags&31457280,N!==null?R=ra(N,R):(R=Gr(R,ne,y,null),R.flags|=2),R.return=f,b.return=f,b.sibling=R,f.child=b,b=R,R=f.child,ne=c.child.memoizedState,ne===null?ne=jp(y):(de=ne.cachePool,de!==null?(N=fr?Bn._currentValue:Bn._currentValue2,de=de.parent!==N?{parent:N,pool:N}:de):de=J0(),ne={baseLanes:ne.baseLanes|y,cachePool:de}),R.memoizedState=ne,R.childLanes=Xp(c,k,y),f.memoizedState=ua,b):(Ka(f),y=c.child,c=y.sibling,y=ra(y,{mode:"visible",children:b.children}),y.return=f,y.sibling=null,c!==null&&(k=f.deletions,k===null?(f.deletions=[c],f.flags|=16):k.push(c)),f.child=y,f.memoizedState=null,y)}function Nu(c,f){return f=Yp({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Yp(c,f){return Ih(c,f,0,null)}function qp(c,f,y){return Yo(f,c.child,null,y),c=Nu(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function X0(c,f,y){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),Kp(c.return,f,y)}function Ah(c,f,y,b,R){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:R}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=y,N.tailMode=R)}function Y0(c,f,y){var b=f.pendingProps,R=b.revealOrder,N=b.tail;if(ji(c,f,b.children,y),b=bi.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&X0(c,y,f);else if(c.tag===19)X0(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(w(bi,b),R){case"forwards":for(y=f.child,R=null;y!==null;)c=y.alternate,c!==null&&ta(c)===null&&(R=y),y=y.sibling;y=R,y===null?(R=f.child,f.child=null):(R=y.sibling,y.sibling=null),Ah(f,!1,R,y,N);break;case"backwards":for(y=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&ta(c)===null){f.child=R;break}c=R.sibling,R.sibling=y,y=R,R=c}Ah(f,!0,y,null,N);break;case"together":Ah(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Lr(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),fs|=f.lanes,(y&f.childLanes)===0)if(c!==null){if(pl(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,y=ra(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=ra(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Jp(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Mo(c)))}function sA(c,f,y){switch(f.tag){case 3:De(f,f.stateNode.containerInfo),So(f,Bn,c.memoizedState.cache),Bt();break;case 27:case 5:Ue(f);break;case 4:De(f,f.stateNode.containerInfo);break;case 10:So(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Ka(f),f.flags|=128,null):(y&f.child.childLanes)!==0?j0(c,f,y):(Ka(f),c=Lr(c,f,y),c!==null?c.sibling:null);Ka(f);break;case 19:var R=(c.flags&128)!==0;if(b=(y&f.childLanes)!==0,b||(pl(c,f,y,!1),b=(y&f.childLanes)!==0),R){if(b)return Y0(c,f,y);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(bi,bi.current),b)break;return null;case 22:case 23:return f.lanes=0,z0(c,f,y);case 24:So(f,Bn,c.memoizedState.cache)}return Lr(c,f,y)}function q0(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)hi=!0;else{if(!Jp(c,y)&&(f.flags&128)===0)return hi=!1,sA(c,f,y);hi=(c.flags&131072)!==0}else hi=!1,yn&&(f.flags&1048576)!==0&&Y(f,af,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var b=f.elementType,R=b._init;if(b=R(b._payload),f.type=b,typeof b=="function")Hr(b)?(c=Os(b,c),f.tag=1,f=kp(null,f,b,c,y)):(f.tag=0,f=Vp(null,f,b,c,y));else{if(b!=null){if(R=b.$$typeof,R===Rc){f.tag=11,f=F0(null,f,b,c,y);break e}else if(R===ku){f.tag=14,f=H0(null,f,b,c,y);break e}}throw f=l(b)||b,Error(a(306,f,""))}}return f;case 0:return Vp(c,f,f.type,f.pendingProps,y);case 1:return b=f.type,R=Os(b,f.pendingProps),kp(c,f,b,R,y);case 3:e:{if(De(f,f.stateNode.containerInfo),c===null)throw Error(a(387));var N=f.pendingProps;R=f.memoizedState,b=R.element,gt(c,f),et(f,N,null,y);var k=f.memoizedState;if(N=k.cache,So(f,Bn,N),N!==R.cache&&Wp(f,[Bn],y,!0),xe(),N=k.element,_a&&R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:k.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=k0(c,f,N,y);break e}else if(N!==b){b=ve(Error(a(424)),f),ee(b),f=k0(c,f,N,y);break e}else for(_a&&(Wi=mv(f.stateNode.containerInfo),la=f,yn=!0,rs=null,Es=!0),y=Wm(f,null,N,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Bt(),N===b){f=Lr(c,f,y);break e}ji(c,f,N,y)}f=f.child}return f;case 26:if(ns)return Du(c,f),c===null?(y=$h(f.type,null,f.pendingProps,null))?f.memoizedState=y:yn||(f.stateNode=uA(f.type,f.pendingProps,Gs.current,f)):f.memoizedState=$h(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(Ji)return Ue(f),c===null&&Ji&&yn&&(b=f.stateNode=Ym(f.type,f.pendingProps,Gs.current,zi.current,!1),la=f,Es=!0,Wi=Kh(b)),b=f.pendingProps.children,c!==null||yn?ji(c,f,b,y):f.child=Yo(f,null,b,y),Du(c,f),f.child;case 5:return c===null&&yn&&(Mv(f.type,f.pendingProps,zi.current),(R=b=Wi)&&(b=vv(b,f.type,f.pendingProps,Es),b!==null?(f.stateNode=b,la=f,Wi=Kh(b),Es=!1,R=!0):R=!1),R||lt(f)),Ue(f),R=f.type,N=f.pendingProps,k=c!==null?c.memoizedProps:null,b=N.children,Go(R,N)?b=null:k!==null&&Go(R,k)&&(f.flags|=32),f.memoizedState!==null&&(R=er(c,f,Ip,null,null,y),fr?Ht._currentValue=R:Ht._currentValue2=R),Du(c,f),ji(c,f,b,y),f.child;case 6:return c===null&&yn&&(Ev(f.pendingProps,zi.current),(c=y=Wi)&&(y=yv(y,f.pendingProps,Es),y!==null?(f.stateNode=y,la=f,Wi=null,c=!0):c=!1),c||lt(f)),null;case 13:return j0(c,f,y);case 4:return De(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=Yo(f,null,b,y):ji(c,f,b,y),f.child;case 11:return F0(c,f,f.type,f.pendingProps,y);case 7:return ji(c,f,f.pendingProps,y),f.child;case 8:return ji(c,f,f.pendingProps.children,y),f.child;case 12:return ji(c,f,f.pendingProps.children,y),f.child;case 10:return b=f.pendingProps,So(f,f.type,b.value),ji(c,f,b.children,y),f.child;case 9:return R=f.type._context,b=f.pendingProps.children,ml(f),R=Xi(R),b=b(R),f.flags|=1,ji(c,f,b,y),f.child;case 14:return H0(c,f,f.type,f.pendingProps,y);case 15:return _h(c,f,f.type,f.pendingProps,y);case 19:return Y0(c,f,y);case 22:return z0(c,f,y);case 24:return ml(f),b=Xi(Bn),c===null?(R=Eo(),R===null&&(R=rn,N=bh(),R.pooledCache=N,N.refCount++,N!==null&&(R.pooledCacheLanes|=y),R=N),f.memoizedState={parent:b,cache:R},pt(f),So(f,Bn,R)):((c.lanes&y)!==0&&(gt(c,f),et(f,null,null,y),xe()),R=c.memoizedState,N=f.memoizedState,R.parent!==b?(R={parent:b,cache:b},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),So(f,Bn,b)):(b=N.cache,So(f,Bn,b),b!==R.cache&&Wp(f,[Bn],y,!0))),ji(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function So(c,f,y){fr?(w(Pa,f._currentValue),f._currentValue=y):(w(Pa,f._currentValue2),f._currentValue2=y)}function Ur(c){var f=Pa.current;fr?c._currentValue=f:c._currentValue2=f,S(Pa)}function Kp(c,f,y){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===y)break;c=c.return}}function Wp(c,f,y,b){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var N=R.dependencies;if(N!==null){var k=R.child;N=N.firstContext;e:for(;N!==null;){var ne=N;N=R;for(var de=0;de<f.length;de++)if(ne.context===f[de]){N.lanes|=y,ne=N.alternate,ne!==null&&(ne.lanes|=y),Kp(N.return,y,c),b||(k=null);break e}N=ne.next}}else if(R.tag===18){if(k=R.return,k===null)throw Error(a(341));k.lanes|=y,N=k.alternate,N!==null&&(N.lanes|=y),Kp(k,y,c),k=null}else k=R.child;if(k!==null)k.return=R;else for(k=R;k!==null;){if(k===c){k=null;break}if(R=k.sibling,R!==null){R.return=k.return,k=R;break}k=k.return}R=k}}function pl(c,f,y,b){c=null;for(var R=f,N=!1;R!==null;){if(!N){if((R.flags&524288)!==0)N=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var k=R.alternate;if(k===null)throw Error(a(387));if(k=k.memoizedProps,k!==null){var ne=R.type;is(R.pendingProps.value,k.value)||(c!==null?c.push(ne):c=[ne])}}else if(R===Oc.current){if(k=R.alternate,k===null)throw Error(a(387));k.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Ht):c=[Ht])}R=R.return}c!==null&&Wp(f,c,y,b),f.flags|=262144}function Mo(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!is(fr?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function ml(c){Jo=c,ai=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Xi(c){return Zp(Jo,c)}function Lu(c,f){return Jo===null&&ml(c),Zp(c,f)}function Zp(c,f){var y=fr?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},ai===null){if(c===null)throw Error(a(308));ai=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ai=ai.next=f;return y}function bh(){return{controller:new Ov,data:new Map,refCount:0}}function dc(c){c.refCount--,c.refCount===0&&Kr(Dl,function(){c.controller.abort()})}function Eo(){var c=Wr.current;return c!==null?c:rn.pooledCache}function Sh(c,f){f===null?w(Wr,Wr.current):w(Wr,f.pool)}function J0(){var c=Eo();return c===null?null:{parent:fr?Bn._currentValue:Bn._currentValue2,pool:c}}function Za(c){c.flags|=4}function Qp(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Mh(c,f,y,b){if(qi)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)ur(c,y.stateNode);else if(!(y.tag===4||Ji&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(es)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;y&&b&&(N=Lm(N,R.type,R.memoizedProps)),ur(c,N)}else if(R.tag===6)N=R.stateNode,y&&b&&(N=Um(N,R.memoizedProps)),ur(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),Mh(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function pc(c,f,y,b){if(es)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;y&&b&&(N=Lm(N,R.type,R.memoizedProps)),Dm(c,N)}else if(R.tag===6)N=R.stateNode,y&&b&&(N=Um(N,R.memoizedProps)),Dm(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),pc(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function mc(c,f){if(es&&Qp(c,f)){c=f.stateNode;var y=c.containerInfo,b=qh();pc(b,f,!1,!1),c.pendingChildren=b,Za(f),fv(y,b)}}function $p(c,f,y,b){if(qi)c.memoizedProps!==b&&Za(f);else if(es){var R=c.stateNode,N=c.memoizedProps;if((c=Qp(c,f))||N!==b){var k=zi.current;N=Bm(R,y,N,b,!c,null),N===R?f.stateNode=R:(kr(N,y,b,k)&&Za(f),f.stateNode=N,c?Mh(N,f,!1,!1):Za(f))}else f.stateNode=R}}function gc(c,f,y){if(lv(f,y)){if(c.flags|=16777216,!jr(f,y))if(Hu())c.flags|=8192;else throw Bl=ad,Km}else c.flags&=-16777217}function em(c,f){if(Tv(f)){if(c.flags|=16777216,!jm(f))if(Hu())c.flags|=8192;else throw Bl=ad,Km}else c.flags&=-16777217}function Uu(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?P():536870912,c.lanes|=f,Qr|=f)}function gl(c,f){if(!yn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Yn(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,b=0;if(f)for(var R=c.child;R!==null;)y|=R.lanes|R.childLanes,b|=R.subtreeFlags&31457280,b|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)y|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=b,c.childLanes=y,f}function K0(c,f,y){var b=f.pendingProps;switch(Be(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(f),null;case 1:return Yn(f),null;case 3:return y=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Ur(Bn),ue(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(pn(f)?Za(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,rs!==null&&(Pr(rs),rs=null))),mc(c,f),Yn(f),null;case 26:if(ns){y=f.type;var R=f.memoizedState;return c===null?(Za(f),R!==null?(Yn(f),em(f,R)):(Yn(f),gc(f,y,b))):R?R!==c.memoizedState?(Za(f),Yn(f),em(f,R)):(Yn(f),f.flags&=-16777217):(qi?c.memoizedProps!==b&&Za(f):$p(c,f,y,b),Yn(f),gc(f,y,b)),null}case 27:if(Ji){if(Ie(f),y=Gs.current,R=f.type,c!==null&&f.stateNode!=null)qi?c.memoizedProps!==b&&Za(f):$p(c,f,R,b);else{if(!b){if(f.stateNode===null)throw Error(a(166));return Yn(f),null}c=zi.current,pn(f)?at(f,c):(c=Ym(R,b,y,c,!0),f.stateNode=c,Za(f))}return Yn(f),null}case 5:if(Ie(f),y=f.type,c!==null&&f.stateNode!=null)$p(c,f,y,b);else{if(!b){if(f.stateNode===null)throw Error(a(166));return Yn(f),null}c=zi.current,pn(f)?at(f,c):(R=xm(y,b,Gs.current,c,f),Mh(R,f,!1,!1),f.stateNode=R,kr(R,y,b,c)&&Za(f))}return Yn(f),gc(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,qi?y!==b&&Za(f):es&&(y!==b?(f.stateNode=Gh(b,Gs.current,zi.current,f),Za(f)):f.stateNode=c.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(a(166));if(c=Gs.current,y=zi.current,pn(f)){if(!_a)throw Error(a(176));if(c=f.stateNode,y=f.memoizedProps,b=null,R=la,R!==null)switch(R.tag){case 27:case 5:b=R.memoizedProps}_v(c,y,f,b)||lt(f)}else f.stateNode=Gh(b,c,y,f)}return Yn(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=pn(f),b!==null&&b.dehydrated!==null){if(c===null){if(!R)throw Error(a(318));if(!_a)throw Error(a(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(a(317));Bc(R,f)}else Bt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Yn(f),R=!1}else rs!==null&&(Pr(rs),rs=null),R=!0;if(!R)return f.flags&256?(Wa(f),f):(Wa(f),null)}if(Wa(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=b!==null,c=c!==null&&c.memoizedState!==null,y){b=f.child,R=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(R=b.alternate.memoizedState.cachePool.pool);var N=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==R&&(b.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),Uu(f,f.updateQueue),Yn(f),null;case 4:return ue(),mc(c,f),c===null&&bm(f.stateNode.containerInfo),Yn(f),null;case 10:return Ur(f.type),Yn(f),null;case 19:if(S(bi),R=f.memoizedState,R===null)return Yn(f),null;if(b=(f.flags&128)!==0,N=R.rendering,N===null)if(b)gl(R,!1);else{if(gn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(N=ta(c),N!==null){for(f.flags|=128,gl(R,!1),c=N.updateQueue,f.updateQueue=c,Uu(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)zr(y,c),y=y.sibling;return w(bi,bi.current&1|2),f.child}c=c.sibling}R.tail!==null&&Ki()>Zn&&(f.flags|=128,b=!0,gl(R,!1),f.lanes=4194304)}else{if(!b)if(c=ta(N),c!==null){if(f.flags|=128,b=!0,c=c.updateQueue,f.updateQueue=c,Uu(f,c),gl(R,!0),R.tail===null&&R.tailMode==="hidden"&&!N.alternate&&!yn)return Yn(f),null}else 2*Ki()-R.renderingStartTime>Zn&&y!==536870912&&(f.flags|=128,b=!0,gl(R,!1),f.lanes=4194304);R.isBackwards?(N.sibling=f.child,f.child=N):(c=R.last,c!==null?c.sibling=N:f.child=N,R.last=N)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=Ki(),f.sibling=null,c=bi.current,w(bi,b?c&1|2:c&1),f):(Yn(f),null);case 22:case 23:return Wa(f),vo(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(y&536870912)!==0&&(f.flags&128)===0&&(Yn(f),f.subtreeFlags&6&&(f.flags|=8192)):Yn(f),y=f.updateQueue,y!==null&&Uu(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048),c!==null&&S(Wr),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Ur(Bn),Yn(f),null;case 25:return null}throw Error(a(156,f.tag))}function W0(c,f){switch(Be(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ur(Bn),ue(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Ie(f),null;case 13:if(Wa(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Bt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return S(bi),null;case 4:return ue(),null;case 10:return Ur(f.type),null;case 22:case 23:return Wa(f),vo(),c!==null&&S(Wr),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ur(Bn),null;case 25:return null;default:return null}}function tm(c,f){switch(Be(f),f.tag){case 3:Ur(Bn),ue();break;case 26:case 27:case 5:Ie(f);break;case 4:ue();break;case 13:Wa(f);break;case 19:S(bi);break;case 10:Ur(f.type);break;case 22:case 23:Wa(f),vo(),c!==null&&S(Wr);break;case 24:Ur(Bn)}}function Ou(c,f){try{var y=f.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var R=b.next;y=R;do{if((y.tag&c)===c){b=void 0;var N=y.create,k=y.inst;b=N(),k.destroy=b}y=y.next}while(y!==R)}}catch(ne){ln(f,f.return,ne)}}function To(c,f,y){try{var b=f.updateQueue,R=b!==null?b.lastEffect:null;if(R!==null){var N=R.next;b=N;do{if((b.tag&c)===c){var k=b.inst,ne=k.destroy;if(ne!==void 0){k.destroy=void 0,R=f;var de=y;try{ne()}catch(Pe){ln(R,de,Pe)}}}b=b.next}while(b!==N)}}catch(Pe){ln(f,f.return,Pe)}}function Z0(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{Ve(f,y)}catch(b){ln(c,c.return,b)}}}function Q0(c,f,y){y.props=Os(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(b){ln(c,f,b)}}function vl(c,f){try{var y=c.ref;if(y!==null){var b=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=wc(b);break;default:R=b}typeof y=="function"?c.refCleanup=y(R):y.current=R}}catch(N){ln(c,f,N)}}function qn(c,f){var y=c.ref,b=c.refCleanup;if(y!==null)if(typeof b=="function")try{b()}catch(R){ln(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(R){ln(c,f,R)}else y.current=null}function vc(c){var f=c.type,y=c.memoizedProps,b=c.stateNode;try{oA(b,f,y,c)}catch(R){ln(c,c.return,R)}}function nm(c,f,y){try{Tm(c.stateNode,c.type,y,f,c)}catch(b){ln(c,c.return,b)}}function im(c){return c.tag===5||c.tag===3||(ns?c.tag===26:!1)||(Ji?c.tag===27:!1)||c.tag===4}function Eh(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||im(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!Ji||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Th(c,f,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?Rm(y,c,f):cv(y,c);else if(!(b===4||Ji&&b===27)&&(c=c.child,c!==null))for(Th(c,f,y),c=c.sibling;c!==null;)Th(c,f,y),c=c.sibling}function yc(c,f,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?Cm(y,c,f):Em(y,c);else if(!(b===4||Ji&&b===27)&&(c=c.child,c!==null))for(yc(c,f,y),c=c.sibling;c!==null;)yc(c,f,y),c=c.sibling}function $0(c,f,y){c=c.containerInfo;try{Nm(c,y)}catch(b){ln(f,f.return,b)}}function xc(c,f){for(zo(c.containerInfo),si=f;si!==null;)if(c=si,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,si=f;else for(;si!==null;){c=si;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0;var b=c,R=y.memoizedProps;y=y.memoizedState;var N=b.stateNode;try{var k=Os(b.type,R,b.elementType===b.type);f=N.getSnapshotBeforeUpdate(k,y),N.__reactInternalSnapshotBeforeUpdate=f}catch(ne){ln(b,b.return,ne)}}break;case 3:(f&1024)!==0&&qi&&Yh(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=c.sibling,f!==null){f.return=c.return,si=f;break}si=c.return}return k=Nl,Nl=!1,k}function Ch(c,f,y){var b=y.flags;switch(y.tag){case 0:case 11:case 15:ar(c,y),b&4&&Ou(5,y);break;case 1:if(ar(c,y),b&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(ne){ln(y,y.return,ne)}else{var R=Os(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(ne){ln(y,y.return,ne)}}b&64&&Z0(y),b&512&&vl(y,y.return);break;case 3:if(ar(c,y),b&64&&(b=y.updateQueue,b!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=wc(y.child.stateNode);break;case 1:c=y.child.stateNode}try{Ve(b,c)}catch(ne){ln(y,y.return,ne)}}break;case 26:if(ns){ar(c,y),b&512&&vl(y,y.return);break}case 27:case 5:ar(c,y),f===null&&b&4&&vc(y),b&512&&vl(y,y.return);break;case 12:ar(c,y);break;case 13:ar(c,y),b&4&&Co(c,y);break;case 22:if(R=y.memoizedState!==null||wi,!R){f=f!==null&&f.memoizedState!==null||Wn;var N=wi,k=Wn;wi=R,(Wn=f)&&!k?wo(c,y,(y.subtreeFlags&8772)!==0):ar(c,y),wi=N,Wn=k}b&512&&(y.memoizedProps.mode==="manual"?vl(y,y.return):qn(y,y.return));break;default:ar(c,y)}}function _c(c){var f=c.alternate;f!==null&&(c.alternate=null,_c(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Sm(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Qa(c,f,y){for(y=y.child;y!==null;)Rh(c,f,y),y=y.sibling}function Rh(c,f,y){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(Uc,y)}catch{}switch(y.tag){case 26:if(ns){Wn||qn(y,f),Qa(c,f,y),y.memoizedState?Hm(y.memoizedState):y.stateNode&&Vm(y.stateNode);break}case 27:if(Ji){Wn||qn(y,f);var b=di,R=Ia;di=y.stateNode,Qa(c,f,y),Cv(y.stateNode),di=b,Ia=R;break}case 5:Wn||qn(y,f);case 6:if(qi){if(b=di,R=Ia,di=null,Qa(c,f,y),di=b,Ia=R,di!==null)if(Ia)try{ui(di,y.stateNode)}catch(N){ln(y,f,N)}else try{Aa(di,y.stateNode)}catch(N){ln(y,f,N)}}else Qa(c,f,y);break;case 18:qi&&di!==null&&(Ia?Pm(di,y.stateNode):bv(di,y.stateNode));break;case 4:qi?(b=di,R=Ia,di=y.stateNode.containerInfo,Ia=!0,Qa(c,f,y),di=b,Ia=R):(es&&$0(y.stateNode,y,qh()),Qa(c,f,y));break;case 0:case 11:case 14:case 15:Wn||To(2,y,f),Wn||To(4,y,f),Qa(c,f,y);break;case 1:Wn||(qn(y,f),b=y.stateNode,typeof b.componentWillUnmount=="function"&&Q0(y,f,b)),Qa(c,f,y);break;case 21:Qa(c,f,y);break;case 22:Wn||qn(y,f),Wn=(b=Wn)||y.memoizedState!==null,Qa(c,f,y),Wn=b;break;default:Qa(c,f,y)}}function Co(c,f){if(_a&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Zh(c)}catch(y){ln(f,f.return,y)}}function Ac(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new zc),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new zc),f;default:throw Error(a(435,c.tag))}}function Pu(c,f){var y=Ac(c);f.forEach(function(b){var R=lm.bind(null,c,b);y.has(b)||(y.add(b),b.then(R,R))})}function va(c,f){var y=f.deletions;if(y!==null)for(var b=0;b<y.length;b++){var R=y[b],N=c,k=f;if(qi){var ne=k;e:for(;ne!==null;){switch(ne.tag){case 27:case 5:di=ne.stateNode,Ia=!1;break e;case 3:di=ne.stateNode.containerInfo,Ia=!0;break e;case 4:di=ne.stateNode.containerInfo,Ia=!0;break e}ne=ne.return}if(di===null)throw Error(a(160));Rh(N,k,R),di=null,Ia=!1}else Rh(N,k,R);N=R.alternate,N!==null&&(N.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Ro(f,c),f=f.sibling}function Ro(c,f){var y=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:va(f,c),wa(c),b&4&&(To(3,c,c.return),Ou(3,c),To(5,c,c.return));break;case 1:va(f,c),wa(c),b&512&&(Wn||y===null||qn(y,y.return)),b&64&&wi&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?b:y.concat(b))));break;case 26:if(ns){var R=ba;va(f,c),wa(c),b&512&&(Wn||y===null||qn(y,y.return)),b&4&&(b=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=zm(R,c.type,c.memoizedProps,c):Gm(R,c.type,c.stateNode):c.stateNode=Fm(R,f,c.memoizedProps):b!==f?(b===null?y.stateNode!==null&&Vm(y.stateNode):Hm(b),f===null?Gm(R,c.type,c.stateNode):Fm(R,f,c.memoizedProps)):f===null&&c.stateNode!==null&&nm(c,c.memoizedProps,y.memoizedProps));break}case 27:if(Ji&&b&4&&c.alternate===null){R=c.stateNode;var N=c.memoizedProps;try{fA(R),hA(c.type,N,R,c)}catch(nt){ln(c,c.return,nt)}}case 5:if(va(f,c),wa(c),b&512&&(Wn||y===null||qn(y,y.return)),qi){if(c.flags&32){f=c.stateNode;try{Ku(f)}catch(nt){ln(c,c.return,nt)}}b&4&&c.stateNode!=null&&(f=c.memoizedProps,nm(c,f,y!==null?y.memoizedProps:f)),b&1024&&(Ko=!0)}break;case 6:if(va(f,c),wa(c),b&4&&qi){if(c.stateNode===null)throw Error(a(162));b=c.memoizedProps,y=y!==null?y.memoizedProps:b,f=c.stateNode;try{uv(f,y,b)}catch(nt){ln(c,c.return,nt)}}break;case 3:if(ns?(km(),R=ba,ba=Qh(f.containerInfo),va(f,c),ba=R):va(f,c),wa(c),b&4){if(qi&&_a&&y!==null&&y.memoizedState.isDehydrated)try{Wh(f.containerInfo)}catch(nt){ln(c,c.return,nt)}if(es){b=f.containerInfo,y=f.pendingChildren;try{Nm(b,y)}catch(nt){ln(c,c.return,nt)}}}Ko&&(Ko=!1,am(c));break;case 4:ns?(y=ba,ba=Qh(c.stateNode.containerInfo),va(f,c),wa(c),ba=y):(va(f,c),wa(c)),b&4&&es&&$0(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:va(f,c),wa(c);break;case 13:va(f,c),wa(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(yr=Ki()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Pu(c,b)));break;case 22:b&512&&(Wn||y===null||qn(y,y.return)),R=c.memoizedState!==null;var k=y!==null&&y.memoizedState!==null,ne=wi,de=Wn;if(wi=ne||R,Wn=de||k,va(f,c),Wn=de,wi=ne,wa(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=R?f._visibility&-2:f._visibility|1,R&&(f=wi||Wn,y===null||k||f||bc(c)),qi&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(y=null,qi)for(f=c;;){if(f.tag===5||ns&&f.tag===26||Ji&&f.tag===27){if(y===null){k=y=f;try{N=k.stateNode,R?Wu(N):wm(k.stateNode,k.memoizedProps)}catch(nt){ln(k,k.return,nt)}}}else if(f.tag===6){if(y===null){k=f;try{var Pe=k.stateNode;R?Xh(Pe):Xr(Pe,k.memoizedProps)}catch(nt){ln(k,k.return,nt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=c.updateQueue,b!==null&&(y=b.retryQueue,y!==null&&(b.retryQueue=null,Pu(c,y))));break;case 19:va(f,c),wa(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Pu(c,b)));break;case 21:break;default:va(f,c),wa(c)}}function wa(c){var f=c.flags;if(f&2){try{if(qi&&(!Ji||c.tag!==27)){e:{for(var y=c.return;y!==null;){if(im(y)){var b=y;break e}y=y.return}throw Error(a(160))}switch(b.tag){case 27:if(Ji){var R=b.stateNode,N=Eh(c);yc(c,N,R);break}case 5:var k=b.stateNode;b.flags&32&&(Ku(k),b.flags&=-33);var ne=Eh(c);yc(c,ne,k);break;case 3:case 4:var de=b.stateNode.containerInfo,Pe=Eh(c);Th(c,Pe,de);break;default:throw Error(a(161))}}}catch(nt){ln(c,c.return,nt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function am(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;am(f),f.tag===5&&f.flags&1024&&In(f.stateNode),c=c.sibling}}function ar(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Ch(c,f.alternate,f),f=f.sibling}function bc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:To(4,f,f.return),bc(f);break;case 1:qn(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&Q0(f,f.return,y),bc(f);break;case 26:case 27:case 5:qn(f,f.return),bc(f);break;case 22:qn(f,f.return),f.memoizedState===null&&bc(f);break;default:bc(f)}c=c.sibling}}function wo(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,R=c,N=f,k=N.flags;switch(N.tag){case 0:case 11:case 15:wo(R,N,y),Ou(4,N);break;case 1:if(wo(R,N,y),b=N,R=b.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Pe){ln(b,b.return,Pe)}if(b=N,R=b.updateQueue,R!==null){var ne=b.stateNode;try{var de=R.shared.hiddenCallbacks;if(de!==null)for(R.shared.hiddenCallbacks=null,R=0;R<de.length;R++)te(de[R],ne)}catch(Pe){ln(b,b.return,Pe)}}y&&k&64&&Z0(N),vl(N,N.return);break;case 26:case 27:case 5:wo(R,N,y),y&&b===null&&k&4&&vc(N),vl(N,N.return);break;case 12:wo(R,N,y);break;case 13:wo(R,N,y),y&&k&4&&Co(R,N);break;case 22:N.memoizedState===null&&wo(R,N,y),vl(N,N.return);break;default:wo(R,N,y)}f=f.sibling}}function sm(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&dc(y))}function wh(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&dc(c))}function Or(c,f,y,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Bh(c,f,y,b),f=f.sibling}function Bh(c,f,y,b){var R=f.flags;switch(f.tag){case 0:case 11:case 15:Or(c,f,y,b),R&2048&&Ou(9,f);break;case 3:Or(c,f,y,b),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&dc(c)));break;case 12:if(R&2048){Or(c,f,y,b),c=f.stateNode;try{var N=f.memoizedProps,k=N.id,ne=N.onPostCommit;typeof ne=="function"&&ne(k,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(de){ln(f,f.return,de)}}else Or(c,f,y,b);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?Or(c,f,y,b):Bo(c,f):N._visibility&4?Or(c,f,y,b):(N._visibility|=4,aa(c,f,y,b,(f.subtreeFlags&10256)!==0)),R&2048&&sm(f.alternate,f);break;case 24:Or(c,f,y,b),R&2048&&wh(f.alternate,f);break;default:Or(c,f,y,b)}}function aa(c,f,y,b,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=c,k=f,ne=y,de=b,Pe=k.flags;switch(k.tag){case 0:case 11:case 15:aa(N,k,ne,de,R),Ou(8,k);break;case 23:break;case 22:var nt=k.stateNode;k.memoizedState!==null?nt._visibility&4?aa(N,k,ne,de,R):Bo(N,k):(nt._visibility|=4,aa(N,k,ne,de,R)),R&&Pe&2048&&sm(k.alternate,k);break;case 24:aa(N,k,ne,de,R),R&&Pe&2048&&wh(k.alternate,k);break;default:aa(N,k,ne,de,R)}f=f.sibling}}function Bo(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,b=f,R=b.flags;switch(b.tag){case 22:Bo(y,b),R&2048&&sm(b.alternate,b);break;case 24:Bo(y,b),R&2048&&wh(b.alternate,b);break;default:Bo(y,b)}f=f.sibling}}function Pi(c){if(c.subtreeFlags&Ll)for(c=c.child;c!==null;)yl(c),c=c.sibling}function yl(c){switch(c.tag){case 26:Pi(c),c.flags&Ll&&(c.memoizedState!==null?Xm(ba,c.memoizedState,c.memoizedProps):ei(c.type,c.memoizedProps));break;case 5:Pi(c),c.flags&Ll&&ei(c.type,c.memoizedProps);break;case 3:case 4:if(ns){var f=ba;ba=Qh(c.stateNode.containerInfo),Pi(c),ba=f}else Pi(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Ll,Ll=16777216,Pi(c),Ll=f):Pi(c));break;default:Pi(c)}}function Dh(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Do(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];si=b,No(b,c)}Dh(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Iu(c),c=c.sibling}function Iu(c){switch(c.tag){case 0:case 11:case 15:Do(c),c.flags&2048&&To(9,c,c.return);break;case 3:Do(c);break;case 12:Do(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Sc(c)):Do(c);break;default:Do(c)}}function Sc(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];si=b,No(b,c)}Dh(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:To(8,f,f.return),Sc(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,Sc(f));break;default:Sc(f)}c=c.sibling}}function No(c,f){for(;si!==null;){var y=si;switch(y.tag){case 0:case 11:case 15:To(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var b=y.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:dc(y.memoizedState.cache)}if(b=y.child,b!==null)b.return=y,si=b;else e:for(y=c;si!==null;){b=si;var R=b.sibling,N=b.return;if(_c(b),b===y){si=null;break e}if(R!==null){R.return=N,si=R;break e}si=N}}}function Nh(c){var f=Am(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=Cl(c),c===null)throw Error(a(362));return c.stateNode.current}function Mc(c,f){var y=c.tag;switch(f.$$typeof){case hf:if(c.type===f.value)return!0;break;case cd:e:{for(f=f.value,c=[c,0],y=0;y<c.length;){var b=c[y++],R=b.tag,N=c[y++],k=f[N];if(R!==5&&R!==26&&R!==27||!dr(b)){for(;k!=null&&Mc(b,k);)N++,k=f[N];if(N===f.length){f=!0;break e}else for(b=b.child;b!==null;)c.push(b,N),b=b.sibling}}f=!1}return f;case ud:if((y===5||y===26||y===27)&&rA(c.stateNode,f.value))return!0;break;case Dn:if((y===5||y===6||y===26||y===27)&&(c=Ju(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case mn:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Lo(c){switch(c.$$typeof){case hf:return"<"+(l(c.value)||"Unknown")+">";case cd:return":has("+(Lo(c)||"")+")";case ud:return'[role="'+c.value+'"]';case Dn:return'"'+c.value+'"';case mn:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function ev(c,f){var y=[];c=[c,0];for(var b=0;b<c.length;){var R=c[b++],N=R.tag,k=c[b++],ne=f[k];if(N!==5&&N!==26&&N!==27||!dr(R)){for(;ne!=null&&Mc(R,ne);)k++,ne=f[k];if(k===f.length)y.push(R);else for(R=R.child;R!==null;)c.push(R,k),R=R.sibling}}return y}function ya(c,f){if(!hr)throw Error(a(363));c=Nh(c),c=ev(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var b=c[y++],R=b.tag;if(R===5||R===26||R===27)dr(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return f}function xa(){if((wt&2)!==0&&nn!==0)return nn&-nn;if(Lt.T!==null){var c=Oa;return c!==0?c:Xe()}return Ss()}function sr(){Fa===0&&(Fa=(nn&536870912)===0||yn?z():536870912);var c=cs.current;return c!==null&&(c.flags|=32),Fa}function sa(c,f,y){(c===rn&&Fn===2||c.cancelPendingCommit!==null)&&(Is(c,0),Ps(c,nn,Fa,!1)),X(c,y),((wt&2)===0||c!==rn)&&(c===rn&&((wt&2)===0&&(js|=y),gn===4&&Ps(c,nn,Fa,!1)),$e(c))}function Fu(c,f,y){if((wt&6)!==0)throw Error(a(327));var b=!y&&(f&60)===0&&(f&c.expiredLanes)===0||I(c,f),R=b?lr(c,f):rr(c,f,!0),N=b;do{if(R===0){us&&!b&&Ps(c,f,0,!1);break}else if(R===6)Ps(c,f,0,!Nn);else{if(y=c.current.alternate,N&&!tv(y)){R=rr(c,f,!1),N=!1;continue}if(R===2){if(N=f,c.errorRecoveryDisabledLanes&N)var k=0;else k=c.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){f=k;e:{var ne=c;R=Gc;var de=_a&&ne.current.memoizedState.isDehydrated;if(de&&(Is(ne,k).flags|=256),k=rr(ne,k,!1),k!==2){if(Zr&&!de){ne.errorRecoveryDisabledLanes|=N,js|=N,R=4;break e}N=hs,hs=R,N!==null&&Pr(N)}R=k}if(N=!1,R!==2)continue}}if(R===1){Is(c,0),Ps(c,f,0,!0);break}e:{switch(b=c,R){case 0:case 1:throw Error(a(345));case 4:if((f&4194176)===f){Ps(b,f,Fa,!Nn);break e}break;case 2:hs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(b.finishedWork=y,b.finishedLanes=f,(f&62914560)===f&&(N=yr+300-Ki(),10<N)){if(Ps(b,f,Fa,!Nn),O(b,0)!==0)break e;b.timeoutHandle=_m(Lh.bind(null,b,y,hs,Xs,Vc,f,Fa,js,Qr,Nn,2,-0,0),N);break e}Lh(b,y,hs,Xs,Vc,f,Fa,js,Qr,Nn,0,-0,0)}}break}while(!0);$e(c)}function Pr(c){hs===null?hs=c:hs.push.apply(hs,c)}function Lh(c,f,y,b,R,N,k,ne,de,Pe,nt,ft,dt){var kt=f.subtreeFlags;if((kt&8192||(kt&16785408)===16785408)&&(ts(),yl(f),f=Vh(),f!==null)){c.cancelPendingCommit=f(Vn.bind(null,c,y,b,R,k,ne,de,1,ft,dt)),Ps(c,N,k,!Pe);return}Vn(c,y,b,R,k,ne,de,nt,ft,dt)}function tv(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var b=0;b<y.length;b++){var R=y[b],N=R.getSnapshot;R=R.value;try{if(!is(N(),R))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ps(c,f,y,b){f&=~fa,f&=~js,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var R=f;0<R;){var N=31-La(R),k=1<<N;b[N]=-1,R&=~k}y!==0&&se(c,y,f)}function rm(){return(wt&6)===0?(Dt(0),!1):!0}function Ba(){if(jt!==null){if(Fn===0)var c=jt.return;else c=jt,ai=Jo=null,V(c),mr=null,Ts=0,c=jt;for(;c!==null;)tm(c.alternate,c),c=c.return;jt=null}}function Is(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==Tl&&(c.timeoutHandle=Tl,qu(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),Ba(),rn=c,jt=y=ra(c.current,null),nn=f,Fn=0,pi=null,Nn=!1,us=I(c,f),Zr=!1,Qr=Fa=fa=js=fs=gn=0,hs=Gc=null,Vc=!1,(f&8)!==0&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var R=31-La(b),N=1<<R;f|=c[R],b&=~N}return ks=f,Ge(),y}function xl(c,f){Jt=null,Lt.H=xn,f===On?(f=ot(),Fn=3):f===Km?(f=ot(),Fn=4):Fn=f===Uv?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,pi=f,jt===null&&(gn=1,yh(c,ve(f,c.current)))}function Hu(){var c=cs.current;return c===null?!0:(nn&4194176)===nn?Cs===null:(nn&62914560)===nn||(nn&536870912)!==0?c===Cs:!1}function Ec(){var c=Lt.H;return Lt.H=xn,c===null?xn:c}function $a(){var c=Lt.A;return Lt.A=ld,c}function Da(){gn=4,Nn||(nn&4194176)!==nn&&cs.current!==null||(us=!0),(fs&134217727)===0&&(js&134217727)===0||rn===null||Ps(rn,nn,Fa,!1)}function rr(c,f,y){var b=wt;wt|=2;var R=Ec(),N=$a();(rn!==c||nn!==f)&&(Xs=null,Is(c,f)),f=!1;var k=gn;e:do try{if(Fn!==0&&jt!==null){var ne=jt,de=pi;switch(Fn){case 8:Ba(),k=6;break e;case 3:case 2:case 6:cs.current===null&&(f=!0);var Pe=Fn;if(Fn=0,pi=null,Uo(c,ne,de,Pe),y&&us){k=0;break e}break;default:Pe=Fn,Fn=0,pi=null,Uo(c,ne,de,Pe)}}or(),k=gn;break}catch(nt){xl(c,nt)}while(!0);return f&&c.shellSuspendCounter++,ai=Jo=null,wt=b,Lt.H=R,Lt.A=N,jt===null&&(rn=null,nn=0,Ge()),k}function or(){for(;jt!==null;)om(jt)}function lr(c,f){var y=wt;wt|=2;var b=Ec(),R=$a();rn!==c||nn!==f?(Xs=null,Zn=Ki()+500,Is(c,f)):us=I(c,f);e:do try{if(Fn!==0&&jt!==null){f=jt;var N=pi;t:switch(Fn){case 1:Fn=0,pi=null,Uo(c,f,N,1);break;case 2:if(rt(N)){Fn=0,pi=null,Uh(f);break}f=function(){Fn===2&&rn===c&&(Fn=7),$e(c)},N.then(f,f);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:rt(N)?(Fn=0,pi=null,Uh(f)):(Fn=0,pi=null,Uo(c,f,N,7));break;case 5:var k=null;switch(jt.tag){case 26:k=jt.memoizedState;case 5:case 27:var ne=jt,de=ne.type,Pe=ne.pendingProps;if(k?jm(k):jr(de,Pe)){Fn=0,pi=null;var nt=ne.sibling;if(nt!==null)jt=nt;else{var ft=ne.return;ft!==null?(jt=ft,zu(ft)):jt=null}break t}}Fn=0,pi=null,Uo(c,f,N,5);break;case 6:Fn=0,pi=null,Uo(c,f,N,6);break;case 8:Ba(),gn=6;break e;default:throw Error(a(462))}}Ir();break}catch(dt){xl(c,dt)}while(!0);return ai=Jo=null,Lt.H=b,Lt.A=R,wt=y,jt!==null?0:(rn=null,nn=0,Ge(),gn)}function Ir(){for(;jt!==null&&!wv();)om(jt)}function om(c){var f=q0(c.alternate,c,ks);c.memoizedProps=c.pendingProps,f===null?zu(c):jt=f}function Uh(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=V0(y,f,f.pendingProps,f.type,void 0,nn);break;case 11:f=V0(y,f,f.pendingProps,f.type.render,f.ref,nn);break;case 5:V(f);default:tm(y,f),f=jt=zr(f,ks),f=q0(y,f,ks)}c.memoizedProps=c.pendingProps,f===null?zu(c):jt=f}function Uo(c,f,y,b){ai=Jo=null,V(f),mr=null,Ts=0;var R=f.return;try{if(I0(c,R,f,y,nn)){gn=1,yh(c,ve(y,c.current)),jt=null;return}}catch(N){if(R!==null)throw jt=R,N;gn=1,yh(c,ve(y,c.current)),jt=null;return}f.flags&32768?(yn||b===1?c=!0:us||(nn&536870912)!==0?c=!1:(Nn=c=!0,(b===2||b===3||b===6)&&(b=cs.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ii(f,c)):zu(f)}function zu(c){var f=c;do{if((f.flags&32768)!==0){Ii(f,Nn);return}c=f.return;var y=K0(f.alternate,f,ks);if(y!==null){jt=y;return}if(f=f.sibling,f!==null){jt=f;return}jt=f=c}while(f!==null);gn===0&&(gn=5)}function Ii(c,f){do{var y=W0(c.alternate,c);if(y!==null){y.flags&=32767,jt=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){jt=c;return}jt=c=y}while(c!==null);gn=6,jt=null}function Vn(c,f,y,b,R,N,k,ne,de,Pe){var nt=Lt.T,ft=Ri();try{oa(2),Lt.T=null,fn(c,f,y,b,ft,R,N,k,ne,de,Pe)}finally{Lt.T=nt,oa(ft)}}function fn(c,f,y,b,R,N,k,ne){do Fi();while($r!==null);if((wt&6)!==0)throw Error(a(327));var de=c.finishedWork;if(b=c.finishedLanes,de===null)return null;if(c.finishedWork=null,c.finishedLanes=0,de===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Pe=de.lanes|de.childLanes;if(Pe|=Pc,ce(c,b,Pe,N,k,ne),c===rn&&(jt=rn=null,nn=0),(de.subtreeFlags&10256)===0&&(de.flags&10256)===0||ws||(ws=!0,fd=Pe,Ol=y,Gu(ed,function(){return Fi(),null})),y=(de.flags&15990)!==0,(de.subtreeFlags&15990)!==0||y?(y=Lt.T,Lt.T=null,N=Ri(),oa(2),k=wt,wt|=4,xc(c,de),Ro(de,c),ym(c.containerInfo),c.current=de,Ch(c,de.alternate,de),Bv(),wt=k,oa(N),Lt.T=y):c.current=de,ws?(ws=!1,$r=c,Ul=b):Fr(c,Pe),Pe=c.pendingLanes,Pe===0&&(ds=null),j(de.stateNode),$e(c),f!==null)for(R=c.onRecoverableError,de=0;de<f.length;de++)Pe=f[de],R(Pe.value,{componentStack:Pe.stack});return(Ul&3)!==0&&Fi(),Pe=c.pendingLanes,(b&4194218)!==0&&(Pe&42)!==0?c===Sa?Pl++:(Pl=0,Sa=c):Pl=0,Dt(0),null}function Fr(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,dc(f)))}function Fi(){if($r!==null){var c=$r,f=fd;fd=0;var y=Ae(Ul),b=32>y?32:y;y=Lt.T;var R=Ri();try{if(oa(b),Lt.T=null,$r===null)var N=!1;else{b=Ol,Ol=null;var k=$r,ne=Ul;if($r=null,Ul=0,(wt&6)!==0)throw Error(a(331));var de=wt;if(wt|=4,Iu(k.current),Bh(k,k.current,ne,b),wt=de,Dt(0,!1),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(Uc,k)}catch{}N=!0}return N}finally{oa(R),Lt.T=y,Fr(c,f)}}return!1}function Oh(c,f,y){f=ve(y,f),f=wu(c.stateNode,f,2),c=Qe(c,f,2),c!==null&&(X(c,2),$e(c))}function ln(c,f,y){if(c.tag===3)Oh(c,c,y);else for(;f!==null;){if(f.tag===3){Oh(f,c,y);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ds===null||!ds.has(b))){c=ve(y,c),y=hc(2),b=Qe(f,y,2),b!==null&&(Bu(y,b,f,c),X(b,2),$e(b));break}}f=f.return}}function Ph(c,f,y){var b=c.pingCache;if(b===null){b=c.pingCache=new cn;var R=new Set;b.set(f,R)}else R=b.get(f),R===void 0&&(R=new Set,b.set(f,R));R.has(y)||(Zr=!0,R.add(y),c=nv.bind(null,c,f,y),f.then(c,c))}function nv(c,f,y){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,rn===c&&(nn&y)===y&&(gn===4||gn===3&&(nn&62914560)===nn&&300>Ki()-yr?(wt&2)===0&&Is(c,0):fa|=y,Qr===nn&&(Qr=0)),$e(c)}function _l(c,f){f===0&&(f=P()),c=Oe(c,f),c!==null&&(X(c,f),$e(c))}function Al(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),_l(c,y)}function lm(c,f){var y=0;switch(c.tag){case 13:var b=c.stateNode,R=c.memoizedState;R!==null&&(y=R.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(a(314))}b!==null&&b.delete(f),_l(c,y)}function Gu(c,f){return Lc(c,f)}function cm(c,f,y,b){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ra(c,f){var y=c.alternate;return y===null?(y=t(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function zr(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function bs(c,f,y,b,R,N){var k=0;if(b=c,typeof c=="function")Hr(c)&&(k=1);else if(typeof c=="string")k=ns&&Ji?Im(c,y,zi.current)?26:Dc(c)?27:5:ns?Im(c,y,zi.current)?26:5:Ji&&Dc(c)?27:5;else e:switch(c){case Cc:return Gr(y.children,R,N,f);case pm:k=8,R|=24;break;case mm:return c=t(12,y,f,R|2),c.elementType=mm,c.lanes=N,c;case Fh:return c=t(13,y,f,R),c.elementType=Fh,c.lanes=N,c;case Io:return c=t(19,y,f,R),c.elementType=Io,c.lanes=N,c;case ju:return Ih(y,R,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case sv:case cr:k=10;break e;case Po:k=9;break e;case Rc:k=11;break e;case ku:k=14;break e;case Hs:k=16,b=null;break e}k=29,y=Error(a(130,c===null?"null":typeof c,"")),b=null}return f=t(k,y,f,R),f.elementType=c,f.type=b,f.lanes=N,f}function Gr(c,f,y,b){return c=t(7,c,b,f),c.lanes=y,c}function Ih(c,f,y,b){c=t(22,c,b,f),c.elementType=ju,c.lanes=y;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=R._current;if(N===null)throw Error(a(456));if((R._pendingVisibility&2)===0){var k=Oe(N,2);k!==null&&(R._pendingVisibility|=2,sa(k,N,2))}},attach:function(){var N=R._current;if(N===null)throw Error(a(456));if((R._pendingVisibility&2)!==0){var k=Oe(N,2);k!==null&&(R._pendingVisibility&=-3,sa(k,N,2))}}};return c.stateNode=R,c}function Oo(c,f,y){return c=t(6,c,null,f),c.lanes=y,c}function Tc(c,f,y){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function bl(c,f,y,b,R,N,k,ne){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Tl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=b,this.onUncaughtError=R,this.onCaughtError=N,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function Hi(c,f,y,b,R,N,k,ne,de,Pe,nt,ft){return c=new bl(c,f,y,k,ne,de,Pe,ft),f=1,N===!0&&(f|=24),N=t(3,null,null,f),c.current=N,N.stateNode=c,f=bh(),f.refCount++,c.pooledCache=f,f.refCount++,N.memoizedState={element:b,isDehydrated:y,cache:f},pt(N),c}function Vu(c){return c?(c=Rl,c):Rl}function um(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=_(f),c=c!==null?M(c):null,c===null?null:wc(c.stateNode)}function iv(c,f,y,b,R,N){R=Vu(R),b.context===null?b.context=R:b.pendingContext=R,b=Ye(f),b.payload={element:y},N=N===void 0?null:N,N!==null&&(b.callback=N),y=Qe(c,b,f),y!==null&&(sa(y,c,f),vt(y,c,f))}function av(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function fm(c,f){av(c,f),(c=c.alternate)&&av(c,f)}var Rt={},hm=Mp(),Yi=fD(),Sl=Object.assign,dm=Symbol.for("react.element"),Vr=Symbol.for("react.transitional.element"),Fs=Symbol.for("react.portal"),Cc=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),Po=Symbol.for("react.consumer"),cr=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),ju=Symbol.for("react.offscreen"),rv=Symbol.for("react.memo_cache_sentinel"),gm=Symbol.iterator,Ml=Symbol.for("react.client.reference"),Lt=hm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hh,vm,Fo=!1,Ho=Array.isArray,zh=e.rendererVersion,Xu=e.rendererPackageName,Yu=e.extraDevToolsConfig,wc=e.getPublicInstance,El=e.getRootHostContext,ov=e.getChildHostContext,zo=e.prepareForCommit,ym=e.resetAfterCommit,xm=e.createInstance,ur=e.appendInitialChild,kr=e.finalizeInitialChildren,Go=e.shouldSetTextContent,Gh=e.createTextInstance,_m=e.scheduleTimeout,qu=e.cancelTimeout,Tl=e.noTimeout,fr=e.isPrimaryRenderer;e.warnsIfNotActing;var qi=e.supportsMutation,es=e.supportsPersistence,_a=e.supportsHydration,Am=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var bm=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var oa=e.setCurrentUpdatePriority,Ri=e.getCurrentUpdatePriority,Ss=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Vo=e.shouldAttemptEagerTransition,Sm=e.detachDeletedInstance;e.requestPostPaintCallback;var lv=e.maySuspendCommit,jr=e.preloadInstance,ts=e.startSuspendingCommit,ei=e.suspendInstance,Vh=e.waitForCommitToBeReady,Na=e.NotPendingTransition,Ht=e.HostTransitionContext,In=e.resetFormInstance;e.bindToConsole;var Ai=e.supportsMicrotasks,kh=e.scheduleMicrotask,hr=e.supportsTestSelectors,Cl=e.findFiberRoot,jh=e.getBoundingRect,Ju=e.getTextContent,dr=e.isHiddenSubtree,rA=e.matchAccessibilityRole,ti=e.setFocusIfFocusable,Mm=e.setupIntersectionObserver,Em=e.appendChild,cv=e.appendChildToContainer,uv=e.commitTextUpdate,oA=e.commitMount,Tm=e.commitUpdate,Cm=e.insertBefore,Rm=e.insertInContainerBefore,Aa=e.removeChild,ui=e.removeChildFromContainer,Ku=e.resetTextContent,Wu=e.hideInstance,Xh=e.hideTextInstance,wm=e.unhideInstance,Xr=e.unhideTextInstance,Yh=e.clearContainer,Bm=e.cloneInstance,qh=e.createContainerChildSet,Dm=e.appendChildToContainerChildSet,fv=e.finalizeContainerChildren,Nm=e.replaceContainerChildren,Lm=e.cloneHiddenInstance,Um=e.cloneHiddenTextInstance,Jh=e.isSuspenseInstancePending,Zu=e.isSuspenseInstanceFallback,hv=e.getSuspenseInstanceFallbackErrorDetails,lA=e.registerSuspenseInstanceRetry,dv=e.canHydrateFormStateMarker,pv=e.isFormStateMarkerMatching,Om=e.getNextHydratableSibling,Kh=e.getFirstHydratableChild,mv=e.getFirstHydratableChildWithinContainer,gv=e.getFirstHydratableChildWithinSuspenseInstance,vv=e.canHydrateInstance,yv=e.canHydrateTextInstance,xv=e.canHydrateSuspenseInstance,cA=e.hydrateInstance,_v=e.hydrateTextInstance,Bc=e.hydrateSuspenseInstance,Av=e.getNextHydratableInstanceAfterSuspenseInstance,Wh=e.commitHydratedContainer,Zh=e.commitHydratedSuspenseInstance,bv=e.clearSuspenseBoundary,Pm=e.clearSuspenseBoundaryFromContainer,Sv=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Mv=e.validateHydratableInstance,Ev=e.validateHydratableTextInstance,ns=e.supportsResources,Im=e.isHostHoistableType,Qh=e.getHoistableRoot,$h=e.getResource,Fm=e.acquireResource,Hm=e.releaseResource,zm=e.hydrateHoistable,Gm=e.mountHoistable,Vm=e.unmountHoistable,uA=e.createHoistableInstance,km=e.prepareToCommitHoistables,Tv=e.mayResourceSuspendCommit,jm=e.preloadResource,Xm=e.suspendResource,Ji=e.supportsSingletons,Ym=e.resolveSingletonInstance,fA=e.clearSingleton,hA=e.acquireSingletonInstance,Cv=e.releaseSingletonInstance,Dc=e.isHostSingletonType,Qu=[],Yr=-1,Rl={},La=Math.clz32?Math.clz32:B,$u=Math.log,Rv=Math.LN2,Nc=128,ef=4194304,Lc=Yi.unstable_scheduleCallback,tf=Yi.unstable_cancelCallback,wv=Yi.unstable_shouldYield,Bv=Yi.unstable_requestPaint,Ki=Yi.unstable_now,qm=Yi.unstable_ImmediatePriority,Dv=Yi.unstable_UserBlockingPriority,ed=Yi.unstable_NormalPriority,td=Yi.unstable_IdlePriority,Nv=Yi.log,Jm=Yi.unstable_setDisableYieldValue,Uc=null,Ua=null,is=typeof Object.is=="function"?Object.is:Q,nd=new WeakMap,Jn=[],ni=0,nf=null,af=0,as=[],ss=0,zs=null,pr=1,Ms="",zi=T(null),sf=T(null),Gs=T(null),Oc=T(null),la=null,Wi=null,yn=!1,rs=null,Es=!1,rf=Error(a(519)),os=[],ko=0,Pc=0,Ic=null,wl=null,of=!1,lf=!1,Vs=!1,jo=0,cf=null,id=0,Oa=0,Xo=null,qr=!1,Fc=!1,uf=Object.prototype.hasOwnProperty,On=Error(a(460)),Km=Error(a(474)),ad={then:function(){}},Bl=null,mr=null,Ts=0,Yo=Ui(!0),Wm=Ui(!1),gr=T(null),ls=T(0),cs=T(null),Cs=null,bi=T(0),vr=0,Jt=null,Cn=null,fi=null,Rs=!1,Kn=!1,Jr=!1,ff=0,ii=0,Hc=null,Lv=0,sd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},xn={readContext:Xi,use:le,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt};xn.useCacheRefresh=Zt,xn.useMemoCache=Zt,xn.useHostTransitionStatus=Zt,xn.useFormState=Zt,xn.useActionState=Zt,xn.useOptimistic=Zt;var Si={readContext:Xi,use:le,useCallback:function(c,f){return re().memoizedState=[c,f===void 0?null:f],c},useContext:Xi,useEffect:Fp,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,hh(4194308,4,Mu.bind(null,f,c),y)},useLayoutEffect:function(c,f){return hh(4194308,4,c,f)},useInsertionEffect:function(c,f){hh(4,2,c,f)},useMemo:function(c,f){var y=re();f=f===void 0?null:f;var b=c();if(Jr){Z(!0);try{c()}finally{Z(!1)}}return y.memoizedState=[b,f],b},useReducer:function(c,f,y){var b=re();if(y!==void 0){var R=y(f);if(Jr){Z(!0);try{y(f)}finally{Z(!1)}}}else R=f;return b.memoizedState=b.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},b.queue=c,c=c.dispatch=_o.bind(null,Jt,c),[b.memoizedState,c]},useRef:function(c){var f=re();return c={current:c},f.memoizedState=c},useState:function(c){c=tn(c);var f=c.queue,y=gh.bind(null,Jt,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:Eu,useDeferredValue:function(c,f){var y=re();return xo(y,c,f)},useTransition:function(){var c=tn(!1);return c=ph.bind(null,Jt,c.queue,!0,!1),re().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var b=Jt,R=re();if(yn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),rn===null)throw Error(a(349));(nn&60)!==0||Ct(b,f,y)}R.memoizedState=y;var N={value:y,getSnapshot:f};return R.queue=N,Fp(En.bind(null,b,N,c),[c]),b.flags|=2048,ga(9,Qt.bind(null,b,N,y,f),{destroy:void 0},null),y},useId:function(){var c=re(),f=rn.identifierPrefix;if(yn){var y=Ms,b=pr;y=(b&~(1<<32-La(b)-1)).toString(32)+y,f=":"+f+"R"+y,y=ff++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=Lv++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return re().memoizedState=Tu.bind(null,Jt)}};Si.useMemoCache=je,Si.useHostTransitionStatus=hl,Si.useFormState=ki,Si.useActionState=ki,Si.useOptimistic=function(c){var f=re();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=vh.bind(null,Jt,!0,y),y.dispatch=f,[c,f]};var ca={readContext:Xi,use:le,useCallback:dh,useContext:Xi,useEffect:Su,useImperativeHandle:nr,useInsertionEffect:O0,useLayoutEffect:P0,useMemo:fl,useReducer:mt,useRef:ul,useState:function(){return mt(st)},useDebugValue:Eu,useDeferredValue:function(c,f){var y=me();return Hp(y,Cn.memoizedState,c,f)},useTransition:function(){var c=mt(st)[0],f=me().memoizedState;return[typeof c=="boolean"?c:Me(c),f]},useSyncExternalStore:Ot,useId:ir};ca.useCacheRefresh=mh,ca.useMemoCache=je,ca.useHostTransitionStatus=hl,ca.useFormState=na,ca.useActionState=na,ca.useOptimistic=function(c,f){var y=me();return yt(y,Cn,c,f)};var qo={readContext:Xi,use:le,useCallback:dh,useContext:Xi,useEffect:Su,useImperativeHandle:nr,useInsertionEffect:O0,useLayoutEffect:P0,useMemo:fl,useReducer:Mt,useRef:ul,useState:function(){return Mt(st)},useDebugValue:Eu,useDeferredValue:function(c,f){var y=me();return Cn===null?xo(y,c,f):Hp(y,Cn.memoizedState,c,f)},useTransition:function(){var c=Mt(st)[0],f=me().memoizedState;return[typeof c=="boolean"?c:Me(c),f]},useSyncExternalStore:Ot,useId:ir};qo.useCacheRefresh=mh,qo.useMemoCache=je,qo.useHostTransitionStatus=hl,qo.useFormState=cl,qo.useActionState=cl,qo.useOptimistic=function(c,f){var y=me();return Cn!==null?yt(y,Cn,c,f):(y.baseState=c,[c,y.queue.dispatch])};var rd={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var b=xa(),R=Ye(b);R.payload=f,y!=null&&(R.callback=y),f=Qe(c,R,b),f!==null&&(sa(f,c,b),vt(f,c,b))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var b=xa(),R=Ye(b);R.tag=1,R.payload=f,y!=null&&(R.callback=y),f=Qe(c,R,b),f!==null&&(sa(f,c,b),vt(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=xa(),b=Ye(y);b.tag=2,f!=null&&(b.callback=f),f=Qe(c,b,y),f!==null&&(sa(f,c,y),vt(f,c,y))}},Zm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Uv=Error(a(461)),hi=!1,ua={dehydrated:null,treeContext:null,retryLane:0},Pa=T(null),Jo=null,ai=null,Ov=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},Kr=Yi.unstable_scheduleCallback,Dl=Yi.unstable_NormalPriority,Bn={$$typeof:cr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},od=Lt.S;Lt.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&we(c,f),od!==null&&od(c,f)};var Wr=T(null),wi=!1,Wn=!1,Ko=!1,zc=typeof WeakSet=="function"?WeakSet:Set,si=null,Nl=!1,di=null,Ia=!1,ba=null,Ll=8192,ld={getCacheForType:function(c){var f=Xi(Bn),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},hf=0,cd=1,ud=2,mn=3,Dn=4;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;hf=Kt("selector.component"),cd=Kt("selector.has_pseudo_class"),ud=Kt("selector.role"),mn=Kt("selector.test_id"),Dn=Kt("selector.text")}var cn=typeof WeakMap=="function"?WeakMap:Map,wt=0,rn=null,jt=null,nn=0,Fn=0,pi=null,Nn=!1,us=!1,Zr=!1,ks=0,gn=0,fs=0,js=0,fa=0,Fa=0,Qr=0,Gc=null,hs=null,Vc=!1,yr=0,Zn=1/0,Xs=null,ds=null,ws=!1,$r=null,Ul=0,fd=0,Ol=null,Pl=0,Sa=null;return Rt.attemptContinuousHydration=function(c){if(c.tag===13){var f=Oe(c,67108864);f!==null&&sa(f,c,67108864),fm(c,67108864)}},Rt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=xa(),y=Oe(c,f);y!==null&&sa(y,c,f),fm(c,f)}},Rt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=D(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-La(f);c.entanglements[1]|=y,f&=~y}$e(c),(wt&6)===0&&(Zn=Ki()+500,Dt(0))}}break;case 13:f=Oe(c,2),f!==null&&sa(f,c,2),rm(),fm(c,2)}},Rt.batchedUpdates=function(c,f){return c(f)},Rt.createComponentSelector=function(c){return{$$typeof:hf,value:c}},Rt.createContainer=function(c,f,y,b,R,N,k,ne,de,Pe){return Hi(c,f,!1,null,y,b,N,k,ne,de,Pe,null)},Rt.createHasPseudoClassSelector=function(c){return{$$typeof:cd,value:c}},Rt.createHydrationContainer=function(c,f,y,b,R,N,k,ne,de,Pe,nt,ft,dt){return c=Hi(y,b,!0,c,R,N,ne,de,Pe,nt,ft,dt),c.context=Vu(null),y=c.current,b=xa(),R=Ye(b),R.callback=f??null,Qe(y,R,b),c.current.lanes=b,X(c,b),$e(c),c},Rt.createPortal=function(c,f,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:b==null?null:""+b,children:c,containerInfo:f,implementation:y}},Rt.createRoleSelector=function(c){return{$$typeof:ud,value:c}},Rt.createTestNameSelector=function(c){return{$$typeof:mn,value:c}},Rt.createTextSelector=function(c){return{$$typeof:Dn,value:c}},Rt.defaultOnCaughtError=function(c){console.error(c)},Rt.defaultOnRecoverableError=function(c){Zm(c)},Rt.defaultOnUncaughtError=function(c){Zm(c)},Rt.deferredUpdates=function(c){var f=Lt.T,y=Ri();try{return oa(32),Lt.T=null,c()}finally{oa(y),Lt.T=f}},Rt.discreteUpdates=function(c,f,y,b,R){var N=Lt.T,k=Ri();try{return oa(2),Lt.T=null,c(f,y,b,R)}finally{oa(k),Lt.T=N,wt===0&&(Zn=Ki()+500)}},Rt.findAllNodes=ya,Rt.findBoundingRects=function(c,f){if(!hr)throw Error(a(363));f=ya(c,f),c=[];for(var y=0;y<f.length;y++)c.push(jh(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var b=y.x,R=b+y.width,N=y.y,k=N+y.height,ne=f-1;0<=ne;ne--)if(f!==ne){var de=c[ne],Pe=de.x,nt=Pe+de.width,ft=de.y,dt=ft+de.height;if(b>=Pe&&N>=ft&&R<=nt&&k<=dt){c.splice(f,1);break}else if(b!==Pe||y.width!==de.width||dt<N||ft>k){if(!(N!==ft||y.height!==de.height||nt<b||Pe>R)){Pe>b&&(de.width+=Pe-b,de.x=b),nt<R&&(de.width=R-Pe),c.splice(f,1);break}}else{ft>N&&(de.height+=ft-N,de.y=N),dt<k&&(de.height=k-ft),c.splice(f,1);break}}}return c},Rt.findHostInstance=um,Rt.findHostInstanceWithNoPortals=function(c){return c=_(c),c=c!==null?C(c):null,c===null?null:wc(c.stateNode)},Rt.findHostInstanceWithWarning=function(c){return um(c)},Rt.flushPassiveEffects=Fi,Rt.flushSyncFromReconciler=function(c){var f=wt;wt|=1;var y=Lt.T,b=Ri();try{if(oa(2),Lt.T=null,c)return c()}finally{oa(b),Lt.T=y,wt=f,(wt&6)===0&&Dt(0)}},Rt.flushSyncWork=rm,Rt.focusWithin=function(c,f){if(!hr)throw Error(a(363));for(c=Nh(c),f=ev(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],b=y.tag;if(!dr(y)){if((b===5||b===26||b===27)&&ti(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},Rt.getFindAllNodesFailureDescription=function(c,f){if(!hr)throw Error(a(363));var y=0,b=[];c=[Nh(c),0];for(var R=0;R<c.length;){var N=c[R++],k=N.tag,ne=c[R++],de=f[ne];if((k!==5&&k!==26&&k!==27||!dr(N))&&(Mc(N,de)&&(b.push(Lo(de)),ne++,ne>y&&(y=ne)),ne<f.length))for(N=N.child;N!==null;)c.push(N,ne),N=N.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Lo(f[y]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},Rt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return wc(c.child.stateNode);default:return c.child.stateNode}},Rt.injectIntoDevTools=function(){var c={bundleType:0,version:zh,rendererPackageName:Xu,currentDispatcherRef:Lt,findFiberByHostInstance:Am,reconcilerVersion:"19.0.0"};if(Yu!==null&&(c.rendererConfig=Yu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Uc=f.inject(c),Ua=f}catch{}c=!!f.checkDCE}}return c},Rt.isAlreadyRendering=function(){return!1},Rt.observeVisibleRects=function(c,f,y,b){if(!hr)throw Error(a(363));c=ya(c,f);var R=Mm(c,y,b).disconnect;return{disconnect:function(){R()}}},Rt.shouldError=function(){return null},Rt.shouldSuspend=function(){return!1},Rt.startHostTransition=function(c,f,y,b){if(c.tag!==5)throw Error(a(476));var R=zp(c).queue;ph(c,R,f,Na,y===null?i:function(){var N=zp(c).next.queue;return Ao(c,N,{},xa()),y(b)})},Rt.updateContainer=function(c,f,y,b){var R=f.current,N=xa();return iv(R,N,c,f,y,b),N},Rt.updateContainerSync=function(c,f,y,b){return f.tag===0&&Fi(),iv(f.current,2,c,f,y,b),2},Rt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(jb)),jb.exports}var s2;function Z5(){return s2||(s2=1,kb.exports=W5()),kb.exports}var Q5=Z5();const $5=g_(Q5);var r2=fD();function _1(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=_1(i,e,t);if(a)return a;i=e?null:i.sibling}}function hD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const A1=hD(q.createContext(null));let dD=class extends q.Component{render(){return q.createElement(A1.Provider,{value:this._reactInternals},this.props.children)}};function pD(){const n=q.useContext(A1);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=q.useId();return q.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=_1(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const e6=Symbol.for("react.context"),t6=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===e6;function n6(){const n=pD(),[e]=q.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;t6(i)&&i!==A1&&!e.has(i)&&e.set(i,q.use(hD(i))),t=t.return}return e}function i6(){const n=n6();return q.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>q.createElement(e,null,q.createElement(t.Provider,{...i,value:n.get(t)})),e=>q.createElement(dD,{...e})),[n])}function mD(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gD=n=>n&&n.isOrthographicCamera,a6=n=>n&&n.hasOwnProperty("current"),s6=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),E0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?q.useLayoutEffect:q.useEffect;function vD(n){const e=q.useRef(n);return E0(()=>void(e.current=n),[n]),e}function r6(){const n=pD(),e=i6();return q.useMemo(()=>({children:t})=>{const a=!!_1(n,!0,r=>r.type===q.StrictMode)?q.StrictMode:q.Fragment;return W.jsx(a,{children:W.jsx(e,{children:t})})},[n,e])}function o6({set:n}){return E0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const l6=(n=>(n=class extends q.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function yD(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Hd(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ri={obj:n=>n===Object(n)&&!ri.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ri.str(n)||ri.num(n)||ri.boo(n))return n===e;const r=ri.obj(n);if(r&&i==="reference")return n===e;const l=ri.arr(n);if(l&&t==="reference")return n===e;if((l||r)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(u in a?e:n)if(!ri.equ(n[u],e[u],{strict:a,objects:"reference"}))return!1}else for(u in a?e:n)if(n[u]!==e[u])return!1;if(ri.und(u)){if(l&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function c6(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function u6(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const xD=["children","key","ref"];function f6(n){const e={};for(const t in n)xD.includes(t)||(e[t]=n[t]);return e}function n_(n,e,t,i){const a=n;let r=a==null?void 0:a.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:f6(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function a0(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const o2=/-\d+$/;function i_(n,e){if(ri.str(e.props.attach)){if(o2.test(e.props.attach)){const a=e.props.attach.replace(o2,""),{root:r,key:l}=a0(n.object,a);Array.isArray(r[l])||(r[l]=[])}const{root:t,key:i}=a0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ri.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function a_(n,e){if(ri.str(e.props.attach)){const{root:t,key:i}=a0(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const VS=[...xD,"args","dispose","attach","object","onUpdate","dispose"],l2=new Map;function h6(n){let e=l2.get(n.constructor);try{e||(e=new n.constructor,l2.set(n.constructor,e))}catch{}return e}function d6(n,e){const t={};for(const i in e)if(!VS.includes(i)&&!ri.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(VS.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=a0(n.object,i);if(a.constructor&&a.constructor.length===0){const l=h6(a);ri.und(l)||(t[r]=l[r])}else t[r]=0}return t}const p6=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],m6=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ru(n,e){var t;const i=n.__r3f,a=i&&mD(i).getState(),r=i==null?void 0:i.eventCount;for(const u in e){let d=e[u];if(VS.includes(u))continue;if(i&&m6.test(u)){typeof d=="function"?i.handlers[u]=d:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(d===void 0)continue;let{root:p,key:m,target:v}=a0(n,u);if(v===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${m}".`);if(v instanceof mp&&d instanceof mp)v.mask=d.mask;else if(v instanceof ut&&s6(d))v.set(d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&d!=null&&d.constructor&&v.constructor===d.constructor)v.copy(d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(d))typeof v.fromArray=="function"?v.fromArray(d):v.set(...d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof d=="number")typeof v.setScalar=="function"?v.setScalar(d):v.set(d);else{var l;p[m]=d,a&&!a.linear&&p6.includes(m)&&(l=p[m])!=null&&l.isTexture&&p[m].format===Xa&&p[m].type===wr&&(p[m].colorSpace=ja)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const u=i.object,d=a.internal.interaction.indexOf(u);d>-1&&a.internal.interaction.splice(d,1),i.eventCount&&u.raycast!==null&&a.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Dp(i),n}function Dp(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function g6(n,e){n.manual||(gD(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const gs=n=>n==null?void 0:n.isObject3D;function Yy(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function _D(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function v6(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{_D(t.capturedMap,e,i,a)})}function y6(n){function e(d){const{internal:p}=n.getState(),m=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function t(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(d,p){const m=n.getState(),v=new Set,x=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let S=0;S<_.length;S++){const w=Hd(_[S]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function M(S){const w=Hd(S);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var B;w.events.compute==null||w.events.compute(d,w,(B=w.previousRoot)==null?void 0:B.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(S,!0):[]}let C=_.flatMap(M).sort((S,w)=>{const B=Hd(S.object),D=Hd(w.object);return!B||!D?S.distance-w.distance:D.events.priority-B.events.priority||S.distance-w.distance}).filter(S=>{const w=Yy(S);return v.has(w)?!1:(v.add(w),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const S of C){let w=S.object;for(;w;){var T;(T=w.__r3f)!=null&&T.eventCount&&x.push({...S,eventObject:w}),w=w.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let S of m.internal.capturedMap.get(d.pointerId).values())v.has(Yy(S.intersection))||x.push(S.intersection);return x}function a(d,p,m,v){if(d.length){const x={stopped:!1};for(const _ of d){let M=Hd(_.object);if(M||_.object.traverseAncestors(C=>{const T=Hd(C);if(T)return M=T,!1}),M){const{raycaster:C,pointer:T,camera:S,internal:w}=M,B=new J(T.x,T.y,0).unproject(S),D=P=>{var U,X;return(U=(X=w.capturedMap.get(P))==null?void 0:X.has(_.eventObject))!=null?U:!1},O=P=>{const U={intersection:_,target:p.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(_.eventObject,U):w.capturedMap.set(P,new Map([[_.eventObject,U]])),p.target.setPointerCapture(P)},I=P=>{const U=w.capturedMap.get(P);U&&_D(w.capturedMap,_.eventObject,U,P)};let F={};for(let P in p){let U=p[P];typeof U!="function"&&(F[P]=U)}let z={..._,...F,pointer:T,intersections:d,stopped:x.stopped,delta:m,unprojectedPoint:B,ray:C.ray,camera:S,stopPropagation(){const P="pointerId"in p&&w.capturedMap.get(p.pointerId);if((!P||P.has(_.eventObject))&&(z.stopped=x.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===_.eventObject))){const U=d.slice(0,d.indexOf(_));r([...U,_])}},target:{hasPointerCapture:D,setPointerCapture:O,releasePointerCapture:I},currentTarget:{hasPointerCapture:D,setPointerCapture:O,releasePointerCapture:I},nativeEvent:p};if(v(z),x.stopped===!0)break}}}return d}function r(d){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!d.length||!d.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(Yy(m)),x!=null&&x.eventCount){const _=x.handlers,M={...m,intersections:d};_.onPointerOut==null||_.onPointerOut(M),_.onPointerLeave==null||_.onPointerLeave(M)}}}function l(d,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function u(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=m;const _=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",T=i(m,_?t:void 0),S=M?e(m):0;d==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=T.map(B=>B.eventObject)),M&&!T.length&&S<=2&&(l(m,x.interaction),v&&v(m)),_&&r(T);function w(B){const D=B.eventObject,O=D.__r3f;if(!(O!=null&&O.eventCount))return;const I=O.handlers;if(_){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const F=Yy(B),z=x.hovered.get(F);z?z.stopped&&B.stopPropagation():(x.hovered.set(F,B),I.onPointerOver==null||I.onPointerOver(B),I.onPointerEnter==null||I.onPointerEnter(B))}I.onPointerMove==null||I.onPointerMove(B)}else{const F=I[d];F?(!M||x.initialHits.includes(D))&&(l(m,x.interaction.filter(z=>!x.initialHits.includes(z))),F(B)):M&&x.initialHits.includes(D)&&l(m,x.interaction.filter(z=>!x.initialHits.includes(z)))}}a(T,m,S,w)}}return{handlePointer:u}}const c2=n=>!!(n!=null&&n.render),AD=q.createContext(null),x6=(n,e)=>{const t=j5((u,d)=>{const p=new J,m=new J,v=new J;function x(S=d().camera,w=m,B=d().size){const{width:D,height:O,top:I,left:F}=B,z=D/O;w.isVector3?v.copy(w):v.set(...w);const P=S.getWorldPosition(p).distanceTo(v);if(gD(S))return{width:D/S.zoom,height:O/S.zoom,top:I,left:F,factor:1,distance:P,aspect:z};{const U=S.fov*Math.PI/180,X=2*Math.tan(U/2)*P,ce=X*(D/O);return{width:ce,height:X,top:I,left:F,factor:D/ce,distance:P,aspect:z}}}let _;const M=S=>u(w=>({performance:{...w.performance,current:S}})),C=new Fe;return{set:u,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(d(),S),advance:(S,w)=>e(S,w,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new p1,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=d();_&&clearTimeout(_),S.performance.current!==S.performance.min&&M(S.performance.min),_=setTimeout(()=>M(d().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:S=>u(w=>({...w,events:{...w.events,...S}})),setSize:(S,w,B=0,D=0)=>{const O=d().camera,I={width:S,height:w,top:B,left:D};u(F=>({size:I,viewport:{...F.viewport,...x(O,m,I)}}))},setDpr:S=>u(w=>{const B=yD(S);return{viewport:{...w.viewport,dpr:B,initialDpr:w.viewport.initialDpr||B}}}),setFrameloop:(S="always")=>{const w=d().clock;w.stop(),w.elapsedTime=0,S!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:q.createRef(),active:!1,frames:0,priority:0,subscribe:(S,w,B)=>{const D=d().internal;return D.priority=D.priority+(w>0?1:0),D.subscribers.push({ref:S,priority:w,store:B}),D.subscribers=D.subscribers.sort((O,I)=>O.priority-I.priority),()=>{const O=d().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(w>0?1:0),O.subscribers=O.subscribers.filter(I=>I.ref!==S))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:d,viewport:p,gl:m,set:v}=t.getState();if(d.width!==a.width||d.height!==a.height||p.dpr!==r){a=d,r=p.dpr,g6(u,d),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,x)}u!==l&&(l=u,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function bD(){const n=q.useContext(AD);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ns(n=t=>t,e){return bD()(n,e)}function SD(n,e=0){const t=bD(),i=t.getState().internal.subscribe,a=vD(n);return E0(()=>i(a,e,t),[e,i,t]),null}const u2=new WeakMap,_6=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function MD(n,e){return function(t,...i){let a;return _6(t)?(a=u2.get(t),a||(a=new t,u2.set(t,a))):a=t,n&&n(a),Promise.all(i.map(r=>new Promise((l,u)=>a.load(r,d=>{gs(d==null?void 0:d.scene)&&Object.assign(d,c6(d.scene)),l(d)},e,d=>u(new Error(`Could not load ${r}: ${d==null?void 0:d.message}`))))))}}function T0(n,e,t,i){const a=Array.isArray(e)?e:[e],r=Y5(MD(t,i),[n,...a],{equal:ri.equ});return Array.isArray(e)?r:r[0]}T0.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return q5(MD(t),[n,...i])};T0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return J5([n,...t])};function A6(n){const e=$5(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:q.version}),e}const ED=0,xp={},b6=/^three(?=[A-Z])/,eA=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let S6=0;const M6=n=>typeof n=="function";function E6(n){if(M6(n)){const e=`${S6++}`;return xp[e]=n,e}else Object.assign(xp,n)}function TD(n,e){const t=eA(n),i=xp[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function T6(n,e,t){var i;return n=eA(n)in xp?n:n.replace(b6,""),TD(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,n_(e.object,t,n,e)}function C6(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?a_(n.parent,n):gs(n.object)&&(n.object.visible=!1),n.isHidden=!0,Dp(n)}}function CD(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?i_(n.parent,n):gs(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Dp(n)}}function b1(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const l=xp[eA(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(ru(e.object,e.props),e.props.attach)i_(n,e);else if(gs(e.object)&&gs(n.object)){const l=n.object.children.indexOf(t==null?void 0:t.object);if(t&&l!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const d=u<l?l-1:l;n.object.children.splice(d,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)b1(e,l);Dp(e)}}function qb(n,e){e&&(e.parent=n,n.children.push(e),b1(n,e))}function f2(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),b1(n,e,t)}function RD(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():r2.unstable_scheduleCallback(r2.unstable_IdlePriority,e)}}function kS(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?a_(n,e):gs(e.object)&&gs(n.object)&&(n.object.remove(e.object),v6(mD(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const l=e.children[r];kS(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&RD(e.object),t===void 0&&Dp(e)}function R6(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const cx=[];function w6(){for(const[t]of cx){const i=t.parent;if(i){t.props.attach?a_(i,t):gs(t.object)&&gs(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?a_(t,a):gs(a.object)&&gs(t.object)&&t.object.remove(a.object)}t.isHidden&&CD(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&RD(t.object)}for(const[t,i,a]of cx){t.props=i;const r=t.parent;if(r){var n,e;const l=xp[eA(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,R6(a,t.object),ru(t.object,t.props),t.props.attach?i_(r,t):gs(t.object)&&gs(r.object)&&r.object.add(t.object);for(const u of t.children)u.props.attach?i_(t,u):gs(u.object)&&gs(t.object)&&t.object.add(u.object);Dp(t)}}cx.length=0}const Jb=()=>{},h2={};let qy=ED;const B6=0,D6=4,jS=A6({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:T6,removeChild:kS,appendChild:qb,appendInitialChild:qb,insertBefore:f2,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||qb(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||kS(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||f2(i,e,t)},getRootHostContext:()=>h2,getChildHostContext:()=>h2,commitUpdate(n,e,t,i,a){var r,l,u;TD(e,i);let d=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((l=t.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((m,v)=>{var x;return m!==((x=t.args)==null?void 0:x[v])}))&&(d=!0),d)cx.push([n,{...i},a]);else{const m=d6(n,i);Object.keys(m).length&&(Object.assign(n.props,m),ru(n.object,m))}(a.sibling===null||(a.flags&D6)===B6)&&w6()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>n_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:C6,unhideInstance:CD,createTextInstance:Jb,hideTextInstance:Jb,unhideTextInstance:Jb,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:q.createContext(null),setCurrentUpdatePriority(n){qy=n},getCurrentUpdatePriority(){return qy},resolveUpdatePriority(){var n;if(qy!==ED)return qy;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sx.ContinuousEventPriority;default:return sx.DefaultEventPriority}},resetFormInstance(){}}),ih=new Map,zd={objects:"shallow",strict:!1};function N6(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function L6(n){const e=ih.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||x6(qS,p2),l=t||jS.createContainer(r,sx.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||ih.set(n,{fiber:l,store:r});let u,d,p=!1,m=null;return{async configure(v={}){let x;m=new Promise(Y=>x=Y);let{gl:_,size:M,scene:C,events:T,onCreated:S,shadows:w=!1,linear:B=!1,flat:D=!1,legacy:O=!1,orthographic:I=!1,frameloop:F="always",dpr:z=[1,2],performance:P,raycaster:U,camera:X,onPointerMissed:ce}=v,se=r.getState(),pe=se.gl;if(!se.gl){const Y={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},oe=typeof _=="function"?await _(Y):_;c2(oe)?pe=oe:pe=new oD({...Y,..._}),se.set({gl:pe})}let Ae=se.raycaster;Ae||se.set({raycaster:Ae=new QB});const{params:j,...Z}=U||{};if(ri.equ(Z,Ae,zd)||ru(Ae,{...Z}),ri.equ(j,Ae.params,zd)||ru(Ae,{params:{...Ae.params,...j}}),!se.camera||se.camera===d&&!ri.equ(d,X,zd)){d=X;const Y=X==null?void 0:X.isCamera,oe=Y?X:I?new ec(0,0,0,0,.1,1e3):new Ti(75,0,.1,1e3);Y||(oe.position.z=5,X&&(ru(oe,X),oe.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(oe.manual=!0,oe.updateProjectionMatrix())),!se.camera&&!(X!=null&&X.rotation)&&oe.lookAt(0,0,0)),se.set({camera:oe}),Ae.camera=oe}if(!se.scene){let Y;C!=null&&C.isScene?(Y=C,n_(Y,r,"",{})):(Y=new XM,n_(Y,r,"",{}),C&&ru(Y,C)),se.set({scene:Y})}T&&!se.events.handlers&&se.set({events:T(r)});const Q=N6(n,M);if(ri.equ(Q,se.size,zd)||se.setSize(Q.width,Q.height,Q.top,Q.left),z&&se.viewport.dpr!==yD(z)&&se.setDpr(z),se.frameloop!==F&&se.setFrameloop(F),se.onPointerMissed||se.set({onPointerMissed:ce}),P&&!ri.equ(P,se.performance,zd)&&se.set(Y=>({performance:{...Y.performance,...P}})),!se.xr){var ve;const Y=(De,ue)=>{const Ue=r.getState();Ue.frameloop!=="never"&&p2(De,!0,Ue,ue)},oe=()=>{const De=r.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?Y:null),De.gl.xr.isPresenting||qS(De)},Be={connect(){const De=r.getState().gl;De.xr.addEventListener("sessionstart",oe),De.xr.addEventListener("sessionend",oe)},disconnect(){const De=r.getState().gl;De.xr.removeEventListener("sessionstart",oe),De.xr.removeEventListener("sessionend",oe)}};typeof((ve=pe.xr)==null?void 0:ve.addEventListener)=="function"&&Be.connect(),se.set({xr:Be})}if(pe.shadowMap){const Y=pe.shadowMap.enabled,oe=pe.shadowMap.type;if(pe.shadowMap.enabled=!!w,ri.boo(w))pe.shadowMap.type=Dg;else if(ri.str(w)){var ye;const Be={basic:hw,percentage:x_,soft:Dg,variance:oo};pe.shadowMap.type=(ye=Be[w])!=null?ye:Dg}else ri.obj(w)&&Object.assign(pe.shadowMap,w);(Y!==pe.shadowMap.enabled||oe!==pe.shadowMap.type)&&(pe.shadowMap.needsUpdate=!0)}return bn.enabled=!O,p||(pe.outputColorSpace=B?fu:ja,pe.toneMapping=D?tl:BM),se.legacy!==O&&se.set(()=>({legacy:O})),se.linear!==B&&se.set(()=>({linear:B})),se.flat!==D&&se.set(()=>({flat:D})),_&&!ri.fun(_)&&!c2(_)&&!ri.equ(_,pe,zd)&&ru(pe,_),u=S,p=!0,x(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{jS.updateContainer(W.jsx(U6,{store:r,children:v,onCreated:u,rootElement:n}),l,null,()=>{})}),r},unmount(){wD(n)}}}function U6({store:n,children:e,onCreated:t,rootElement:i}){return E0(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),W.jsx(AD.Provider,{value:n,children:e})}function wD(n,e){const t=ih.get(n),i=t==null?void 0:t.fiber;if(i){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),jS.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,l,u,d;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(l=r.renderLists)==null||l.dispose==null||l.dispose(),(u=a.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(d=a.gl)!=null&&d.xr&&a.xr.disconnect(),u6(a.scene),ih.delete(n)}catch{}},500)})}}const O6=new Set,P6=new Set,I6=new Set;function Kb(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zg(n,e){switch(n){case"before":return Kb(O6,e);case"after":return Kb(P6,e);case"tail":return Kb(I6,e)}}let Wb,Zb;function XS(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Wb=e.internal.subscribers;for(let a=0;a<Wb.length;a++)Zb=Wb[a],Zb.ref.current(Zb.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let s_=!1,YS=!1,Qb,d2,Gd;function BD(n){d2=requestAnimationFrame(BD),s_=!0,Qb=0,zg("before",n),YS=!0;for(const t of ih.values()){var e;Gd=t.store.getState(),Gd.internal.active&&(Gd.frameloop==="always"||Gd.internal.frames>0)&&!((e=Gd.gl.xr)!=null&&e.isPresenting)&&(Qb+=XS(n,Gd))}if(YS=!1,zg("after",n),Qb===0)return zg("tail",n),s_=!1,cancelAnimationFrame(d2)}function qS(n,e=1){var t;if(!n)return ih.forEach(i=>qS(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):YS?n.internal.frames=2:n.internal.frames=1,s_||(s_=!0,requestAnimationFrame(BD)))}function p2(n,e=!0,t,i){if(e&&zg("before",n),t)XS(n,t,i);else for(const a of ih.values())XS(n,a.store.getState());e&&zg("after",n)}const $b={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function F6(n){const{handlePointer:e}=y6(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys($b).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const l=a.handlers[r],[u,d]=$b[r];t.addEventListener(u,l,{passive:d})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[l]=$b[a];i.connected.removeEventListener(l,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function m2(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function H6({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,l]=q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),d=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=q.useRef(!1);q.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,x,_]=q.useMemo(()=>{const S=()=>{if(!u.current.element)return;const{left:w,top:B,width:D,height:O,bottom:I,right:F,x:z,y:P}=u.current.element.getBoundingClientRect(),U={left:w,top:B,width:D,height:O,bottom:I,right:F,x:z,y:P};u.current.element instanceof HTMLElement&&i&&(U.height=u.current.element.offsetHeight,U.width=u.current.element.offsetWidth),Object.freeze(U),m.current&&!k6(u.current.lastBounds,U)&&l(u.current.lastBounds=U)};return[S,p?m2(S,p):S,d?m2(S,d):S]},[l,i,d,p]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",_,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function C(){u.current.element&&(u.current.resizeObserver=new a(_),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(S=>S.addEventListener("scroll",_,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=S=>{!S||S===u.current.element||(M(),u.current.element=S,u.current.scrollContainers=DD(S),C())};return G6(_,!!e),z6(x),q.useEffect(()=>{M(),C()},[e,_,x]),q.useEffect(()=>M,[]),[T,r,v]}function z6(n){q.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function G6(n,e){q.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function DD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...DD(n.parentElement)]}const V6=["x","y","top","bottom","left","right","width","height"],k6=(n,e)=>V6.every(t=>n[t]===e[t]);function j6({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:l=F6,eventSource:u,eventPrefix:d,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:M,dpr:C,performance:T,raycaster:S,camera:w,scene:B,onPointerMissed:D,onCreated:O,...I}){q.useMemo(()=>E6(U5),[]);const F=r6(),[z,P]=H6({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=q.useRef(null),X=q.useRef(null);q.useImperativeHandle(n,()=>U.current);const ce=vD(D),[se,pe]=q.useState(!1),[Ae,j]=q.useState(!1);if(se)throw se;if(Ae)throw Ae;const Z=q.useRef(null);E0(()=>{const ve=U.current;if(P.width>0&&P.height>0&&ve){Z.current||(Z.current=L6(ve));async function ye(){await Z.current.configure({gl:r,scene:B,events:l,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:M,dpr:C,performance:T,raycaster:S,camera:w,size:P,onPointerMissed:(...Y)=>ce.current==null?void 0:ce.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(u?a6(u)?u.current:u:X.current),d&&Y.setEvents({compute:(oe,Be)=>{const De=oe[d+"X"],ue=oe[d+"Y"];Be.pointer.set(De/Be.size.width*2-1,-(ue/Be.size.height)*2+1),Be.raycaster.setFromCamera(Be.pointer,Be.camera)}}),O==null||O(Y)}}),Z.current.render(W.jsx(F,{children:W.jsx(l6,{set:j,children:W.jsx(q.Suspense,{fallback:W.jsx(o6,{set:pe}),children:e??null})})}))}ye()}}),q.useEffect(()=>{const ve=U.current;if(ve)return()=>wD(ve)},[]);const Q=u?"none":"auto";return W.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...a},...I,children:W.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function X6(n){return W.jsx(dD,{children:W.jsx(j6,{...n})})}function r_(){return r_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},r_.apply(null,arguments)}const Y6=n=>n;function q6(n,e=Y6){const t=Qn.useSyncExternalStore(n.subscribe,Qn.useCallback(()=>e(n.getState()),[n,e]),Qn.useCallback(()=>e(n.getInitialState()),[n,e]));return Qn.useDebugValue(t),t}const g2=n=>{const e=lD(n),t=i=>q6(e,i);return Object.assign(t,e),t},J6=(n=>n?g2(n):g2),K6=parseInt(p0.replace(/\D+/g,""));function v2(n,e){if(e===kw)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Zx||e===HM){let t=n.getIndex();if(t===null){const l=[],u=n.getAttribute("position");if(u!==void 0){for(let d=0;d<u.count;d++)l.push(d);n.setIndex(l),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,a=[];if(t)if(e===Zx)for(let l=1;l<=i;l++)a.push(t.getX(0)),a.push(t.getX(l)),a.push(t.getX(l+1));else for(let l=0;l<i;l++)l%2===0?(a.push(t.getX(l)),a.push(t.getX(l+1)),a.push(t.getX(l+2))):(a.push(t.getX(l+2)),a.push(t.getX(l+1)),a.push(t.getX(l)));a.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(a),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var W6=Object.defineProperty,Z6=(n,e,t)=>e in n?W6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Q6=(n,e,t)=>(Z6(n,e+"",t),t);class $6{constructor(){Q6(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}}var e8=Object.defineProperty,t8=(n,e,t)=>e in n?e8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pt=(n,e,t)=>(t8(n,typeof e!="symbol"?e+"":e,t),t);const Jy=new oh,y2=new ql,n8=Math.cos(70*(Math.PI/180)),x2=(n,e)=>(n%e+e)%e;let i8=class extends $6{constructor(e,t){super(),Pt(this,"object"),Pt(this,"domElement"),Pt(this,"enabled",!0),Pt(this,"target",new J),Pt(this,"minDistance",0),Pt(this,"maxDistance",1/0),Pt(this,"minZoom",0),Pt(this,"maxZoom",1/0),Pt(this,"minPolarAngle",0),Pt(this,"maxPolarAngle",Math.PI),Pt(this,"minAzimuthAngle",-1/0),Pt(this,"maxAzimuthAngle",1/0),Pt(this,"enableDamping",!1),Pt(this,"dampingFactor",.05),Pt(this,"enableZoom",!0),Pt(this,"zoomSpeed",1),Pt(this,"enableRotate",!0),Pt(this,"rotateSpeed",1),Pt(this,"enablePan",!0),Pt(this,"panSpeed",1),Pt(this,"screenSpacePanning",!0),Pt(this,"keyPanSpeed",7),Pt(this,"zoomToCursor",!1),Pt(this,"autoRotate",!1),Pt(this,"autoRotateSpeed",2),Pt(this,"reverseOrbit",!1),Pt(this,"reverseHorizontalOrbit",!1),Pt(this,"reverseVerticalOrbit",!1),Pt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Pt(this,"mouseButtons",{LEFT:Bf.ROTATE,MIDDLE:Bf.DOLLY,RIGHT:Bf.PAN}),Pt(this,"touches",{ONE:Df.ROTATE,TWO:Df.DOLLY_PAN}),Pt(this,"target0"),Pt(this,"position0"),Pt(this,"zoom0"),Pt(this,"_domElementKeyEvents",null),Pt(this,"getPolarAngle"),Pt(this,"getAzimuthalAngle"),Pt(this,"setPolarAngle"),Pt(this,"setAzimuthalAngle"),Pt(this,"getDistance"),Pt(this,"getZoomScale"),Pt(this,"listenToKeyEvents"),Pt(this,"stopListenToKeyEvents"),Pt(this,"saveState"),Pt(this,"reset"),Pt(this,"update"),Pt(this,"connect"),Pt(this,"dispose"),Pt(this,"dollyIn"),Pt(this,"dollyOut"),Pt(this,"getScale"),Pt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=$=>{let xe=x2($,2*Math.PI),et=m.phi;et<0&&(et+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let te=Math.abs(xe-et);2*Math.PI-te<te&&(xe<et?xe+=2*Math.PI:et+=2*Math.PI),v.phi=xe-et,i.update()},this.setAzimuthalAngle=$=>{let xe=x2($,2*Math.PI),et=m.theta;et<0&&(et+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let te=Math.abs(xe-et);2*Math.PI-te<te&&(xe<et?xe+=2*Math.PI:et+=2*Math.PI),v.theta=xe-et,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=$=>{$.addEventListener("keydown",we),this._domElementKeyEvents=$},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",we),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(a),i.update(),d=u.NONE},this.update=(()=>{const $=new J,xe=new J(0,1,0),et=new pa().setFromUnitVectors(e.up,xe),te=et.clone().invert(),Ve=new J,We=new pa,rt=2*Math.PI;return function(){const He=i.object.position;et.setFromUnitVectors(e.up,xe),te.copy(et).invert(),$.copy(He).sub(i.target),$.applyQuaternion(et),m.setFromVector3($),i.autoRotate&&d===u.NONE&&pe(ce()),i.enableDamping?(m.theta+=v.theta*i.dampingFactor,m.phi+=v.phi*i.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let ot=i.minAzimuthAngle,St=i.maxAzimuthAngle;isFinite(ot)&&isFinite(St)&&(ot<-Math.PI?ot+=rt:ot>Math.PI&&(ot-=rt),St<-Math.PI?St+=rt:St>Math.PI&&(St-=rt),ot<=St?m.theta=Math.max(ot,Math.min(St,m.theta)):m.theta=m.theta>(ot+St)/2?Math.max(ot,m.theta):Math.min(St,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(_,i.dampingFactor):i.target.add(_),i.zoomToCursor&&P||i.object.isOrthographicCamera?m.radius=Be(m.radius):m.radius=Be(m.radius*x),$.setFromSpherical(m),$.applyQuaternion(te),He.copy(i.target).add($),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,_.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),_.set(0,0,0));let en=!1;if(i.zoomToCursor&&P){let Xt=null;if(i.object instanceof Ti&&i.object.isPerspectiveCamera){const $n=$.length();Xt=Be($n*x);const Ui=$n-Xt;i.object.position.addScaledVector(F,Ui),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const $n=new J(z.x,z.y,0);$n.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix(),en=!0;const Ui=new J(z.x,z.y,0);Ui.unproject(i.object),i.object.position.sub(Ui).add($n),i.object.updateMatrixWorld(),Xt=$.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Xt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Xt).add(i.object.position):(Jy.origin.copy(i.object.position),Jy.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Jy.direction))<n8?e.lookAt(i.target):(y2.setFromNormalAndCoplanarPoint(i.object.up,i.target),Jy.intersectPlane(y2,i.target))))}else i.object instanceof ec&&i.object.isOrthographicCamera&&(en=x!==1,en&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix()));return x=1,P=!1,en||Ve.distanceToSquared(i.object.position)>p||8*(1-We.dot(i.object.quaternion))>p?(i.dispatchEvent(a),Ve.copy(i.object.position),We.copy(i.object.quaternion),en=!1,!0):!1}})(),this.connect=$=>{i.domElement=$,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",pt),i.domElement.addEventListener("pointerdown",Ut),i.domElement.addEventListener("pointercancel",H),i.domElement.addEventListener("wheel",Xe)},this.dispose=()=>{var $,xe,et,te,Ve,We;i.domElement&&(i.domElement.style.touchAction="auto"),($=i.domElement)==null||$.removeEventListener("contextmenu",pt),(xe=i.domElement)==null||xe.removeEventListener("pointerdown",Ut),(et=i.domElement)==null||et.removeEventListener("pointercancel",H),(te=i.domElement)==null||te.removeEventListener("wheel",Xe),(Ve=i.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",K),(We=i.domElement)==null||We.ownerDocument.removeEventListener("pointerup",H),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",we)};const i=this,a={type:"change"},r={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=u.NONE;const p=1e-6,m=new FS,v=new FS;let x=1;const _=new J,M=new Fe,C=new Fe,T=new Fe,S=new Fe,w=new Fe,B=new Fe,D=new Fe,O=new Fe,I=new Fe,F=new J,z=new Fe;let P=!1;const U=[],X={};function ce(){return 2*Math.PI/60/60*i.autoRotateSpeed}function se(){return Math.pow(.95,i.zoomSpeed)}function pe($){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=$:v.theta-=$}function Ae($){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=$:v.phi-=$}const j=(()=>{const $=new J;return function(et,te){$.setFromMatrixColumn(te,0),$.multiplyScalar(-et),_.add($)}})(),Z=(()=>{const $=new J;return function(et,te){i.screenSpacePanning===!0?$.setFromMatrixColumn(te,1):($.setFromMatrixColumn(te,0),$.crossVectors(i.object.up,$)),$.multiplyScalar(et),_.add($)}})(),Q=(()=>{const $=new J;return function(et,te){const Ve=i.domElement;if(Ve&&i.object instanceof Ti&&i.object.isPerspectiveCamera){const We=i.object.position;$.copy(We).sub(i.target);let rt=$.length();rt*=Math.tan(i.object.fov/2*Math.PI/180),j(2*et*rt/Ve.clientHeight,i.object.matrix),Z(2*te*rt/Ve.clientHeight,i.object.matrix)}else Ve&&i.object instanceof ec&&i.object.isOrthographicCamera?(j(et*(i.object.right-i.object.left)/i.object.zoom/Ve.clientWidth,i.object.matrix),Z(te*(i.object.top-i.object.bottom)/i.object.zoom/Ve.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ve($){i.object instanceof Ti&&i.object.isPerspectiveCamera||i.object instanceof ec&&i.object.isOrthographicCamera?x=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ye($){ve(x/$)}function Y($){ve(x*$)}function oe($){if(!i.zoomToCursor||!i.domElement)return;P=!0;const xe=i.domElement.getBoundingClientRect(),et=$.clientX-xe.left,te=$.clientY-xe.top,Ve=xe.width,We=xe.height;z.x=et/Ve*2-1,z.y=-(te/We)*2+1,F.set(z.x,z.y,1).unproject(i.object).sub(i.object.position).normalize()}function Be($){return Math.max(i.minDistance,Math.min(i.maxDistance,$))}function De($){M.set($.clientX,$.clientY)}function ue($){oe($),D.set($.clientX,$.clientY)}function Ue($){S.set($.clientX,$.clientY)}function Ie($){C.set($.clientX,$.clientY),T.subVectors(C,M).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(pe(2*Math.PI*T.x/xe.clientHeight),Ae(2*Math.PI*T.y/xe.clientHeight)),M.copy(C),i.update()}function lt($){O.set($.clientX,$.clientY),I.subVectors(O,D),I.y>0?ye(se()):I.y<0&&Y(se()),D.copy(O),i.update()}function at($){w.set($.clientX,$.clientY),B.subVectors(w,S).multiplyScalar(i.panSpeed),Q(B.x,B.y),S.copy(w),i.update()}function Tt($){oe($),$.deltaY<0?Y(se()):$.deltaY>0&&ye(se()),i.update()}function pn($){let xe=!1;switch($.code){case i.keys.UP:Q(0,i.keyPanSpeed),xe=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),xe=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),xe=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),xe=!0;break}xe&&($.preventDefault(),i.update())}function Bt(){if(U.length==1)M.set(U[0].pageX,U[0].pageY);else{const $=.5*(U[0].pageX+U[1].pageX),xe=.5*(U[0].pageY+U[1].pageY);M.set($,xe)}}function ee(){if(U.length==1)S.set(U[0].pageX,U[0].pageY);else{const $=.5*(U[0].pageX+U[1].pageX),xe=.5*(U[0].pageY+U[1].pageY);S.set($,xe)}}function Ge(){const $=U[0].pageX-U[1].pageX,xe=U[0].pageY-U[1].pageY,et=Math.sqrt($*$+xe*xe);D.set(0,et)}function Ne(){i.enableZoom&&Ge(),i.enablePan&&ee()}function Je(){i.enableZoom&&Ge(),i.enableRotate&&Bt()}function Oe($){if(U.length==1)C.set($.pageX,$.pageY);else{const et=vt($),te=.5*($.pageX+et.x),Ve=.5*($.pageY+et.y);C.set(te,Ve)}T.subVectors(C,M).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(pe(2*Math.PI*T.x/xe.clientHeight),Ae(2*Math.PI*T.y/xe.clientHeight)),M.copy(C)}function it($){if(U.length==1)w.set($.pageX,$.pageY);else{const xe=vt($),et=.5*($.pageX+xe.x),te=.5*($.pageY+xe.y);w.set(et,te)}B.subVectors(w,S).multiplyScalar(i.panSpeed),Q(B.x,B.y),S.copy(w)}function qe($){const xe=vt($),et=$.pageX-xe.x,te=$.pageY-xe.y,Ve=Math.sqrt(et*et+te*te);O.set(0,Ve),I.set(0,Math.pow(O.y/D.y,i.zoomSpeed)),ye(I.y),D.copy(O)}function $e($){i.enableZoom&&qe($),i.enablePan&&it($)}function Dt($){i.enableZoom&&qe($),i.enableRotate&&Oe($)}function Ut($){var xe,et;i.enabled!==!1&&(U.length===0&&((xe=i.domElement)==null||xe.ownerDocument.addEventListener("pointermove",K),(et=i.domElement)==null||et.ownerDocument.addEventListener("pointerup",H)),gt($),$.pointerType==="touch"?xt($):ge($))}function K($){i.enabled!==!1&&($.pointerType==="touch"?tt($):Re($))}function H($){var xe,et,te;Ye($),U.length===0&&((xe=i.domElement)==null||xe.releasePointerCapture($.pointerId),(et=i.domElement)==null||et.ownerDocument.removeEventListener("pointermove",K),(te=i.domElement)==null||te.ownerDocument.removeEventListener("pointerup",H)),i.dispatchEvent(l),d=u.NONE}function ge($){let xe;switch($.button){case 0:xe=i.mouseButtons.LEFT;break;case 1:xe=i.mouseButtons.MIDDLE;break;case 2:xe=i.mouseButtons.RIGHT;break;default:xe=-1}switch(xe){case Bf.DOLLY:if(i.enableZoom===!1)return;ue($),d=u.DOLLY;break;case Bf.ROTATE:if($.ctrlKey||$.metaKey||$.shiftKey){if(i.enablePan===!1)return;Ue($),d=u.PAN}else{if(i.enableRotate===!1)return;De($),d=u.ROTATE}break;case Bf.PAN:if($.ctrlKey||$.metaKey||$.shiftKey){if(i.enableRotate===!1)return;De($),d=u.ROTATE}else{if(i.enablePan===!1)return;Ue($),d=u.PAN}break;default:d=u.NONE}d!==u.NONE&&i.dispatchEvent(r)}function Re($){if(i.enabled!==!1)switch(d){case u.ROTATE:if(i.enableRotate===!1)return;Ie($);break;case u.DOLLY:if(i.enableZoom===!1)return;lt($);break;case u.PAN:if(i.enablePan===!1)return;at($);break}}function Xe($){i.enabled===!1||i.enableZoom===!1||d!==u.NONE&&d!==u.ROTATE||($.preventDefault(),i.dispatchEvent(r),Tt($),i.dispatchEvent(l))}function we($){i.enabled===!1||i.enablePan===!1||pn($)}function xt($){switch(Qe($),U.length){case 1:switch(i.touches.ONE){case Df.ROTATE:if(i.enableRotate===!1)return;Bt(),d=u.TOUCH_ROTATE;break;case Df.PAN:if(i.enablePan===!1)return;ee(),d=u.TOUCH_PAN;break;default:d=u.NONE}break;case 2:switch(i.touches.TWO){case Df.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ne(),d=u.TOUCH_DOLLY_PAN;break;case Df.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Je(),d=u.TOUCH_DOLLY_ROTATE;break;default:d=u.NONE}break;default:d=u.NONE}d!==u.NONE&&i.dispatchEvent(r)}function tt($){switch(Qe($),d){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;Oe($),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;it($),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;$e($),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Dt($),i.update();break;default:d=u.NONE}}function pt($){i.enabled!==!1&&$.preventDefault()}function gt($){U.push($)}function Ye($){delete X[$.pointerId];for(let xe=0;xe<U.length;xe++)if(U[xe].pointerId==$.pointerId){U.splice(xe,1);return}}function Qe($){let xe=X[$.pointerId];xe===void 0&&(xe=new Fe,X[$.pointerId]=xe),xe.set($.pageX,$.pageY)}function vt($){const xe=$.pointerId===U[0].pointerId?U[1]:U[0];return X[xe.pointerId]}this.dollyIn=($=se())=>{Y($),i.update()},this.dollyOut=($=se())=>{ye($),i.update()},this.getScale=()=>x,this.setScale=$=>{ve($),i.update()},this.getZoomScale=()=>se(),t!==void 0&&this.connect(t),this.update()}};function o_(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Gf="srgb",tc="srgb-linear",_2=3001,a8=3e3;class S1 extends Ja{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new c8(t)}),this.register(function(t){return new u8(t)}),this.register(function(t){return new x8(t)}),this.register(function(t){return new _8(t)}),this.register(function(t){return new A8(t)}),this.register(function(t){return new h8(t)}),this.register(function(t){return new d8(t)}),this.register(function(t){return new p8(t)}),this.register(function(t){return new m8(t)}),this.register(function(t){return new l8(t)}),this.register(function(t){return new g8(t)}),this.register(function(t){return new f8(t)}),this.register(function(t){return new y8(t)}),this.register(function(t){return new v8(t)}),this.register(function(t){return new r8(t)}),this.register(function(t){return new b8(t)}),this.register(function(t){return new S8(t)})}load(e,t,i,a){const r=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const p=lu.extractUrlBase(e);l=lu.resolveURL(p,this.path)}else l=lu.extractUrlBase(e);this.manager.itemStart(e);const u=function(p){a?a(p):console.error(p),r.manager.itemError(e),r.manager.itemEnd(e)},d=new $s(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(p){try{r.parse(p,l,function(m){t(m),r.manager.itemEnd(e)},u)}catch(m){u(m)}},i,u)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,a){let r;const l={},u={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o_(new Uint8Array(e.slice(0,4)))===ND){try{l[dn.KHR_BINARY_GLTF]=new M8(e)}catch(m){a&&a(m);return}r=JSON.parse(l[dn.KHR_BINARY_GLTF].content)}else r=JSON.parse(o_(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new I8(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const m=this.pluginCallbacks[p](d);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),u[m.name]=m,l[m.name]=!0}if(r.extensionsUsed)for(let p=0;p<r.extensionsUsed.length;++p){const m=r.extensionsUsed[p],v=r.extensionsRequired||[];switch(m){case dn.KHR_MATERIALS_UNLIT:l[m]=new o8;break;case dn.KHR_DRACO_MESH_COMPRESSION:l[m]=new E8(r,this.dracoLoader);break;case dn.KHR_TEXTURE_TRANSFORM:l[m]=new T8;break;case dn.KHR_MESH_QUANTIZATION:l[m]=new C8;break;default:v.indexOf(m)>=0&&u[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}d.setExtensions(l),d.setPlugins(u),d.parse(i,a)}parseAsync(e,t){const i=this;return new Promise(function(a,r){i.parse(e,t,a,r)})}}function s8(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const dn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class r8{constructor(e){this.parser=e,this.name=dn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,a=t.length;i<a;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let a=t.cache.get(i);if(a)return a;const r=t.json,d=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let p;const m=new ut(16777215);d.color!==void 0&&m.setRGB(d.color[0],d.color[1],d.color[2],tc);const v=d.range!==void 0?d.range:0;switch(d.type){case"directional":p=new h1(m),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new f1(m),p.distance=v;break;case"spot":p=new u1(m),p.distance=v,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,p.angle=d.spot.outerConeAngle,p.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return p.position.set(0,0,0),p.decay=2,Yl(p,d),d.intensity!==void 0&&(p.intensity=d.intensity),p.name=t.createUniqueName(d.name||"light_"+e),a=Promise.resolve(p),t.cache.add(i,a),a}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],u=(r.extensions&&r.extensions[this.name]||{}).light;return u===void 0?null:this._loadLight(u).then(function(d){return i._getNodeRef(t.cache,u,d)})}}class o8{constructor(){this.name=dn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ws}extendParams(e,t,i){const a=[];e.color=new ut(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const l=r.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],tc),e.opacity=l[3]}r.baseColorTexture!==void 0&&a.push(i.assignTexture(e,"map",r.baseColorTexture,Gf))}return Promise.all(a)}}class l8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class c8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const u=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Fe(u,u)}return Promise.all(r)}}class u8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class f8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(r)}}class h8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new ut(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=a.extensions[this.name];if(l.sheenColorFactor!==void 0){const u=l.sheenColorFactor;t.sheenColor.setRGB(u[0],u[1],u[2],tc)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",l.sheenColorTexture,Gf)),l.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(r)}}class d8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(r)}}class p8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const u=l.attenuationColor||[1,1,1];return t.attenuationColor=new ut().setRGB(u[0],u[1],u[2],tc),Promise.all(r)}}class m8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class g8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",l.specularTexture));const u=l.specularColorFactor||[1,1,1];return t.specularColor=new ut().setRGB(u[0],u[1],u[2],tc),l.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",l.specularColorTexture,Gf)),Promise.all(r)}}class v8{constructor(e){this.parser=e,this.name=dn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&r.push(i.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(r)}}class y8{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(r)}}class x8{constructor(e){this.parser=e,this.name=dn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,a=i.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const r=a.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,l)}}class _8{constructor(e){this.parser=e,this.name=dn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,a=i.json,r=a.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],u=a.images[l.source];let d=i.textureLoader;if(u.uri){const p=i.options.manager.getHandler(u.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,l.source,d);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class A8{constructor(e){this.parser=e,this.name=dn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,a=i.json,r=a.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],u=a.images[l.source];let d=i.textureLoader;if(u.uri){const p=i.options.manager.getHandler(u.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,l.source,d);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class b8{constructor(e){this.name=dn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const a=i.extensions[this.name],r=this.parser.getDependency("buffer",a.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(u){const d=a.byteOffset||0,p=a.byteLength||0,m=a.count,v=a.byteStride,x=new Uint8Array(u,d,p);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(m,v,x,a.mode,a.filter).then(function(_){return _.buffer}):l.ready.then(function(){const _=new ArrayBuffer(m*v);return l.decodeGltfBuffer(new Uint8Array(_),m,v,x,a.mode,a.filter),_})})}else return null}}class S8{constructor(e){this.name=dn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const a=t.meshes[i.mesh];for(const p of a.primitives)if(p.mode!==Mr.TRIANGLES&&p.mode!==Mr.TRIANGLE_STRIP&&p.mode!==Mr.TRIANGLE_FAN&&p.mode!==void 0)return null;const l=i.extensions[this.name].attributes,u=[],d={};for(const p in l)u.push(this.parser.getDependency("accessor",l[p]).then(m=>(d[p]=m,d[p])));return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then(p=>{const m=p.pop(),v=m.isGroup?m.children:[m],x=p[0].count,_=[];for(const M of v){const C=new It,T=new J,S=new pa,w=new J(1,1,1),B=new JM(M.geometry,M.material,x);for(let D=0;D<x;D++)d.TRANSLATION&&T.fromBufferAttribute(d.TRANSLATION,D),d.ROTATION&&S.fromBufferAttribute(d.ROTATION,D),d.SCALE&&w.fromBufferAttribute(d.SCALE,D),B.setMatrixAt(D,C.compose(T,S,w));for(const D in d)if(D==="_COLOR_0"){const O=d[D];B.instanceColor=new Qf(O.array,O.itemSize,O.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&M.geometry.setAttribute(D,d[D]);Sn.prototype.copy.call(B,M),this.parser.assignFinalMaterial(B),_.push(B)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const ND="glTF",Sg=12,A2={JSON:1313821514,BIN:5130562};class M8{constructor(e){this.name=dn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Sg);if(this.header={magic:o_(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ND)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Sg,a=new DataView(e,Sg);let r=0;for(;r<i;){const l=a.getUint32(r,!0);r+=4;const u=a.getUint32(r,!0);if(r+=4,u===A2.JSON){const d=new Uint8Array(e,Sg+r,l);this.content=o_(d)}else if(u===A2.BIN){const d=Sg+r;this.body=e.slice(d,d+l)}r+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class E8{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=dn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,a=this.dracoLoader,r=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,u={},d={},p={};for(const m in l){const v=JS[m]||m.toLowerCase();u[v]=l[m]}for(const m in e.attributes){const v=JS[m]||m.toLowerCase();if(l[m]!==void 0){const x=i.accessors[e.attributes[m]],_=ip[x.componentType];p[v]=_.name,d[v]=x.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(v,x){a.decodeDracoFile(m,function(_){for(const M in _.attributes){const C=_.attributes[M],T=d[M];T!==void 0&&(C.normalized=T)}v(_)},u,p,tc,x)})})}}class T8{constructor(){this.name=dn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class C8{constructor(){this.name=dn.KHR_MESH_QUANTIZATION}}class LD extends wp{constructor(e,t,i,a){super(e,t,i,a)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a*3+a;for(let l=0;l!==a;l++)t[l]=i[r+l];return t}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=u*2,p=u*3,m=a-t,v=(i-t)/m,x=v*v,_=x*v,M=e*p,C=M-p,T=-2*_+3*x,S=_-x,w=1-T,B=S-x+v;for(let D=0;D!==u;D++){const O=l[C+D+u],I=l[C+D+d]*m,F=l[M+D+u],z=l[M+D]*m;r[D]=w*O+B*I+T*F+S*z}return r}}const R8=new pa;class w8 extends LD{interpolate_(e,t,i,a){const r=super.interpolate_(e,t,i,a);return R8.fromArray(r).normalize().toArray(r),r}}const Mr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ip={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},b2={9728:da,9729:vi,9984:A_,9985:ep,9986:Pf,9987:Tr},S2={33071:Js,33648:rp,10497:uu},eS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},JS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...K6>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},iu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},B8={CUBICSPLINE:void 0,LINEAR:hp,STEP:fp},tS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function D8(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new M0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:sl})),n.DefaultMaterial}function Rf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Yl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function N8(n,e,t){let i=!1,a=!1,r=!1;for(let p=0,m=e.length;p<m;p++){const v=e[p];if(v.POSITION!==void 0&&(i=!0),v.NORMAL!==void 0&&(a=!0),v.COLOR_0!==void 0&&(r=!0),i&&a&&r)break}if(!i&&!a&&!r)return Promise.resolve(n);const l=[],u=[],d=[];for(let p=0,m=e.length;p<m;p++){const v=e[p];if(i){const x=v.POSITION!==void 0?t.getDependency("accessor",v.POSITION):n.attributes.position;l.push(x)}if(a){const x=v.NORMAL!==void 0?t.getDependency("accessor",v.NORMAL):n.attributes.normal;u.push(x)}if(r){const x=v.COLOR_0!==void 0?t.getDependency("accessor",v.COLOR_0):n.attributes.color;d.push(x)}}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(p){const m=p[0],v=p[1],x=p[2];return i&&(n.morphAttributes.position=m),a&&(n.morphAttributes.normal=v),r&&(n.morphAttributes.color=x),n.morphTargetsRelative=!0,n})}function L8(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,a=t.length;i<a;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U8(n){let e;const t=n.extensions&&n.extensions[dn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+nS(t.attributes):e=n.indices+":"+nS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,a=n.targets.length;i<a;i++)e+=":"+nS(n.targets[i]);return e}function nS(n){let e="";const t=Object.keys(n).sort();for(let i=0,a=t.length;i<a;i++)e+=t[i]+":"+n[t[i]]+";";return e}function KS(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function O8(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const P8=new It;class I8{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new s8,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,a=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,r=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||a&&r<98?this.textureLoader=new HB(this.options.manager):this.textureLoader=new qB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $s(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,a=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(l){const u={scene:l[0][a.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:a.asset,parser:i,userData:{}};return Rf(r,u,a),Yl(u,a),Promise.all(i._invokeAll(function(d){return d.afterRoot&&d.afterRoot(u)})).then(function(){for(const d of u.scenes)d.updateMatrixWorld();e(u)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let a=0,r=t.length;a<r;a++){const l=t[a].joints;for(let u=0,d=l.length;u<d;u++)e[l[u]].isBone=!0}for(let a=0,r=e.length;a<r;a++){const l=e[a];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(i[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const a=i.clone(),r=(l,u)=>{const d=this.associations.get(l);d!=null&&this.associations.set(u,d);for(const[p,m]of l.children.entries())r(m,u.children[p])};return r(i,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const a=e(t[i]);if(a)return a}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let a=0;a<t.length;a++){const r=e(t[a]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let a=this.cache.get(i);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":a=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":a=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":a=this.loadSkin(t);break;case"animation":a=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":a=this.loadCamera(t);break;default:if(a=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(i,a)}return a}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(a.map(function(r,l){return i.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[dn.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(r,l){i.load(lu.resolveURL(t.uri,a.path),r,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const a=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+a)})}loadAccessor(e){const t=this,i=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const l=eS[a.type],u=ip[a.componentType],d=a.normalized===!0,p=new u(a.count*l);return Promise.resolve(new wn(p,l,d))}const r=[];return a.bufferView!==void 0?r.push(this.getDependency("bufferView",a.bufferView)):r.push(null),a.sparse!==void 0&&(r.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(r).then(function(l){const u=l[0],d=eS[a.type],p=ip[a.componentType],m=p.BYTES_PER_ELEMENT,v=m*d,x=a.byteOffset||0,_=a.bufferView!==void 0?i.bufferViews[a.bufferView].byteStride:void 0,M=a.normalized===!0;let C,T;if(_&&_!==v){const S=Math.floor(x/_),w="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+S+":"+a.count;let B=t.cache.get(w);B||(C=new p(u,S*_,a.count*_/m),B=new y0(C,_/m),t.cache.add(w,B)),T=new hu(B,d,x%_/m,M)}else u===null?C=new p(a.count*d):C=new p(u,x,a.count*d),T=new wn(C,d,M);if(a.sparse!==void 0){const S=eS.SCALAR,w=ip[a.sparse.indices.componentType],B=a.sparse.indices.byteOffset||0,D=a.sparse.values.byteOffset||0,O=new w(l[1],B,a.sparse.count*S),I=new p(l[2],D,a.sparse.count*d);u!==null&&(T=new wn(T.array.slice(),T.itemSize,T.normalized));for(let F=0,z=O.length;F<z;F++){const P=O[F];if(T.setX(P,I[F*d]),d>=2&&T.setY(P,I[F*d+1]),d>=3&&T.setZ(P,I[F*d+2]),d>=4&&T.setW(P,I[F*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return T})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,l=t.images[r];let u=this.textureLoader;if(l.uri){const d=i.manager.getHandler(l.uri);d!==null&&(u=d)}return this.loadTextureImage(e,r,u)}loadTextureImage(e,t,i){const a=this,r=this.json,l=r.textures[e],u=r.images[t],d=(u.uri||u.bufferView)+":"+l.sampler;if(this.textureCache[d])return this.textureCache[d];const p=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=l.name||u.name||"",m.name===""&&typeof u.uri=="string"&&u.uri.startsWith("data:image/")===!1&&(m.name=u.uri);const x=(r.samplers||{})[l.sampler]||{};return m.magFilter=b2[x.magFilter]||vi,m.minFilter=b2[x.minFilter]||Tr,m.wrapS=S2[x.wrapS]||uu,m.wrapT=S2[x.wrapT]||uu,a.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[d]=p,p}loadImageSource(e,t){const i=this,a=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(v=>v.clone());const l=a.images[e],u=self.URL||self.webkitURL;let d=l.uri||"",p=!1;if(l.bufferView!==void 0)d=i.getDependency("bufferView",l.bufferView).then(function(v){p=!0;const x=new Blob([v],{type:l.mimeType});return d=u.createObjectURL(x),d});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(d).then(function(v){return new Promise(function(x,_){let M=x;t.isImageBitmapLoader===!0&&(M=function(C){const T=new li(C);T.needsUpdate=!0,x(T)}),t.load(lu.resolveURL(v,r.path),M,void 0,_)})}).then(function(v){return p===!0&&u.revokeObjectURL(d),Yl(v,l),v.userData.mimeType=l.mimeType||O8(l.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),v});return this.sourceCache[e]=m,m}assignTexture(e,t,i,a){const r=this;return this.getDependency("texture",i.index).then(function(l){if(!l)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(l=l.clone(),l.channel=i.texCoord),r.extensions[dn.KHR_TEXTURE_TRANSFORM]){const u=i.extensions!==void 0?i.extensions[dn.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const d=r.associations.get(l);l=r.extensions[dn.KHR_TEXTURE_TRANSFORM].extendTexture(l,u),r.associations.set(l,d)}}return a!==void 0&&(typeof a=="number"&&(a=a===_2?Gf:tc),"colorSpace"in l?l.colorSpace=a:l.encoding=a===Gf?_2:a8),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const a=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const u="PointsMaterial:"+i.uuid;let d=this.cache.get(u);d||(d=new P_,Zi.prototype.copy.call(d,i),d.color.copy(i.color),d.map=i.map,d.sizeAttenuation=!1,this.cache.add(u,d)),i=d}else if(e.isLine){const u="LineBasicMaterial:"+i.uuid;let d=this.cache.get(u);d||(d=new qa,Zi.prototype.copy.call(d,i),d.color.copy(i.color),d.map=i.map,this.cache.add(u,d)),i=d}if(a||r||l){let u="ClonedMaterial:"+i.uuid+":";a&&(u+="derivative-tangents:"),r&&(u+="vertex-colors:"),l&&(u+="flat-shading:");let d=this.cache.get(u);d||(d=i.clone(),r&&(d.vertexColors=!0),l&&(d.flatShading=!0),a&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(i))),i=d}e.material=i}getMaterialType(){return M0}loadMaterial(e){const t=this,i=this.json,a=this.extensions,r=i.materials[e];let l;const u={},d=r.extensions||{},p=[];if(d[dn.KHR_MATERIALS_UNLIT]){const v=a[dn.KHR_MATERIALS_UNLIT];l=v.getMaterialType(),p.push(v.extendParams(u,r,t))}else{const v=r.pbrMetallicRoughness||{};if(u.color=new ut(1,1,1),u.opacity=1,Array.isArray(v.baseColorFactor)){const x=v.baseColorFactor;u.color.setRGB(x[0],x[1],x[2],tc),u.opacity=x[3]}v.baseColorTexture!==void 0&&p.push(t.assignTexture(u,"map",v.baseColorTexture,Gf)),u.metalness=v.metallicFactor!==void 0?v.metallicFactor:1,u.roughness=v.roughnessFactor!==void 0?v.roughnessFactor:1,v.metallicRoughnessTexture!==void 0&&(p.push(t.assignTexture(u,"metalnessMap",v.metallicRoughnessTexture)),p.push(t.assignTexture(u,"roughnessMap",v.metallicRoughnessTexture))),l=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(e,u)})))}r.doubleSided===!0&&(u.side=co);const m=r.alphaMode||tS.OPAQUE;if(m===tS.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,m===tS.MASK&&(u.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&l!==Ws&&(p.push(t.assignTexture(u,"normalMap",r.normalTexture)),u.normalScale=new Fe(1,1),r.normalTexture.scale!==void 0)){const v=r.normalTexture.scale;u.normalScale.set(v,v)}if(r.occlusionTexture!==void 0&&l!==Ws&&(p.push(t.assignTexture(u,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(u.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&l!==Ws){const v=r.emissiveFactor;u.emissive=new ut().setRGB(v[0],v[1],v[2],tc)}return r.emissiveTexture!==void 0&&l!==Ws&&p.push(t.assignTexture(u,"emissiveMap",r.emissiveTexture,Gf)),Promise.all(p).then(function(){const v=new l(u);return r.name&&(v.name=r.name),Yl(v,r),t.associations.set(v,{materials:e}),r.extensions&&Rf(a,v,r),v})}createUniqueName(e){const t=Mn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,a=this.primitiveCache;function r(u){return i[dn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,t).then(function(d){return M2(d,u,t)})}const l=[];for(let u=0,d=e.length;u<d;u++){const p=e[u],m=U8(p),v=a[m];if(v)l.push(v.promise);else{let x;p.extensions&&p.extensions[dn.KHR_DRACO_MESH_COMPRESSION]?x=r(p):x=M2(new qt,p,t),a[m]={primitive:p,promise:x},l.push(x)}}return Promise.all(l)}loadMesh(e){const t=this,i=this.json,a=this.extensions,r=i.meshes[e],l=r.primitives,u=[];for(let d=0,p=l.length;d<p;d++){const m=l[d].material===void 0?D8(this.cache):this.getDependency("material",l[d].material);u.push(m)}return u.push(t.loadGeometries(l)),Promise.all(u).then(function(d){const p=d.slice(0,d.length-1),m=d[d.length-1],v=[];for(let _=0,M=m.length;_<M;_++){const C=m[_],T=l[_];let S;const w=p[_];if(T.mode===Mr.TRIANGLES||T.mode===Mr.TRIANGLE_STRIP||T.mode===Mr.TRIANGLE_FAN||T.mode===void 0)S=r.isSkinnedMesh===!0?new qM(C,w):new Li(C,w),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),T.mode===Mr.TRIANGLE_STRIP?S.geometry=v2(S.geometry,HM):T.mode===Mr.TRIANGLE_FAN&&(S.geometry=v2(S.geometry,Zx));else if(T.mode===Mr.LINES)S=new mo(C,w);else if(T.mode===Mr.LINE_STRIP)S=new sc(C,w);else if(T.mode===Mr.LINE_LOOP)S=new KM(C,w);else if(T.mode===Mr.POINTS)S=new WM(C,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+T.mode);Object.keys(S.geometry.morphAttributes).length>0&&L8(S,r),S.name=t.createUniqueName(r.name||"mesh_"+e),Yl(S,r),T.extensions&&Rf(a,S,T),t.assignFinalMaterial(S),v.push(S)}for(let _=0,M=v.length;_<M;_++)t.associations.set(v[_],{meshes:e,primitives:_});if(v.length===1)return r.extensions&&Rf(a,v[0],r),v[0];const x=new Wl;r.extensions&&Rf(a,x,r),t.associations.set(x,{meshes:e});for(let _=0,M=v.length;_<M;_++)x.add(v[_]);return x})}loadCamera(e){let t;const i=this.json.cameras[e],a=i[i.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ti(eB.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):i.type==="orthographic"&&(t=new ec(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Yl(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let a=0,r=t.joints.length;a<r;a++)i.push(this._loadNodeShallow(t.joints[a]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(a){const r=a.pop(),l=a,u=[],d=[];for(let p=0,m=l.length;p<m;p++){const v=l[p];if(v){u.push(v);const x=new It;r!==null&&x.fromArray(r.array,p*16),d.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[p])}return new x0(u,d)})}loadAnimation(e){const t=this.json,i=this,a=t.animations[e],r=a.name?a.name:"animation_"+e,l=[],u=[],d=[],p=[],m=[];for(let v=0,x=a.channels.length;v<x;v++){const _=a.channels[v],M=a.samplers[_.sampler],C=_.target,T=C.node,S=a.parameters!==void 0?a.parameters[M.input]:M.input,w=a.parameters!==void 0?a.parameters[M.output]:M.output;C.node!==void 0&&(l.push(this.getDependency("node",T)),u.push(this.getDependency("accessor",S)),d.push(this.getDependency("accessor",w)),p.push(M),m.push(C))}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(d),Promise.all(p),Promise.all(m)]).then(function(v){const x=v[0],_=v[1],M=v[2],C=v[3],T=v[4],S=[];for(let w=0,B=x.length;w<B;w++){const D=x[w],O=_[w],I=M[w],F=C[w],z=T[w];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const P=i._createAnimationTracks(D,O,I,F,z);if(P)for(let U=0;U<P.length;U++)S.push(P[U])}return new yp(r,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,a=t.nodes[e];return a.mesh===void 0?null:i.getDependency("mesh",a.mesh).then(function(r){const l=i._getNodeRef(i.meshCache,a.mesh,r);return a.weights!==void 0&&l.traverse(function(u){if(u.isMesh)for(let d=0,p=a.weights.length;d<p;d++)u.morphTargetInfluences[d]=a.weights[d]}),l})}loadNode(e){const t=this.json,i=this,a=t.nodes[e],r=i._loadNodeShallow(e),l=[],u=a.children||[];for(let p=0,m=u.length;p<m;p++)l.push(i.getDependency("node",u[p]));const d=a.skin===void 0?Promise.resolve(null):i.getDependency("skin",a.skin);return Promise.all([r,Promise.all(l),d]).then(function(p){const m=p[0],v=p[1],x=p[2];x!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(x,P8)});for(let _=0,M=v.length;_<M;_++)m.add(v[_]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],l=r.name?a.createUniqueName(r.name):"",u=[],d=a._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return d&&u.push(d),r.camera!==void 0&&u.push(a.getDependency("camera",r.camera).then(function(p){return a._getNodeRef(a.cameraCache,r.camera,p)})),a._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){u.push(p)}),this.nodeCache[e]=Promise.all(u).then(function(p){let m;if(r.isBone===!0?m=new U_:p.length>1?m=new Wl:p.length===1?m=p[0]:m=new Sn,m!==p[0])for(let v=0,x=p.length;v<x;v++)m.add(p[v]);if(r.name&&(m.userData.name=r.name,m.name=l),Yl(m,r),r.extensions&&Rf(i,m,r),r.matrix!==void 0){const v=new It;v.fromArray(r.matrix),m.applyMatrix4(v)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return a.associations.has(m)||a.associations.set(m,{}),a.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],a=this,r=new Wl;i.name&&(r.name=a.createUniqueName(i.name)),Yl(r,i),i.extensions&&Rf(t,r,i);const l=i.nodes||[],u=[];for(let d=0,p=l.length;d<p;d++)u.push(a.getDependency("node",l[d]));return Promise.all(u).then(function(d){for(let m=0,v=d.length;m<v;m++)r.add(d[m]);const p=m=>{const v=new Map;for(const[x,_]of a.associations)(x instanceof Zi||x instanceof li)&&v.set(x,_);return m.traverse(x=>{const _=a.associations.get(x);_!=null&&v.set(x,_)}),v};return a.associations=p(r),r})}_createAnimationTracks(e,t,i,a,r){const l=[],u=e.name?e.name:e.uuid,d=[];iu[r.path]===iu.weights?e.traverse(function(x){x.morphTargetInfluences&&d.push(x.name?x.name:x.uuid)}):d.push(u);let p;switch(iu[r.path]){case iu.weights:p=eh;break;case iu.rotation:p=th;break;case iu.position:case iu.scale:p=nh;break;default:switch(i.itemSize){case 1:p=eh;break;case 2:case 3:default:p=nh;break}break}const m=a.interpolation!==void 0?B8[a.interpolation]:hp,v=this._getArrayFromAccessor(i);for(let x=0,_=d.length;x<_;x++){const M=new p(d[x]+"."+iu[r.path],t.array,v,m);a.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(M),l.push(M)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=KS(t.constructor),a=new Float32Array(t.length);for(let r=0,l=t.length;r<l;r++)a[r]=t[r]*i;t=a}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const a=this instanceof th?w8:LD;return new a(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function F8(n,e,t){const i=e.attributes,a=new Ca;if(i.POSITION!==void 0){const u=t.json.accessors[i.POSITION],d=u.min,p=u.max;if(d!==void 0&&p!==void 0){if(a.set(new J(d[0],d[1],d[2]),new J(p[0],p[1],p[2])),u.normalized){const m=KS(ip[u.componentType]);a.min.multiplyScalar(m),a.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const u=new J,d=new J;for(let p=0,m=r.length;p<m;p++){const v=r[p];if(v.POSITION!==void 0){const x=t.json.accessors[v.POSITION],_=x.min,M=x.max;if(_!==void 0&&M!==void 0){if(d.setX(Math.max(Math.abs(_[0]),Math.abs(M[0]))),d.setY(Math.max(Math.abs(_[1]),Math.abs(M[1]))),d.setZ(Math.max(Math.abs(_[2]),Math.abs(M[2]))),x.normalized){const C=KS(ip[x.componentType]);d.multiplyScalar(C)}u.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(u)}n.boundingBox=a;const l=new ma;a.getCenter(l.center),l.radius=a.min.distanceTo(a.max)/2,n.boundingSphere=l}function M2(n,e,t){const i=e.attributes,a=[];function r(l,u){return t.getDependency("accessor",l).then(function(d){n.setAttribute(u,d)})}for(const l in i){const u=JS[l]||l.toLowerCase();u in n.attributes||a.push(r(i[l],u))}if(e.indices!==void 0&&!n.index){const l=t.getDependency("accessor",e.indices).then(function(u){n.setIndex(u)});a.push(l)}return Yl(n,e),F8(n,e,t),Promise.all(a).then(function(){return e.targets!==void 0?N8(n,e.targets,t):n})}const iS=new WeakMap;class H8 extends Ja{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,a){const r=new $s(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,l=>{const u={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,u).then(t).catch(a)},i,a)}decodeDracoFile(e,t,i,a){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const d in t.attributeTypes){const p=t.attributeTypes[d];p.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[d]=p.name)}const i=JSON.stringify(t);if(iS.has(e)){const d=iS.get(e);if(d.key===i)return d.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const r=this.workerNextTaskID++,l=e.byteLength,u=this._getWorker(r,l).then(d=>(a=d,new Promise((p,m)=>{a._callbacks[r]={resolve:p,reject:m},a.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(d=>this._createGeometry(d.geometry));return u.catch(()=>!0).then(()=>{a&&r&&this._releaseTask(a,r)}),iS.set(e,{key:i,promise:u}),u}_createGeometry(e){const t=new qt;e.index&&t.setIndex(new wn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const a=e.attributes[i],r=a.name,l=a.array,u=a.itemSize;t.setAttribute(r,new wn(l,u))}return t}_loadLibrary(e,t){const i=new $s(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((a,r)=>{i.load(e,a,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const a=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=z8.toString(),l=["/* draco decoder */",a,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(r){const l=r.data;switch(l.type){case"decode":a._callbacks[l.id].resolve(l);break;case"error":a._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,r){return a._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function z8(){let n,e;onmessage=function(l){const u=l.data;switch(u.type){case"init":n=u.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(v){m({draco:v})},DracoDecoderModule(n)});break;case"decode":const d=u.buffer,p=u.taskConfig;e.then(m=>{const v=m.draco,x=new v.Decoder,_=new v.DecoderBuffer;_.Init(new Int8Array(d),d.byteLength);try{const M=t(v,x,_,p),C=M.attributes.map(T=>T.array.buffer);M.index&&C.push(M.index.array.buffer),self.postMessage({type:"decode",id:u.id,geometry:M},C)}catch(M){console.error(M),self.postMessage({type:"error",id:u.id,error:M.message})}finally{v.destroy(_),v.destroy(x)}});break}};function t(l,u,d,p){const m=p.attributeIDs,v=p.attributeTypes;let x,_;const M=u.GetEncodedGeometryType(d);if(M===l.TRIANGULAR_MESH)x=new l.Mesh,_=u.DecodeBufferToMesh(d,x);else if(M===l.POINT_CLOUD)x=new l.PointCloud,_=u.DecodeBufferToPointCloud(d,x);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||x.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const C={index:null,attributes:[]};for(const T in m){const S=self[v[T]];let w,B;if(p.useUniqueIDs)B=m[T],w=u.GetAttributeByUniqueId(x,B);else{if(B=u.GetAttributeId(x,l[m[T]]),B===-1)continue;w=u.GetAttribute(x,B)}C.attributes.push(a(l,u,x,T,S,w))}return M===l.TRIANGULAR_MESH&&(C.index=i(l,u,x)),l.destroy(x),C}function i(l,u,d){const m=d.num_faces()*3,v=m*4,x=l._malloc(v);u.GetTrianglesUInt32Array(d,v,x);const _=new Uint32Array(l.HEAPF32.buffer,x,m).slice();return l._free(x),{array:_,itemSize:1}}function a(l,u,d,p,m,v){const x=v.num_components(),M=d.num_points()*x,C=M*m.BYTES_PER_ELEMENT,T=r(l,m),S=l._malloc(C);u.GetAttributeDataArrayForAllPoints(d,v,T,C,S);const w=new m(l.HEAPF32.buffer,S,M).slice();return l._free(S),{name:p,array:w,itemSize:x}}function r(l,u){switch(u){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let Ky;const aS=()=>{if(Ky)return Ky;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=n;WebAssembly.validate(t)&&(a=e);let r;const l=WebAssembly.instantiate(u(a),{}).then(v=>{r=v.instance,r.exports.__wasm_call_ctors()});function u(v){const x=new Uint8Array(v.length);for(let M=0;M<v.length;++M){const C=v.charCodeAt(M);x[M]=C>96?C-71:C>64?C-65:C>47?C+4:C>46?63:62}let _=0;for(let M=0;M<v.length;++M)x[_++]=x[M]<60?i[x[M]]:(x[M]-60)*64+x[++M];return x.buffer.slice(0,_)}function d(v,x,_,M,C,T){const S=r.exports.sbrk,w=_+3&-4,B=S(w*M),D=S(C.length),O=new Uint8Array(r.exports.memory.buffer);O.set(C,D);const I=v(B,_,M,D,C.length);if(I===0&&T&&T(B,w,M),x.set(O.subarray(B,B+_*M)),S(B-S(0)),I!==0)throw new Error(`Malformed buffer data: ${I}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ky={ready:l,supported:!0,decodeVertexBuffer(v,x,_,M,C){d(r.exports.meshopt_decodeVertexBuffer,v,x,_,M,r.exports[p[C]])},decodeIndexBuffer(v,x,_,M){d(r.exports.meshopt_decodeIndexBuffer,v,x,_,M)},decodeIndexSequence(v,x,_,M){d(r.exports.meshopt_decodeIndexSequence,v,x,_,M)},decodeGltfBuffer(v,x,_,M,C,T){d(r.exports[m[C]],v,x,_,M,r.exports[p[T]])}},Ky};let Wy=null,UD="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function OD(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Wy||(Wy=new H8),Wy.setDecoderPath(typeof n=="string"?n:UD),i.setDRACOLoader(Wy)),e&&i.setMeshoptDecoder(typeof aS=="function"?aS():aS)}}const Er=(n,e,t,i)=>T0(S1,n,OD(e,t,i));Er.preload=(n,e,t,i)=>T0.preload(S1,n,OD(e,t,i));Er.clear=n=>T0.clear(S1,n);Er.setDecoderPath=n=>{UD=n};function G8(n,e,t){const i=Ns(_=>_.size),a=Ns(_=>_.viewport),r=typeof n=="number"?n:i.width*a.dpr,l=i.height*a.dpr,u=(typeof n=="number"?t:n)||{},{samples:d=0,depth:p,...m}=u,v=p??u.depthBuffer,x=q.useMemo(()=>{const _=new ho(r,l,{minFilter:vi,magFilter:vi,type:rh,...m});return v&&(_.depthTexture=new F_(r,l,ys)),_.samples=d,_},[]);return q.useLayoutEffect(()=>{x.setSize(r,l),d&&(x.samples=d)},[d,x,r,l]),q.useEffect(()=>()=>x.dispose(),[]),x}const V8=n=>typeof n=="function",k8=q.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:a,...r},l)=>{const u=Ns(({set:T})=>T),d=Ns(({camera:T})=>T),p=Ns(({size:T})=>T),m=q.useRef(null);q.useImperativeHandle(l,()=>m.current,[]);const v=q.useRef(null),x=G8(e);q.useLayoutEffect(()=>{r.manual||(m.current.aspect=p.width/p.height)},[p,r]),q.useLayoutEffect(()=>{m.current.updateProjectionMatrix()});let _=0,M=null;const C=V8(a);return SD(T=>{C&&(t===1/0||_<t)&&(v.current.visible=!1,T.gl.setRenderTarget(x),M=T.scene.background,n&&(T.scene.background=n),T.gl.render(T.scene,m.current),T.scene.background=M,T.gl.setRenderTarget(null),v.current.visible=!0,_++)}),q.useLayoutEffect(()=>{if(i){const T=d;return u(()=>({camera:m.current})),()=>u(()=>({camera:T}))}},[m,i,u]),q.createElement(q.Fragment,null,q.createElement("perspectiveCamera",r_({ref:m},r),!C&&a),q.createElement("group",{ref:v},C&&a(x.texture)))}),j8=q.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:a=!0,keyEvents:r=!1,onChange:l,onStart:u,onEnd:d,...p},m)=>{const v=Ns(I=>I.invalidate),x=Ns(I=>I.camera),_=Ns(I=>I.gl),M=Ns(I=>I.events),C=Ns(I=>I.setEvents),T=Ns(I=>I.set),S=Ns(I=>I.get),w=Ns(I=>I.performance),B=e||x,D=i||M.connected||_.domElement,O=q.useMemo(()=>new i8(B),[B]);return SD(()=>{O.enabled&&O.update()},-1),q.useEffect(()=>(r&&O.connect(r===!0?D:r),O.connect(D),()=>void O.dispose()),[r,D,t,O,v]),q.useEffect(()=>{const I=P=>{v(),t&&w.regress(),l&&l(P)},F=P=>{u&&u(P)},z=P=>{d&&d(P)};return O.addEventListener("change",I),O.addEventListener("start",F),O.addEventListener("end",z),()=>{O.removeEventListener("start",F),O.removeEventListener("end",z),O.removeEventListener("change",I)}},[l,u,d,O,v,C]),q.useEffect(()=>{if(n){const I=S().controls;return T({controls:O}),()=>T({controls:I})}},[n,O]),q.createElement("primitive",r_({ref:m,object:O,enableDamping:a},p))});function X8(){const n=Er("/personal_website/blender/capy1.glb"),e=Er("/personal_website/blender/capy2.glb"),t=Er("/personal_website/blender/capy3.glb"),i=Er("/personal_website/blender/cat1.glb"),a=Er("/personal_website/blender/cat2.glb"),r=Er("/personal_website/blender/cat3.glb"),l=Er("/personal_website/blender/cat4.glb"),u=Er("/personal_website/blender/Frog.glb"),d=Er("/personal_website/blender/turtle.glb"),p=()=>{const{camera:m}=Ns();return q.useEffect(()=>{m.position.set(0,5,10),m.lookAt(0,-2,0),m.fov=60},[m]),null};return W.jsx(W.Fragment,{children:W.jsxs("section",{className:"relative flex h-full w-full flex-1 flex-col items-center overflow-y-hidden",id:"homepage",children:[W.jsx("div",{className:"absolute left-1/2 top-0 z-10 w-fit -translate-x-1/2 transform rounded-lg border-2 border-black bg-white p-2 px-4 text-center font-bokuteh text-2xl font-bold text-[#74664B] md:rounded-full",children:"Welcome to Tony's Portfolio Website!"}),W.jsxs("div",{className:"absolute bottom-0 z-10 flex w-full items-center justify-between px-2 pb-2 font-bokuteh text-[10px] font-extralight text-[#74664B] sm:text-xs md:px-6 md:text-sm lg:text-base",children:[W.jsx("h1",{children:"Hold left-click to rotate the screen"}),W.jsx("h1",{className:"text-center",children:"All models created by @PhilipMyGasTank on Roblox"}),W.jsx("h1",{children:"Hold right-click to move the screen"})]}),W.jsxs(X6,{className:"h-full w-full",children:[W.jsx("ambientLight",{intensity:2.25}),W.jsx(k8,{makeDefault:!0}),W.jsx(p,{}),W.jsx("primitive",{scale:[1.5,1.5,1.5],object:n.scene,position:[0,-5.25,-3.75]}),W.jsx("primitive",{scale:[.25,.25,.25],object:e.scene,position:[2,-3.75,2.25],rotation:[-.2,0,0]}),W.jsx("primitive",{scale:[.25,.25,.25],object:t.scene,position:[4.75,-3.75,2.25],rotation:[-.2,0,0]}),W.jsx("primitive",{scale:[2,2,2],object:i.scene,position:[2.4,-.8,.5],rotation:[-.4,-.5,0]}),W.jsx("primitive",{scale:[2,2,2],object:l.scene,position:[2.4,-1.75,.8],rotation:[-.4,-.5,0]}),W.jsx("primitive",{scale:[-2,2,2],object:a.scene,position:[-2.4,-.8,.5],rotation:[-.4,.5,0]}),W.jsx("primitive",{scale:[-2,2,2],object:r.scene,position:[-2.4,-1.75,.8],rotation:[-.4,.5,0]}),W.jsx("primitive",{scale:[.3,.3,.3],object:u.scene,position:[0,.35,0]}),W.jsx("primitive",{scale:[4.75,4.75,4.75],object:d.scene,position:[0,-1,0]}),W.jsx(j8,{})]})]})})}var PD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E2=Qn.createContext&&Qn.createContext(PD),Y8=["attr","size","title"];function q8(n,e){if(n==null)return{};var t=J8(n,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function J8(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function l_(){return l_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},l_.apply(this,arguments)}function T2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function c_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(t),!0).forEach(function(i){K8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function K8(n,e,t){return e=W8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W8(n){var e=Z8(n,"string");return typeof e=="symbol"?e:e+""}function Z8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ID(n){return n&&n.map((e,t)=>Qn.createElement(e.tag,c_({key:t},e.attr),ID(e.child)))}function ea(n){return e=>Qn.createElement(Q8,l_({attr:c_({},n.attr)},e),ID(n.child))}function Q8(n){var e=t=>{var{attr:i,size:a,title:r}=n,l=q8(n,Y8),u=a||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Qn.createElement("svg",l_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:d,style:c_(c_({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&Qn.createElement("title",null,r),n.children)};return E2!==void 0?Qn.createElement(E2.Consumer,null,t=>e(t)):e(PD)}function $8(n){return ea({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(n)}function e9(){return W.jsx(W.Fragment,{children:W.jsxs("section",{className:"flex h-full w-full flex-1 flex-col items-center overflow-hidden",children:[W.jsx("h1",{className:"text-center font-seurat text-4xl font-bold text-[#74664B]",children:"About Me"}),W.jsxs("div",{className:"flex h-full w-[80%] flex-1 flex-wrap items-center justify-evenly text-[#74664B] md:w-[85%]",children:[W.jsx($8,{className:"text-[150px] md:text-[300px]"}),W.jsx("div",{className:"h-[50vh] w-full overflow-y-auto p-2 md:h-[65vh] md:w-[45%]",children:W.jsxs("p",{className:"font-mono text-[14px] font-semibold leading-relaxed",children:["Hi everyone, thank you for spending the time to view my website!",W.jsx("br",{})," ",W.jsx("br",{}),"I am a student who is trying to pursue a career in front-end engineering, back-end engineering, full-stack engineering, or data analytics!",W.jsx("br",{})," ",W.jsx("br",{}),"For more information about myself, I have recently graduated from UC San Diego with a Bachelors of Science in Mathematics, with a specialization in Computer Science! As of January 2026, I am enrolled at CSU Long Beach getting my masters in Computer Science as well! I have experience in full-stack software development and data science, with an interest in machine learning as well!",W.jsx("br",{})," ",W.jsx("br",{}),"I have recently come back from a study abroad program I did in South Korea, specifically Yonsei University in Seoul! I spent 4 months in the beautiful country, exploring all of scenery, while spending lots of time shopping and eating at much lower prices than the U.S. I also indulged in my interest in K-Pop going to concerts as well, like TXT and Le Sserafim. If you like them as well or want some song recommendations, or even recommendations about what to do in South Korea in general, feel free to shoot me a message in the Contact Me section!",W.jsx("br",{})," ",W.jsx("br",{}),"In my free time, I love to learn, especially with the resources that are available today! In particular, I love watching information science videos on YouTube, learning more about the news or life hacks on TikTok (don't worry, I don't believe everything I see!), or learn how to cook through reality shows like MasterChef. I also enjoy playing video games. Some games that I have been playing for the longest time include League of Legends, Minecraft, Roblox, Valorant, and Teamfight Tactics!"]})})]})]})})}const du=J6(n=>({displayProject:{},setDisplayProject:e=>n(()=>({displayProject:e})),displayResume:null,setDisplayResume:e=>n(()=>({displayResume:e}))})),FD=typeof document<"u"?Qn.useLayoutEffect:()=>{};var sS;const t9=(sS=Qn.useInsertionEffect)!==null&&sS!==void 0?sS:FD;function n9(n){const e=q.useRef(null);return t9(()=>{e.current=n},[n]),q.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const _u=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Vf=n=>n&&"window"in n&&n.window===n?n:_u(n).defaultView||window;function i9(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function a9(n){return i9(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let s9=!1;function M1(){return s9}function HD(n,e){if(!M1())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:a9(t)?t=t.host:t=t.parentNode}return!1}const WS=(n=document)=>{var e;if(!M1())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function zD(n){return M1()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function r9(n){var e;if(typeof window>"u"||window.navigator==null)return!1;let t=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(t)&&t.some(i=>n.test(i.brand))||n.test(window.navigator.userAgent)}function o9(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function GD(n){let e=null;return()=>(e==null&&(e=n()),e)}const l9=GD(function(){return o9(/^Mac/i)}),c9=GD(function(){return r9(/Android/i)});function VD(){let n=q.useRef(new Map),e=q.useCallback((a,r,l,u)=>{let d=u!=null&&u.once?(...p)=>{n.current.delete(l),l(...p)}:l;n.current.set(l,{type:r,eventTarget:a,fn:d,options:u}),a.addEventListener(r,d,u)},[]),t=q.useCallback((a,r,l,u)=>{var d;let p=((d=n.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(r,p,u),n.current.delete(l)},[]),i=q.useCallback(()=>{n.current.forEach((a,r)=>{t(a.eventTarget,a.type,r,a.options)})},[t]);return q.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function u9(n){return n.pointerType===""&&n.isTrusted?!0:c9()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function kD(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function f9(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function jD(n){let e=q.useRef({isFocused:!1,observer:null});FD(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=n9(i=>{n==null||n(i)});return q.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=i.target,r=l=>{if(e.current.isFocused=!1,a.disabled){let u=kD(l);t(u)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",r,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var l;(l=e.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let h9=!1,C0=null,ZS=new Set,Gg=new Map,ah=!1,QS=!1;const d9={Tab:!0,Escape:!0};function E1(n,e){for(let t of ZS)t(n,e)}function p9(n){return!(n.metaKey||!l9()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function u_(n){ah=!0,p9(n)&&(C0="keyboard",E1("keyboard",n))}function ap(n){C0="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(ah=!0,E1("pointer",n))}function XD(n){u9(n)&&(ah=!0,C0="virtual")}function YD(n){n.target===window||n.target===document||h9||!n.isTrusted||(!ah&&!QS&&(C0="virtual",E1("virtual",n)),ah=!1,QS=!1)}function qD(){ah=!1,QS=!0}function $S(n){if(typeof window>"u"||typeof document>"u"||Gg.get(Vf(n)))return;const e=Vf(n),t=_u(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){ah=!0,i.apply(this,arguments)},t.addEventListener("keydown",u_,!0),t.addEventListener("keyup",u_,!0),t.addEventListener("click",XD,!0),e.addEventListener("focus",YD,!0),e.addEventListener("blur",qD,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",ap,!0),t.addEventListener("pointermove",ap,!0),t.addEventListener("pointerup",ap,!0)),e.addEventListener("beforeunload",()=>{JD(n)},{once:!0}),Gg.set(e,{focus:i})}const JD=(n,e)=>{const t=Vf(n),i=_u(n);e&&i.removeEventListener("DOMContentLoaded",e),Gg.has(t)&&(t.HTMLElement.prototype.focus=Gg.get(t).focus,i.removeEventListener("keydown",u_,!0),i.removeEventListener("keyup",u_,!0),i.removeEventListener("click",XD,!0),t.removeEventListener("focus",YD,!0),t.removeEventListener("blur",qD,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",ap,!0),i.removeEventListener("pointermove",ap,!0),i.removeEventListener("pointerup",ap,!0)),Gg.delete(t))};function m9(n){const e=_u(n);let t;return e.readyState!=="loading"?$S(n):(t=()=>{$S(n)},e.addEventListener("DOMContentLoaded",t)),()=>JD(n,t)}typeof document<"u"&&m9();function KD(){return C0!=="pointer"}const g9=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function v9(n,e,t){let i=_u(t==null?void 0:t.target);const a=typeof window<"u"?Vf(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,r=typeof window<"u"?Vf(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Vf(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?Vf(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof a&&!g9.has(i.activeElement.type)||i.activeElement instanceof r||i.activeElement instanceof l&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof u&&!d9[t.key])}function y9(n,e,t){$S(),q.useEffect(()=>{let i=(a,r)=>{v9(!!(t!=null&&t.isTextInput),a,r)&&n(KD())};return ZS.add(i),()=>{ZS.delete(i)}},e)}function x9(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:a}=n;const r=q.useCallback(d=>{if(d.target===d.currentTarget)return i&&i(d),a&&a(!1),!0},[i,a]),l=jD(r),u=q.useCallback(d=>{const p=_u(d.target),m=p?WS(p):WS();d.target===d.currentTarget&&m===zD(d.nativeEvent)&&(t&&t(d),a&&a(!0),l(d))},[a,t,l]);return{focusProps:{onFocus:!e&&(t||a||i)?u:void 0,onBlur:!e&&(i||a)?r:void 0}}}function _9(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:a}=n,r=q.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=VD(),d=q.useCallback(v=>{v.currentTarget.contains(v.target)&&r.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(r.current.isFocusWithin=!1,u(),t&&t(v),a&&a(!1))},[t,a,r,u]),p=jD(d),m=q.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const x=_u(v.target),_=WS(x);if(!r.current.isFocusWithin&&_===zD(v.nativeEvent)){i&&i(v),a&&a(!0),r.current.isFocusWithin=!0,p(v);let M=v.currentTarget;l(x,"focus",C=>{if(r.current.isFocusWithin&&!HD(M,C.target)){let T=new x.defaultView.FocusEvent("blur",{relatedTarget:C.target});f9(T,M);let S=kD(T);d(S)}},{capture:!0})}},[i,a,p,l,d]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let eM=!1,Zy=0;function A9(){eM=!0,setTimeout(()=>{eM=!1},50)}function C2(n){n.pointerType==="touch"&&A9()}function b9(){if(!(typeof document>"u"))return Zy===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",C2),Zy++,()=>{Zy--,!(Zy>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",C2)}}function S9(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:a}=n,[r,l]=q.useState(!1),u=q.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;q.useEffect(b9,[]);let{addGlobalListener:d,removeAllGlobalListeners:p}=VD(),{hoverProps:m,triggerHoverEnd:v}=q.useMemo(()=>{let x=(C,T)=>{if(u.pointerType=T,a||T==="touch"||u.isHovered||!C.currentTarget.contains(C.target))return;u.isHovered=!0;let S=C.currentTarget;u.target=S,d(_u(C.target),"pointerover",w=>{u.isHovered&&u.target&&!HD(u.target,w.target)&&_(w,w.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:S,pointerType:T}),t&&t(!0),l(!0)},_=(C,T)=>{let S=u.target;u.pointerType="",u.target=null,!(T==="touch"||!u.isHovered||!S)&&(u.isHovered=!1,p(),i&&i({type:"hoverend",target:S,pointerType:T}),t&&t(!1),l(!1))},M={};return typeof PointerEvent<"u"&&(M.onPointerEnter=C=>{eM&&C.pointerType==="mouse"||x(C,C.pointerType)},M.onPointerLeave=C=>{!a&&C.currentTarget.contains(C.target)&&_(C,C.pointerType)}),{hoverProps:M,triggerHoverEnd:_}},[e,t,i,a,u,d,p]);return q.useEffect(()=>{a&&v({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:m,isHovered:r}}function WD(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,a=q.useRef({isFocused:!1,isFocusVisible:e||KD()}),[r,l]=q.useState(!1),[u,d]=q.useState(()=>a.current.isFocused&&a.current.isFocusVisible),p=q.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),m=q.useCallback(_=>{a.current.isFocused=_,l(_),p()},[p]);y9(_=>{a.current.isFocusVisible=_,p()},[],{isTextInput:t});let{focusProps:v}=x9({isDisabled:i,onFocusChange:m}),{focusWithinProps:x}=_9({isDisabled:!i,onFocusWithinChange:m});return{isFocused:r,isFocusVisible:u,focusProps:i?x:v}}var M9=Object.defineProperty,E9=(n,e,t)=>e in n?M9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rS=(n,e,t)=>(E9(n,typeof e!="symbol"?e+"":e,t),t);let T9=class{constructor(){rS(this,"current",this.detect()),rS(this,"handoffState","pending"),rS(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},T1=new T9;function C9(n){var e;return T1.isServer?null:n==null?document:(e=n==null?void 0:n.ownerDocument)!=null?e:document}function tM(n){var e,t;return T1.isServer?null:n==null?document:(t=(e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n))!=null?t:document}function ZD(n){var e,t;return(t=(e=tM(n))==null?void 0:e.activeElement)!=null?t:null}function QD(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function $D(){let n=[],e={addEventListener(t,i,a,r){return t.addEventListener(i,a,r),e.add(()=>t.removeEventListener(i,a,r))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return QD(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,a){let r=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:a}),this.add(()=>{Object.assign(t.style,{[i]:r})})},group(t){let i=$D();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let a of n.splice(i,1))a()}},dispose(){for(let t of n.splice(0))t()}};return e}function R9(){let[n]=q.useState($D);return q.useEffect(()=>()=>n.dispose(),[n]),n}let _p=(n,e)=>{T1.isServer?q.useEffect(n,e):q.useLayoutEffect(n,e)};function Rg(n){let e=q.useRef(n);return _p(()=>{e.current=n},[n]),e}let el=function(n){let e=Rg(n);return Qn.useCallback((...t)=>e.current(...t),[e])};function w9(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function B9(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function D9({disabled:n=!1}={}){let e=q.useRef(null),[t,i]=q.useState(!1),a=R9(),r=el(()=>{e.current=null,i(!1),a.dispose()}),l=el(u=>{if(a.dispose(),e.current===null){e.current=u.currentTarget,i(!0);{let d=C9(u.currentTarget);a.addEventListener(d,"pointerup",r,!1),a.addEventListener(d,"pointermove",p=>{if(e.current){let m=w9(p);i(B9(m,e.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",r,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:l,onPointerUp:r,onClick:r}}}function R0(n){return q.useMemo(()=>n,Object.values(n))}function R2(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Jf(n,e,...t){if(n in e){let a=e[n];return typeof a=="function"?a(...t):a}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Jf),i}var nM=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(nM||{}),N9=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(N9||{});function Np(){let n=U9();return q.useCallback(e=>L9({mergeRefs:n,...e}),[n])}function L9({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:a,visible:r=!0,name:l,mergeRefs:u}){u=u??O9;let d=e3(e,n);if(r)return Qy(d,t,i,l,u);let p=a??0;if(p&2){let{static:m=!1,...v}=d;if(m)return Qy(v,t,i,l,u)}if(p&1){let{unmount:m=!0,...v}=d;return Jf(m?0:1,{0(){return null},1(){return Qy({...v,hidden:!0,style:{display:"none"}},t,i,l,u)}})}return Qy(d,t,i,l,u)}function Qy(n,e={},t,i,a){let{as:r=t,children:l,refName:u="ref",...d}=oS(n,["unmount","static"]),p=n.ref!==void 0?{[u]:n.ref}:{},m=typeof l=="function"?l(e):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(e)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let v={};if(e){let x=!1,_=[];for(let[M,C]of Object.entries(e))typeof C=="boolean"&&(x=!0),C===!0&&_.push(M.replace(/([A-Z])/g,T=>`-${T.toLowerCase()}`));if(x){v["data-headlessui-state"]=_.join(" ");for(let M of _)v[`data-${M}`]=""}}if(ux(r)&&(Object.keys(Vd(d)).length>0||Object.keys(Vd(v)).length>0))if(!q.isValidElement(m)||Array.isArray(m)&&m.length>1||I9(m)){if(Object.keys(Vd(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Vd(d)).concat(Object.keys(Vd(v))).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`))}else{let x=m.props,_=x==null?void 0:x.className,M=typeof _=="function"?(...S)=>R2(_(...S),d.className):R2(_,d.className),C=M?{className:M}:{},T=e3(m.props,Vd(oS(d,["ref"])));for(let S in v)S in T&&delete v[S];return q.cloneElement(m,Object.assign({},T,v,p,{ref:a(P9(m),p.ref)},C))}return q.createElement(r,Object.assign({},oS(d,["ref"]),!ux(r)&&p,!ux(r)&&v),m)}function U9(){let n=q.useRef([]),e=q.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function O9(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function e3(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[a=>{var r;return(r=a==null?void 0:a.preventDefault)==null?void 0:r.call(a)}]);for(let i in t)Object.assign(e,{[i](a,...r){let l=t[i];for(let u of l){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;u(a,...r)}}});return e}function t3(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];for(let i in t)Object.assign(e,{[i](...a){let r=t[i];for(let l of r)l==null||l(...a)}});return e}function Lp(n){var e;return Object.assign(q.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Vd(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function oS(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function P9(n){return Qn.version.split(".")[0]>="19"?n.props.ref:n.ref}function ux(n){return n===q.Fragment||n===Symbol.for("react.fragment")}function I9(n){return ux(n.type)}let F9="span";var n3=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(n3||{});function H9(n,e){var t;let{features:i=1,...a}=n,r={ref:e,"aria-hidden":(i&2)===2?!0:(t=a["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Np()({ourProps:r,theirProps:a,slot:{},defaultTag:F9,name:"Hidden"})}let i3=Lp(H9),z9=Symbol();function w0(...n){let e=q.useRef(n);q.useEffect(()=>{e.current=n},[n]);let t=el(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return n.every(i=>i==null||(i==null?void 0:i[z9]))?void 0:t}var ao=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(ao||{});let G9=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),V9=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var so=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(so||{}),wg=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(wg||{}),k9=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(k9||{});function j9(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(G9)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function X9(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(V9)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Y9=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(Y9||{}),q9=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(q9||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let J9=["textarea","input"].join(",");function K9(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,J9))!=null?t:!1}function Jd(n,e=t=>t){return n.slice().sort((t,i)=>{let a=e(t),r=e(i);if(a===null||r===null)return 0;let l=a.compareDocumentPosition(r);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kd(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:a=[]}={}){let r=Array.isArray(n)?n.length>0?tM(n[0]):document:tM(n),l=Array.isArray(n)?t?Jd(n):n:e&64?X9(n):j9(n);a.length>0&&l.length>1&&(l=l.filter(_=>!a.some(M=>M!=null&&"current"in M?(M==null?void 0:M.current)===_:M===_))),i=i??(r==null?void 0:r.activeElement);let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(i))-1;if(e&4)return Math.max(0,l.indexOf(i))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},m=0,v=l.length,x;do{if(m>=v||m+v<=0)return 0;let _=d+m;if(e&16)_=(_+v)%v;else{if(_<0)return 3;if(_>=v)return 1}x=l[_],x==null||x.focus(p),m+=u}while(x!==ZD(x));return e&6&&K9(x)&&x.select(),2}function W9(n,e){return q.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function Z9(){let n=q.useRef(!1);return _p(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Q9({onFocus:n}){let[e,t]=q.useState(!0),i=Z9();return e?Qn.createElement(i3,{as:"button",type:"button",features:n3.Focusable,onFocus:a=>{a.preventDefault();let r,l=50;function u(){if(l--<=0){r&&cancelAnimationFrame(r);return}if(n()){if(cancelAnimationFrame(r),!i.current)return;t(!1);return}r=requestAnimationFrame(u)}r=requestAnimationFrame(u)}}):null}const a3=q.createContext(null);function $9(){return{groups:new Map,get(n,e){var t;let i=this.groups.get(n);i||(i=new Map,this.groups.set(n,i));let a=(t=i.get(e))!=null?t:0;i.set(e,a+1);let r=Array.from(i.keys()).indexOf(e);function l(){let u=i.get(e);u>1?i.set(e,u-1):i.delete(e)}return[r,l]}}}function eV({children:n}){let e=q.useRef($9());return q.createElement(a3.Provider,{value:e},n)}function s3(n){let e=q.useContext(a3);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let t=q.useId(),[i,a]=e.current.get(n,t);return q.useEffect(()=>a,[]),i}var tV=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(tV||{}),nV=(n=>(n[n.Less=-1]="Less",n[n.Equal=0]="Equal",n[n.Greater=1]="Greater",n))(nV||{}),iV=(n=>(n[n.SetSelectedIndex=0]="SetSelectedIndex",n[n.RegisterTab=1]="RegisterTab",n[n.UnregisterTab=2]="UnregisterTab",n[n.RegisterPanel=3]="RegisterPanel",n[n.UnregisterPanel=4]="UnregisterPanel",n))(iV||{});let aV={0(n,e){var t;let i=Jd(n.tabs,m=>m.current),a=Jd(n.panels,m=>m.current),r=i.filter(m=>{var v;return!((v=m.current)!=null&&v.hasAttribute("disabled"))}),l={...n,tabs:i,panels:a};if(e.index<0||e.index>i.length-1){let m=Jf(Math.sign(e.index-n.selectedIndex),{[-1]:()=>1,0:()=>Jf(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(r.length===0)return l;let v=Jf(m,{0:()=>i.indexOf(r[0]),1:()=>i.indexOf(r[r.length-1])});return{...l,selectedIndex:v===-1?n.selectedIndex:v}}let u=i.slice(0,e.index),d=[...i.slice(e.index),...u].find(m=>r.includes(m));if(!d)return l;let p=(t=i.indexOf(d))!=null?t:n.selectedIndex;return p===-1&&(p=n.selectedIndex),{...l,selectedIndex:p}},1(n,e){if(n.tabs.includes(e.tab))return n;let t=n.tabs[n.selectedIndex],i=Jd([...n.tabs,e.tab],r=>r.current),a=n.selectedIndex;return n.info.current.isControlled||(a=i.indexOf(t),a===-1&&(a=n.selectedIndex)),{...n,tabs:i,selectedIndex:a}},2(n,e){return{...n,tabs:n.tabs.filter(t=>t!==e.tab)}},3(n,e){return n.panels.includes(e.panel)?n:{...n,panels:Jd([...n.panels,e.panel],t=>t.current)}},4(n,e){return{...n,panels:n.panels.filter(t=>t!==e.panel)}}},C1=q.createContext(null);C1.displayName="TabsDataContext";function Ap(n){let e=q.useContext(C1);if(e===null){let t=new Error(`<${n} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ap),t}return e}let R1=q.createContext(null);R1.displayName="TabsActionsContext";function w1(n){let e=q.useContext(R1);if(e===null){let t=new Error(`<${n} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w1),t}return e}function sV(n,e){return Jf(e.type,aV,n,e)}let rV="div";function oV(n,e){let{defaultIndex:t=0,vertical:i=!1,manual:a=!1,onChange:r,selectedIndex:l=null,...u}=n;const d=i?"vertical":"horizontal",p=a?"manual":"auto";let m=l!==null,v=Rg({isControlled:m}),x=w0(e),[_,M]=q.useReducer(sV,{info:v,selectedIndex:l??t,tabs:[],panels:[]}),C=R0({selectedIndex:_.selectedIndex}),T=Rg(r||(()=>{})),S=Rg(_.tabs),w=q.useMemo(()=>({orientation:d,activation:p,..._}),[d,p,_]),B=el(U=>(M({type:1,tab:U}),()=>M({type:2,tab:U}))),D=el(U=>(M({type:3,panel:U}),()=>M({type:4,panel:U}))),O=el(U=>{I.current!==U&&T.current(U),m||M({type:0,index:U})}),I=Rg(m?n.selectedIndex:_.selectedIndex),F=q.useMemo(()=>({registerTab:B,registerPanel:D,change:O}),[]);_p(()=>{M({type:0,index:l??t})},[l]),_p(()=>{if(I.current===void 0||_.tabs.length<=0)return;let U=Jd(_.tabs,X=>X.current);U.some((X,ce)=>_.tabs[ce]!==X)&&O(U.indexOf(_.tabs[I.current]))});let z={ref:x},P=Np();return Qn.createElement(eV,null,Qn.createElement(R1.Provider,{value:F},Qn.createElement(C1.Provider,{value:w},w.tabs.length<=0&&Qn.createElement(Q9,{onFocus:()=>{var U,X;for(let ce of S.current)if(((U=ce.current)==null?void 0:U.tabIndex)===0)return(X=ce.current)==null||X.focus(),!0;return!1}}),P({ourProps:z,theirProps:u,slot:C,defaultTag:rV,name:"Tabs"}))))}let lV="div";function cV(n,e){let{orientation:t,selectedIndex:i}=Ap("Tab.List"),a=w0(e),r=R0({selectedIndex:i}),l=n,u={ref:a,role:"tablist","aria-orientation":t};return Np()({ourProps:u,theirProps:l,slot:r,defaultTag:lV,name:"Tabs.List"})}let uV="button";function fV(n,e){var t,i;let a=q.useId(),{id:r=`headlessui-tabs-tab-${a}`,disabled:l=!1,autoFocus:u=!1,...d}=n,{orientation:p,activation:m,selectedIndex:v,tabs:x,panels:_}=Ap("Tab"),M=w1("Tab"),C=Ap("Tab"),[T,S]=q.useState(null),w=q.useRef(null),B=w0(w,e,S);_p(()=>M.registerTab(w),[M,w]);let D=s3("tabs"),O=x.indexOf(w);O===-1&&(O=D);let I=O===v,F=el(ye=>{let Y=ye();if(Y===wg.Success&&m==="auto"){let oe=ZD(w.current),Be=C.tabs.findIndex(De=>De.current===oe);Be!==-1&&M.change(Be)}return Y}),z=el(ye=>{let Y=x.map(oe=>oe.current).filter(Boolean);if(ye.key===ao.Space||ye.key===ao.Enter){ye.preventDefault(),ye.stopPropagation(),M.change(O);return}switch(ye.key){case ao.Home:case ao.PageUp:return ye.preventDefault(),ye.stopPropagation(),F(()=>kd(Y,so.First));case ao.End:case ao.PageDown:return ye.preventDefault(),ye.stopPropagation(),F(()=>kd(Y,so.Last))}if(F(()=>Jf(p,{vertical(){return ye.key===ao.ArrowUp?kd(Y,so.Previous|so.WrapAround):ye.key===ao.ArrowDown?kd(Y,so.Next|so.WrapAround):wg.Error},horizontal(){return ye.key===ao.ArrowLeft?kd(Y,so.Previous|so.WrapAround):ye.key===ao.ArrowRight?kd(Y,so.Next|so.WrapAround):wg.Error}}))===wg.Success)return ye.preventDefault()}),P=q.useRef(!1),U=el(()=>{var ye;P.current||(P.current=!0,(ye=w.current)==null||ye.focus({preventScroll:!0}),M.change(O),QD(()=>{P.current=!1}))}),X=el(ye=>{ye.preventDefault()}),{isFocusVisible:ce,focusProps:se}=WD({autoFocus:u}),{isHovered:pe,hoverProps:Ae}=S9({isDisabled:l}),{pressed:j,pressProps:Z}=D9({disabled:l}),Q=R0({selected:I,hover:pe,active:j,focus:ce,autofocus:u,disabled:l}),ve=t3({ref:B,onKeyDown:z,onMouseDown:X,onClick:U,id:r,role:"tab",type:W9(n,T),"aria-controls":(i=(t=_[O])==null?void 0:t.current)==null?void 0:i.id,"aria-selected":I,tabIndex:I?0:-1,disabled:l||void 0,autoFocus:u},se,Ae,Z);return Np()({ourProps:ve,theirProps:d,slot:Q,defaultTag:uV,name:"Tabs.Tab"})}let hV="div";function dV(n,e){let{selectedIndex:t}=Ap("Tab.Panels"),i=w0(e),a=R0({selectedIndex:t}),r=n,l={ref:i};return Np()({ourProps:l,theirProps:r,slot:a,defaultTag:hV,name:"Tabs.Panels"})}let pV="div",mV=nM.RenderStrategy|nM.Static;function gV(n,e){var t,i,a,r;let l=q.useId(),{id:u=`headlessui-tabs-panel-${l}`,tabIndex:d=0,...p}=n,{selectedIndex:m,tabs:v,panels:x}=Ap("Tab.Panel"),_=w1("Tab.Panel"),M=q.useRef(null),C=w0(M,e);_p(()=>_.registerPanel(M),[_,M]);let T=s3("panels"),S=x.indexOf(M);S===-1&&(S=T);let w=S===m,{isFocusVisible:B,focusProps:D}=WD(),O=R0({selected:w,focus:B}),I=t3({ref:C,id:u,role:"tabpanel","aria-labelledby":(i=(t=v[S])==null?void 0:t.current)==null?void 0:i.id,tabIndex:w?d:-1},D),F=Np();return!w&&((a=p.unmount)==null||a)&&!((r=p.static)!=null&&r)?Qn.createElement(i3,{"aria-hidden":"true",...I}):F({ourProps:I,theirProps:p,slot:O,defaultTag:pV,features:mV,visible:w,name:"Tabs.Panel"})}let vV=Lp(fV),r3=Lp(oV),o3=Lp(cV),yV=Lp(dV),xV=Lp(gV),w2=Object.assign(vV,{Group:r3,List:o3,Panels:yV,Panel:xV});const B1=q.createContext({});function D1(n){const e=q.useRef(null);return e.current===null&&(e.current=n()),e.current}const N1=typeof window<"u",l3=N1?q.useLayoutEffect:q.useEffect,tA=q.createContext(null);function L1(n,e){n.indexOf(e)===-1&&n.push(e)}function U1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const rc=(n,e,t)=>t>e?e:t<n?n:t;let O1=()=>{};const oc={},c3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function u3(n){return typeof n=="object"&&n!==null}const f3=n=>/^0[^.\s]+$/u.test(n);function P1(n){let e;return()=>(e===void 0&&(e=n()),e)}const Rr=n=>n,_V=(n,e)=>t=>e(n(t)),B0=(...n)=>n.reduce(_V),s0=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class I1{constructor(){this.subscriptions=[]}add(e){return L1(this.subscriptions,e),()=>U1(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let r=0;r<a;r++){const l=this.subscriptions[r];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const il=n=>n*1e3,Cr=n=>n/1e3;function h3(n,e){return e?n*(1e3/e):0}const d3=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,AV=1e-7,bV=12;function SV(n,e,t,i,a){let r,l,u=0;do l=e+(t-e)/2,r=d3(l,i,a)-n,r>0?t=l:e=l;while(Math.abs(r)>AV&&++u<bV);return l}function D0(n,e,t,i){if(n===e&&t===i)return Rr;const a=r=>SV(r,0,1,n,t);return r=>r===0||r===1?r:d3(a(r),e,i)}const p3=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,m3=n=>e=>1-n(1-e),g3=D0(.33,1.53,.69,.99),F1=m3(g3),v3=p3(F1),y3=n=>(n*=2)<1?.5*F1(n):.5*(2-Math.pow(2,-10*(n-1))),H1=n=>1-Math.sin(Math.acos(n)),x3=m3(H1),_3=p3(H1),MV=D0(.42,0,1,1),EV=D0(0,0,.58,1),A3=D0(.42,0,.58,1),TV=n=>Array.isArray(n)&&typeof n[0]!="number",b3=n=>Array.isArray(n)&&typeof n[0]=="number",CV={linear:Rr,easeIn:MV,easeInOut:A3,easeOut:EV,circIn:H1,circInOut:_3,circOut:x3,backIn:F1,backInOut:v3,backOut:g3,anticipate:y3},RV=n=>typeof n=="string",B2=n=>{if(b3(n)){O1(n.length===4);const[e,t,i,a]=n;return D0(e,t,i,a)}else if(RV(n))return CV[n];return n},$y=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wV(n,e){let t=new Set,i=new Set,a=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(p.schedule(m),n()),m(u)}const p={schedule:(m,v=!1,x=!1)=>{const M=x&&a?t:i;return v&&l.add(m),M.has(m)||M.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(u=m,a){r=!0;return}a=!0,[t,i]=[i,t],t.forEach(d),t.clear(),a=!1,r&&(r=!1,p.process(m))}};return p}const BV=40;function S3(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,l=$y.reduce((B,D)=>(B[D]=wV(r),B),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:m,update:v,preRender:x,render:_,postRender:M}=l,C=()=>{const B=oc.useManualTiming?a.timestamp:performance.now();t=!1,oc.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(B-a.timestamp,BV),1)),a.timestamp=B,a.isProcessing=!0,u.process(a),d.process(a),p.process(a),m.process(a),v.process(a),x.process(a),_.process(a),M.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(C))},T=()=>{t=!0,i=!0,a.isProcessing||n(C)};return{schedule:$y.reduce((B,D)=>{const O=l[D];return B[D]=(I,F=!1,z=!1)=>(t||T(),O.schedule(I,F,z)),B},{}),cancel:B=>{for(let D=0;D<$y.length;D++)l[$y[D]].cancel(B)},state:a,steps:l}}const{schedule:oi,cancel:pu,state:Ea,steps:lS}=S3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rr,!0);let fx;function DV(){fx=void 0}const Us={now:()=>(fx===void 0&&Us.set(Ea.isProcessing||oc.useManualTiming?Ea.timestamp:performance.now()),fx),set:n=>{fx=n,queueMicrotask(DV)}},M3=n=>e=>typeof e=="string"&&e.startsWith(n),z1=M3("--"),NV=M3("var(--"),G1=n=>NV(n)?LV.test(n.split("/*")[0].trim()):!1,LV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Up={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},r0={...Up,transform:n=>rc(0,1,n)},ex={...Up,default:1},Vg=n=>Math.round(n*1e5)/1e5,V1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UV(n){return n==null}const OV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k1=(n,e)=>t=>!!(typeof t=="string"&&OV.test(t)&&t.startsWith(n)||e&&!UV(t)&&Object.prototype.hasOwnProperty.call(t,e)),E3=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,r,l,u]=i.match(V1);return{[n]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},PV=n=>rc(0,255,n),cS={...Up,transform:n=>Math.round(PV(n))},kf={test:k1("rgb","red"),parse:E3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+cS.transform(n)+", "+cS.transform(e)+", "+cS.transform(t)+", "+Vg(r0.transform(i))+")"};function IV(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const iM={test:k1("#"),parse:IV,transform:kf.transform},N0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),au=N0("deg"),al=N0("%"),Vt=N0("px"),FV=N0("vh"),HV=N0("vw"),D2={...al,parse:n=>al.parse(n)/100,transform:n=>al.transform(n*100)},Kd={test:k1("hsl","hue"),parse:E3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+al.transform(Vg(e))+", "+al.transform(Vg(t))+", "+Vg(r0.transform(i))+")"},Vi={test:n=>kf.test(n)||iM.test(n)||Kd.test(n),parse:n=>kf.test(n)?kf.parse(n):Kd.test(n)?Kd.parse(n):iM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?kf.transform(n):Kd.transform(n),getAnimatableNone:n=>{const e=Vi.parse(n);return e.alpha=0,Vi.transform(e)}},zV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(V1))==null?void 0:e.length)||0)+(((t=n.match(zV))==null?void 0:t.length)||0)>0}const T3="number",C3="color",VV="var",kV="var(",N2="${}",jV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function o0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let r=0;const u=e.replace(jV,d=>(Vi.test(d)?(i.color.push(r),a.push(C3),t.push(Vi.parse(d))):d.startsWith(kV)?(i.var.push(r),a.push(VV),t.push(d)):(i.number.push(r),a.push(T3),t.push(parseFloat(d))),++r,N2)).split(N2);return{values:t,split:u,indexes:i,types:a}}function R3(n){return o0(n).values}function w3(n){const{split:e,types:t}=o0(n),i=e.length;return a=>{let r="";for(let l=0;l<i;l++)if(r+=e[l],a[l]!==void 0){const u=t[l];u===T3?r+=Vg(a[l]):u===C3?r+=Vi.transform(a[l]):r+=a[l]}return r}}const XV=n=>typeof n=="number"?0:Vi.test(n)?Vi.getAnimatableNone(n):n;function YV(n){const e=R3(n);return w3(n)(e.map(XV))}const mu={test:GV,parse:R3,createTransformer:w3,getAnimatableNone:YV};function uS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function qV({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,r=0,l=0;if(!e)a=r=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;a=uS(d,u,n+1/3),r=uS(d,u,n),l=uS(d,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function f_(n,e){return t=>t>0?e:n}const gi=(n,e,t)=>n+(e-n)*t,fS=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},JV=[iM,kf,Kd],KV=n=>JV.find(e=>e.test(n));function L2(n){const e=KV(n);if(!e)return!1;let t=e.parse(n);return e===Kd&&(t=qV(t)),t}const U2=(n,e)=>{const t=L2(n),i=L2(e);if(!t||!i)return f_(n,e);const a={...t};return r=>(a.red=fS(t.red,i.red,r),a.green=fS(t.green,i.green,r),a.blue=fS(t.blue,i.blue,r),a.alpha=gi(t.alpha,i.alpha,r),kf.transform(a))},aM=new Set(["none","hidden"]);function WV(n,e){return aM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ZV(n,e){return t=>gi(n,e,t)}function j1(n){return typeof n=="number"?ZV:typeof n=="string"?G1(n)?f_:Vi.test(n)?U2:e7:Array.isArray(n)?B3:typeof n=="object"?Vi.test(n)?U2:QV:f_}function B3(n,e){const t=[...n],i=t.length,a=n.map((r,l)=>j1(r)(r,e[l]));return r=>{for(let l=0;l<i;l++)t[l]=a[l](r);return t}}function QV(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=j1(n[a])(n[a],e[a]));return a=>{for(const r in i)t[r]=i[r](a);return t}}function $V(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],l=n.indexes[r][i[r]],u=n.values[l]??0;t[a]=u,i[r]++}return t}const e7=(n,e)=>{const t=mu.createTransformer(e),i=o0(n),a=o0(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?aM.has(n)&&!a.values.length||aM.has(e)&&!i.values.length?WV(n,e):B0(B3($V(i,a),a.values),t):f_(n,e)};function D3(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?gi(n,e,t):j1(n)(n,e)}const t7=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>oi.update(e,t),stop:()=>pu(e),now:()=>Ea.isProcessing?Ea.timestamp:Us.now()}},N3=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)i+=Math.round(n(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},h_=2e4;function X1(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<h_;)e+=t,i=n.next(e);return e>=h_?1/0:e}function n7(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(X1(i),h_);return{type:"keyframes",ease:r=>i.next(a*r).value/e,duration:Cr(a)}}const i7=5;function L3(n,e,t){const i=Math.max(e-i7,0);return h3(t-n(i),e-i)}const Ei={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hS=.001;function a7({duration:n=Ei.duration,bounce:e=Ei.bounce,velocity:t=Ei.velocity,mass:i=Ei.mass}){let a,r,l=1-e;l=rc(Ei.minDamping,Ei.maxDamping,l),n=rc(Ei.minDuration,Ei.maxDuration,Cr(n)),l<1?(a=p=>{const m=p*l,v=m*n,x=m-t,_=sM(p,l),M=Math.exp(-v);return hS-x/_*M},r=p=>{const v=p*l*n,x=v*t+t,_=Math.pow(l,2)*Math.pow(p,2)*n,M=Math.exp(-v),C=sM(Math.pow(p,2),l);return(-a(p)+hS>0?-1:1)*((x-_)*M)/C}):(a=p=>{const m=Math.exp(-p*n),v=(p-t)*n+1;return-hS+m*v},r=p=>{const m=Math.exp(-p*n),v=(t-p)*(n*n);return m*v});const u=5/n,d=r7(a,r,u);if(n=il(n),isNaN(d))return{stiffness:Ei.stiffness,damping:Ei.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const s7=12;function r7(n,e,t){let i=t;for(let a=1;a<s7;a++)i=i-n(i)/e(i);return i}function sM(n,e){return n*Math.sqrt(1-e*e)}const o7=["duration","bounce"],l7=["stiffness","damping","mass"];function O2(n,e){return e.some(t=>n[t]!==void 0)}function c7(n){let e={velocity:Ei.velocity,stiffness:Ei.stiffness,damping:Ei.damping,mass:Ei.mass,isResolvedFromDuration:!1,...n};if(!O2(n,l7)&&O2(n,o7))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,r=2*rc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ei.mass,stiffness:a,damping:r}}else{const t=a7(n);e={...e,...t,mass:Ei.mass},e.isResolvedFromDuration=!0}return e}function d_(n=Ei.visualDuration,e=Ei.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const r=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:d,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:_}=c7({...t,velocity:-Cr(t.velocity||0)}),M=x||0,C=p/(2*Math.sqrt(d*m)),T=l-r,S=Cr(Math.sqrt(d/m)),w=Math.abs(T)<5;i||(i=w?Ei.restSpeed.granular:Ei.restSpeed.default),a||(a=w?Ei.restDelta.granular:Ei.restDelta.default);let B;if(C<1){const O=sM(S,C);B=I=>{const F=Math.exp(-C*S*I);return l-F*((M+C*S*T)/O*Math.sin(O*I)+T*Math.cos(O*I))}}else if(C===1)B=O=>l-Math.exp(-S*O)*(T+(M+S*T)*O);else{const O=S*Math.sqrt(C*C-1);B=I=>{const F=Math.exp(-C*S*I),z=Math.min(O*I,300);return l-F*((M+C*S*T)*Math.sinh(z)+O*T*Math.cosh(z))/O}}const D={calculatedDuration:_&&v||null,next:O=>{const I=B(O);if(_)u.done=O>=v;else{let F=O===0?M:0;C<1&&(F=O===0?il(M):L3(B,O,I));const z=Math.abs(F)<=i,P=Math.abs(l-I)<=a;u.done=z&&P}return u.value=u.done?l:I,u},toString:()=>{const O=Math.min(X1(D),h_),I=N3(F=>D.next(O*F).value,O,30);return O+"ms "+I},toTransition:()=>{}};return D}d_.applyToOptions=n=>{const e=n7(n,100,d_);return n.ease=e.ease,n.duration=il(e.duration),n.type="keyframes",n};function rM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},_=z=>u!==void 0&&z<u||d!==void 0&&z>d,M=z=>u===void 0?d:d===void 0||Math.abs(u-z)<Math.abs(d-z)?u:d;let C=t*e;const T=v+C,S=l===void 0?T:l(T);S!==T&&(C=S-v);const w=z=>-C*Math.exp(-z/i),B=z=>S+w(z),D=z=>{const P=w(z),U=B(z);x.done=Math.abs(P)<=p,x.value=x.done?S:U};let O,I;const F=z=>{_(x.value)&&(O=z,I=d_({keyframes:[x.value,M(x.value)],velocity:L3(B,z,x.value),damping:a,stiffness:r,restDelta:p,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let P=!1;return!I&&O===void 0&&(P=!0,D(z),F(z)),O!==void 0&&z>=O?I.next(z-O):(!P&&D(z),x)}}}function u7(n,e,t){const i=[],a=t||oc.mix||D3,r=n.length-1;for(let l=0;l<r;l++){let u=a(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||Rr:e;u=B0(d,u)}i.push(u)}return i}function f7(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const r=n.length;if(O1(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=u7(e,i,a),d=u.length,p=m=>{if(l&&m<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=s0(n[v],n[v+1],m);return u[v](x)};return t?m=>p(rc(n[0],n[r-1],m)):p}function h7(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=s0(0,e,i);n.push(gi(t,1,a))}}function d7(n){const e=[0];return h7(e,n.length-1),e}function p7(n,e){return n.map(t=>t*e)}function m7(n,e){return n.map(()=>e||A3).splice(0,n.length-1)}function kg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=TV(i)?i.map(B2):B2(i),r={done:!1,value:e[0]},l=p7(t&&t.length===e.length?t:d7(e),n),u=f7(l,e,{ease:Array.isArray(a)?a:m7(e,a)});return{calculatedDuration:n,next:d=>(r.value=u(d),r.done=d>=n,r)}}const g7=n=>n!==null;function Y1(n,{repeat:e,repeatType:t="loop"},i,a=1){const r=n.filter(g7),u=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const v7={decay:rM,inertia:rM,tween:kg,keyframes:kg,spring:d_};function U3(n){typeof n.type=="string"&&(n.type=v7[n.type])}class q1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const y7=n=>n/100;class J1 extends q1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:t}=this.options;t&&t.updatedAt!==Us.now()&&this.tick(Us.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;U3(e);const{type:t=kg,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const d=t||kg;d!==kg&&typeof u[0]!="number"&&(this.mixKeyframes=B0(y7,D3(u[0],u[1])),u=[0,100]);const p=d({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=X1(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:_,type:M,onUpdate:C,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-p*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,D=i;if(v){const z=Math.min(this.currentTime,a)/u;let P=Math.floor(z),U=z%1;!U&&z>=1&&(U=1),U===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(x==="reverse"?(U=1-U,_&&(U-=_/u)):x==="mirror"&&(D=l)),B=rc(0,1,U)*u}const O=w?{done:!1,value:m[0]}:D.next(B);r&&(O.value=r(O.value));let{done:I}=O;!w&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return F&&M!==rM&&(O.value=Y1(m,this.options,T,this.speed)),C&&C(O.value),F&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return Cr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(this.currentTime)}set time(e){var t;e=il(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Us.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cr(this.currentTime))}play(){var a,r;if(this.isStopped)return;const{driver:e=t7,startTime:t}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(r=(a=this.options).onPlay)==null||r.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Us.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function x7(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const jf=n=>n*180/Math.PI,oM=n=>{const e=jf(Math.atan2(n[1],n[0]));return lM(e)},_7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:oM,rotateZ:oM,skewX:n=>jf(Math.atan(n[1])),skewY:n=>jf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},lM=n=>(n=n%360,n<0&&(n+=360),n),P2=oM,I2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),F2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),A7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:I2,scaleY:F2,scale:n=>(I2(n)+F2(n))/2,rotateX:n=>lM(jf(Math.atan2(n[6],n[5]))),rotateY:n=>lM(jf(Math.atan2(-n[2],n[0]))),rotateZ:P2,rotate:P2,skewX:n=>jf(Math.atan(n[4])),skewY:n=>jf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cM(n){return n.includes("scale")?1:0}function uM(n,e){if(!n||n==="none")return cM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=A7,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=_7,a=u}if(!a)return cM(e);const r=i[e],l=a[1].split(",").map(S7);return typeof r=="function"?r(l):l[r]}const b7=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return uM(t,e)};function S7(n){return parseFloat(n.trim())}const Op=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pp=new Set(Op),H2=n=>n===Up||n===Vt,M7=new Set(["x","y","z"]),E7=Op.filter(n=>!M7.has(n));function T7(n){const e=[];return E7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Kf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>uM(e,"x"),y:(n,{transform:e})=>uM(e,"y")};Kf.translateX=Kf.x;Kf.translateY=Kf.y;const Wf=new Set;let fM=!1,hM=!1,dM=!1;function O3(){if(hM){const n=Array.from(Wf).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=T7(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([r,l])=>{var u;(u=i.getValue(r))==null||u.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hM=!1,fM=!1,Wf.forEach(n=>n.complete(dM)),Wf.clear()}function P3(){Wf.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(hM=!0)})}function C7(){dM=!0,P3(),O3(),dM=!1}class K1{constructor(e,t,i,a,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Wf.add(this),fM||(fM=!0,oi.read(P3),oi.resolveKeyframes(O3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const r=a==null?void 0:a.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),a&&r===void 0&&a.set(e[0])}x7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wf.delete(this)}cancel(){this.state==="scheduled"&&(Wf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R7=n=>n.startsWith("--");function w7(n,e,t){R7(e)?n.style.setProperty(e,t):n.style[e]=t}const B7=P1(()=>window.ScrollTimeline!==void 0),D7={};function N7(n,e){const t=P1(n);return()=>D7[e]??t()}const I3=N7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,z2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bg([0,.65,.55,1]),circOut:Bg([.55,0,1,.45]),backIn:Bg([.31,.01,.66,-.59]),backOut:Bg([.33,1.53,.69,.99])};function F3(n,e){if(n)return typeof n=="function"?I3()?N3(n,e):"ease-out":b3(n)?Bg(n):Array.isArray(n)?n.map(t=>F3(t,e)||z2.easeOut):z2[n]}function L7(n,e,t,{delay:i=0,duration:a=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const m={[e]:t};d&&(m.offset=d);const v=F3(u,a);Array.isArray(v)&&(m.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(m,x)}function H3(n){return typeof n=="function"&&"applyToOptions"in n}function U7({type:n,...e}){return H3(n)&&I3()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O7 extends q1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,O1(typeof e.type!="string");const p=U7(e);this.animation=L7(t,i,a,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=Y1(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):w7(t,i,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Cr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=il(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&B7()?(this.animation.timeline=e,Rr):t(this)}}const z3={anticipate:y3,backInOut:v3,circInOut:_3};function P7(n){return n in z3}function I7(n){typeof n.ease=="string"&&P7(n.ease)&&(n.ease=z3[n.ease])}const G2=10;class F7 extends O7{constructor(e){I7(e),U3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:r,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new J1({...l,autoplay:!1}),d=il(this.finishedTime??this.time);t.setWithVelocity(u.sample(d-G2).value,u.sample(d).value,G2),u.stop()}}const V2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(mu.test(n)||n==="0")&&!n.startsWith("url("));function H7(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function z7(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],l=V2(a,e),u=V2(r,e);return!l||!u?!1:H7(n)||(t==="spring"||H3(t))&&i}function pM(n){n.duration=0,n.type="keyframes"}const G7=new Set(["opacity","clipPath","filter","transform"]),V7=P1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k7(n){var m;const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:r,type:l}=n;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return V7()&&t&&G7.has(t)&&(t!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&r!==0&&l!=="inertia"}const j7=40;class X7 extends q1{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:m,...v}){var M;super(),this.stop=()=>{var C,T;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Us.now();const x={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:r,repeatType:l,name:d,motionValue:p,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||K1;this.keyframeResolver=new _(u,(C,T,S)=>this.onKeyframesResolved(C,T,x,!S),d,p,m),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:m}=i;this.resolvedAt=Us.now(),z7(e,r,l,u)||((oc.instantAnimations||!d)&&(m==null||m(Y1(e,i,t))),e[0]=e[e.length-1],pM(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>j7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},_=!p&&k7(x)?new F7({...x,element:x.motionValue.owner.current}):new J1(x);_.finished.then(()=>this.notifyFinished()).catch(Rr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),C7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Y7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q7(n){const e=Y7.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function G3(n,e,t=1){const[i,a]=q7(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const l=r.trim();return c3(l)?parseFloat(l):l}return G1(a)?G3(a,e,t+1):a}function W1(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const V3=new Set(["width","height","top","left","right","bottom",...Op]),J7={test:n=>n==="auto",parse:n=>n},k3=n=>e=>e.test(n),j3=[Up,Vt,al,au,HV,FV,J7],k2=n=>j3.find(k3(n));function K7(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||f3(n):!0}const W7=new Set(["brightness","contrast","saturate","opacity"]);function Z7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(V1)||[];if(!i)return n;const a=t.replace(i,"");let r=W7.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+a+")"}const Q7=/\b([a-z-]*)\(.*?\)/gu,mM={...mu,getAnimatableNone:n=>{const e=n.match(Q7);return e?e.map(Z7).join(" "):n}},j2={...Up,transform:Math.round},$7={rotate:au,rotateX:au,rotateY:au,rotateZ:au,scale:ex,scaleX:ex,scaleY:ex,scaleZ:ex,skew:au,skewX:au,skewY:au,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:r0,originX:D2,originY:D2,originZ:Vt},Z1={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt,...$7,zIndex:j2,fillOpacity:r0,strokeOpacity:r0,numOctaves:j2},ek={...Z1,color:Vi,backgroundColor:Vi,outlineColor:Vi,fill:Vi,stroke:Vi,borderColor:Vi,borderTopColor:Vi,borderRightColor:Vi,borderBottomColor:Vi,borderLeftColor:Vi,filter:mM,WebkitFilter:mM},X3=n=>ek[n];function Y3(n,e){let t=X3(n);return t!==mM&&(t=mu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const tk=new Set(["auto","none","0"]);function nk(n,e,t){let i=0,a;for(;i<n.length&&!a;){const r=n[i];typeof r=="string"&&!tk.has(r)&&o0(r).values.length&&(a=n[i]),i++}if(a&&t)for(const r of e)n[r]=Y3(t,a)}class ik extends K1{constructor(e,t,i,a,r){super(e,t,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),G1(p))){const m=G3(p,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!V3.has(i)||e.length!==2)return;const[a,r]=e,l=k2(a),u=k2(r);if(l!==u)if(H2(l)&&H2(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Kf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||K7(e[a]))&&i.push(a);i.length&&nk(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=Kf[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function ak(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=(t==null?void 0:t[n])??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const q3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function J3(n){return u3(n)&&"offsetHeight"in n}const X2=30,sk=n=>!isNaN(parseFloat(n));class rk{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const a=Us.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new I1);const i=this.events[e].add(t);return e==="change"?()=>{i(),oi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,X2);return h3(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bp(n,e){return new rk(n,e)}const{schedule:Q1}=S3(queueMicrotask,!1),ro={x:!1,y:!1};function K3(){return ro.x||ro.y}function ok(n){return n==="x"||n==="y"?ro[n]?null:(ro[n]=!0,()=>{ro[n]=!1}):ro.x||ro.y?null:(ro.x=ro.y=!0,()=>{ro.x=ro.y=!1})}function W3(n,e){const t=ak(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function Y2(n){return!(n.pointerType==="touch"||K3())}function lk(n,e,t={}){const[i,a,r]=W3(n,t),l=u=>{if(!Y2(u))return;const{target:d}=u,p=e(d,u);if(typeof p!="function"||!d)return;const m=v=>{Y2(v)&&(p(v),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),r}const Z3=(n,e)=>e?n===e?!0:Z3(n,e.parentElement):!1,$1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ck=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uk(n){return ck.has(n.tagName)||n.tabIndex!==-1}const hx=new WeakSet;function q2(n){return e=>{e.key==="Enter"&&n(e)}}function dS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fk=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=q2(()=>{if(hx.has(t))return;dS(t,"down");const a=q2(()=>{dS(t,"up")}),r=()=>dS(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function J2(n){return $1(n)&&!K3()}function hk(n,e,t={}){const[i,a,r]=W3(n,t),l=u=>{const d=u.currentTarget;if(!J2(u))return;hx.add(d);const p=e(d,u),m=(_,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),hx.has(d)&&hx.delete(d),J2(_)&&typeof p=="function"&&p(_,{success:M})},v=_=>{m(_,d===window||d===document||t.useGlobalTarget||Z3(d,_.target))},x=_=>{m(_,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),J3(u)&&(u.addEventListener("focus",p=>fk(p,a)),!uk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function Q3(n){return u3(n)&&"ownerSVGElement"in n}function dk(n){return Q3(n)&&n.tagName==="svg"}const Ya=n=>!!(n&&n.getVelocity),pk=[...j3,Vi,mu],mk=n=>pk.find(k3(n)),eE=q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function K2(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function gk(...n){return e=>{let t=!1;const i=n.map(a=>{const r=K2(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<i.length;a++){const r=i[a];typeof r=="function"?r():K2(n[a],null)}}}}function vk(...n){return q.useCallback(gk(...n),n)}class yk extends q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=J3(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xk({children:n,isPresent:e,anchorX:t,root:i}){const a=q.useId(),r=q.useRef(null),l=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=q.useContext(eE),d=vk(r,n==null?void 0:n.ref);return q.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:x,right:_}=l.current;if(e||!r.current||!p||!m)return;const M=t==="left"?`left: ${x}`:`right: ${_}`;r.current.dataset.motionPopId=a;const C=document.createElement("style");u&&(C.nonce=u);const T=i??document.head;return T.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${M}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(C)&&T.removeChild(C)}},[e]),W.jsx(yk,{isPresent:e,childRef:r,sizeRef:l,children:q.cloneElement(n,{ref:d})})}const _k=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:l,anchorX:u,root:d})=>{const p=D1(Ak),m=q.useId();let v=!0,x=q.useMemo(()=>(v=!1,{id:m,initial:e,isPresent:t,custom:a,onExitComplete:_=>{p.set(_,!0);for(const M of p.values())if(!M)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[t,p,i]);return r&&v&&(x={...x}),q.useMemo(()=>{p.forEach((_,M)=>p.set(M,!1))},[t]),q.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),l==="popLayout"&&(n=W.jsx(xk,{isPresent:t,anchorX:u,root:d,children:n})),W.jsx(tA.Provider,{value:x,children:n})};function Ak(){return new Map}function $3(n=!0){const e=q.useContext(tA);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,r=q.useId();q.useEffect(()=>{if(n)return a(r)},[n]);const l=q.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,l]:[!0]}const tx=n=>n.key||"";function W2(n){const e=[];return q.Children.forEach(n,t=>{q.isValidElement(t)&&e.push(t)}),e}const bk=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[p,m]=$3(l),v=q.useMemo(()=>W2(n),[n]),x=l&&!p?[]:v.map(tx),_=q.useRef(!0),M=q.useRef(v),C=D1(()=>new Map),[T,S]=q.useState(v),[w,B]=q.useState(v);l3(()=>{_.current=!1,M.current=v;for(let I=0;I<w.length;I++){const F=tx(w[I]);x.includes(F)?C.delete(F):C.get(F)!==!0&&C.set(F,!1)}},[w,x.length,x.join("-")]);const D=[];if(v!==T){let I=[...v];for(let F=0;F<w.length;F++){const z=w[F],P=tx(z);x.includes(P)||(I.splice(F,0,z),D.push(z))}return r==="wait"&&D.length&&(I=D),B(W2(I)),S(v),null}const{forceRender:O}=q.useContext(B1);return W.jsx(W.Fragment,{children:w.map(I=>{const F=tx(I),z=l&&!p?!1:v===w||x.includes(F),P=()=>{if(C.has(F))C.set(F,!0);else return;let U=!0;C.forEach(X=>{X||(U=!1)}),U&&(O==null||O(),B(M.current),l&&(m==null||m()),i&&i())};return W.jsx(_k,{isPresent:z,initial:!_.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:d,onExitComplete:z?void 0:P,anchorX:u,children:I},F)})})},eN=q.createContext({strict:!1}),Z2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sp={};for(const n in Z2)Sp[n]={isEnabled:e=>Z2[n].some(t=>!!e[t])};function Sk(n){for(const e in n)Sp[e]={...Sp[e],...n[e]}}const Mk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Mk.has(n)}let tN=n=>!p_(n);function Ek(n){typeof n=="function"&&(tN=e=>e.startsWith("on")?!p_(e):n(e))}try{Ek(require("@emotion/is-prop-valid").default)}catch{}function Tk(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(tN(a)||t===!0&&p_(a)||!e&&!p_(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const nA=q.createContext({});function iA(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function l0(n){return typeof n=="string"||Array.isArray(n)}const tE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nE=["initial",...tE];function aA(n){return iA(n.animate)||nE.some(e=>l0(n[e]))}function nN(n){return!!(aA(n)||n.variants)}function Ck(n,e){if(aA(n)){const{initial:t,animate:i}=n;return{initial:t===!1||l0(t)?t:void 0,animate:l0(i)?i:void 0}}return n.inherit!==!1?e:{}}function Rk(n){const{initial:e,animate:t}=Ck(n,q.useContext(nA));return q.useMemo(()=>({initial:e,animate:t}),[Q2(e),Q2(t)])}function Q2(n){return Array.isArray(n)?n.join(" "):n}const c0={};function wk(n){for(const e in n)c0[e]=n[e],z1(e)&&(c0[e].isCSSVariable=!0)}function iN(n,{layout:e,layoutId:t}){return Pp.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!c0[n]||n==="opacity")}const Bk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dk=Op.length;function Nk(n,e,t){let i="",a=!0;for(let r=0;r<Dk;r++){const l=Op[r],u=n[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||t){const p=q3(u,Z1[l]);if(!d){a=!1;const m=Bk[l]||l;i+=`${m}(${p}) `}t&&(e[l]=p)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function iE(n,e,t){const{style:i,vars:a,transformOrigin:r}=n;let l=!1,u=!1;for(const d in e){const p=e[d];if(Pp.has(d)){l=!0;continue}else if(z1(d)){a[d]=p;continue}else{const m=q3(p,Z1[d]);d.startsWith("origin")?(u=!0,r[d]=m):i[d]=m}}if(e.transform||(l||t?i.transform=Nk(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${d} ${p} ${m}`}}const aE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aN(n,e,t){for(const i in e)!Ya(e[i])&&!iN(i,t)&&(n[i]=e[i])}function Lk({transformTemplate:n},e){return q.useMemo(()=>{const t=aE();return iE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Uk(n,e){const t=n.style||{},i={};return aN(i,t,n),Object.assign(i,Lk(n,e)),i}function Ok(n,e){const t={},i=Uk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const Pk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ik={offset:"strokeDashoffset",array:"strokeDasharray"};function Fk(n,e,t=1,i=0,a=!0){n.pathLength=1;const r=a?Pk:Ik;n[r.offset]=Vt.transform(-i);const l=Vt.transform(e),u=Vt.transform(t);n[r.array]=`${l} ${u}`}function sN(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:l=0,...u},d,p,m){if(iE(n,u,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&Fk(v,a,r,l,!1)}const rN=()=>({...aE(),attrs:{}}),oN=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Hk(n,e,t,i){const a=q.useMemo(()=>{const r=rN();return sN(r,e,oN(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};aN(r,n.style,n),a.style={...r,...a.style}}return a}const zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sE(n){return typeof n!="string"||n.includes("-")?!1:!!(zk.indexOf(n)>-1||/[A-Z]/u.test(n))}function Gk(n,e,t,{latestValues:i},a,r=!1){const u=(sE(n)?Hk:Ok)(e,i,a,n),d=Tk(e,typeof n=="string",r),p=n!==q.Fragment?{...d,...u,ref:t}:{},{children:m}=e,v=q.useMemo(()=>Ya(m)?m.get():m,[m]);return q.createElement(n,{...p,children:v})}function $2(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function rE(n,e,t,i){if(typeof e=="function"){const[a,r]=$2(i);e=e(t!==void 0?t:n.custom,a,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,r]=$2(i);e=e(t!==void 0?t:n.custom,a,r)}return e}function dx(n){return Ya(n)?n.get():n}function Vk({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:kk(t,i,a,n),renderState:e()}}function kk(n,e,t,i){const a={},r=i(n,{});for(const x in r)a[x]=dx(r[x]);let{initial:l,animate:u}=n;const d=aA(n),p=nN(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const v=m?u:l;if(v&&typeof v!="boolean"&&!iA(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const M=rE(n,x[_]);if(M){const{transitionEnd:C,transition:T,...S}=M;for(const w in S){let B=S[w];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(a[w]=B)}for(const w in C)a[w]=C[w]}}}return a}const lN=n=>(e,t)=>{const i=q.useContext(nA),a=q.useContext(tA),r=()=>Vk(n,e,i,a);return t?r():D1(r)};function oE(n,e,t){var r;const{style:i}=n,a={};for(const l in i)(Ya(i[l])||e.style&&Ya(e.style[l])||iN(l,n)||((r=t==null?void 0:t.getValue(l))==null?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}const jk=lN({scrapeMotionValuesFromProps:oE,createRenderState:aE});function cN(n,e,t){const i=oE(n,e,t);for(const a in n)if(Ya(n[a])||Ya(e[a])){const r=Op.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=n[a]}return i}const Xk=lN({scrapeMotionValuesFromProps:cN,createRenderState:rN}),Yk=Symbol.for("motionComponentSymbol");function Wd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qk(n,e,t){return q.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Wd(t)&&(t.current=i))},[e])}const lE=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jk="framerAppearId",uN="data-"+lE(Jk),fN=q.createContext({});function Kk(n,e,t,i,a){var C,T;const{visualElement:r}=q.useContext(nA),l=q.useContext(eN),u=q.useContext(tA),d=q.useContext(eE).reducedMotion,p=q.useRef(null);i=i||l.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:r,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,v=q.useContext(fN);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&Wk(p.current,t,a,v);const x=q.useRef(!1);q.useInsertionEffect(()=>{m&&x.current&&m.update(t,u)});const _=t[uN],M=q.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,_)));return l3(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),M.current&&m.animationState&&m.animationState.animateChanges())}),q.useEffect(()=>{m&&(!M.current&&m.animationState&&m.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,_)}),M.current=!1),m.enteringChildren=void 0)}),m}function Wk(n,e,t,i){const{layoutId:a,layout:r,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:hN(n.parent)),n.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!l||u&&Wd(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:p})}function hN(n){if(n)return n.options.allowProjection!==!1?n.projection:hN(n.parent)}function pS(n,{forwardMotionProps:e=!1}={},t,i){t&&Sk(t);const a=sE(n)?Xk:jk;function r(u,d){let p;const m={...q.useContext(eE),...u,layoutId:Zk(u)},{isStatic:v}=m,x=Rk(u),_=a(u,v);if(!v&&N1){Qk();const M=$k(m);p=M.MeasureLayout,x.visualElement=Kk(n,_,m,i,M.ProjectionNode)}return W.jsxs(nA.Provider,{value:x,children:[p&&x.visualElement?W.jsx(p,{visualElement:x.visualElement,...m}):null,Gk(n,u,qk(_,x.visualElement,d),_,v,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=q.forwardRef(r);return l[Yk]=n,l}function Zk({layoutId:n}){const e=q.useContext(B1).id;return e&&n!==void 0?e+"-"+n:n}function Qk(n,e){q.useContext(eN).strict}function $k(n){const{drag:e,layout:t}=Sp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ej(n,e){if(typeof Proxy>"u")return pS;const t=new Map,i=(r,l)=>pS(r,l,n,e),a=(r,l)=>i(r,l);return new Proxy(a,{get:(r,l)=>l==="create"?i:(t.has(l)||t.set(l,pS(l,void 0,n,e)),t.get(l))})}function dN({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function tj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function mS(n){return n===void 0||n===1}function gM({scale:n,scaleX:e,scaleY:t}){return!mS(n)||!mS(e)||!mS(t)}function Uf(n){return gM(n)||pN(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function pN(n){return eR(n.x)||eR(n.y)}function eR(n){return n&&n!=="0%"}function m_(n,e,t){const i=n-t,a=e*i;return t+a}function tR(n,e,t,i,a){return a!==void 0&&(n=m_(n,a,i)),m_(n,t,i)+e}function vM(n,e=0,t=1,i,a){n.min=tR(n.min,e,t,i,a),n.max=tR(n.max,e,t,i,a)}function mN(n,{x:e,y:t}){vM(n.x,e.translate,e.scale,e.originPoint),vM(n.y,t.translate,t.scale,t.originPoint)}const nR=.999999999999,iR=1.0000000000001;function ij(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,l;for(let u=0;u<a;u++){r=t[u],l=r.projectionDelta;const{visualElement:d}=r.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Qd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,mN(n,l)),i&&Uf(r.latestValues)&&Qd(n,r.latestValues))}e.x<iR&&e.x>nR&&(e.x=1),e.y<iR&&e.y>nR&&(e.y=1)}function Zd(n,e){n.min=n.min+e,n.max=n.max+e}function aR(n,e,t,i,a=.5){const r=gi(n.min,n.max,a);vM(n,e,t,r,i)}function Qd(n,e){aR(n.x,e.x,e.scaleX,e.scale,e.originX),aR(n.y,e.y,e.scaleY,e.scale,e.originY)}function gN(n,e){return dN(nj(n.getBoundingClientRect(),e))}function aj(n,e,t){const i=gN(n,t),{scroll:a}=e;return a&&(Zd(i.x,a.offset.x),Zd(i.y,a.offset.y)),i}const sR=()=>({translate:0,scale:1,origin:0,originPoint:0}),$d=()=>({x:sR(),y:sR()}),rR=()=>({min:0,max:0}),Ni=()=>({x:rR(),y:rR()}),yM={current:null},vN={current:!1};function sj(){if(vN.current=!0,!!N1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>yM.current=n.matches;n.addEventListener("change",e),e()}else yM.current=!1}const rj=new WeakMap;function oj(n,e,t){for(const i in e){const a=e[i],r=t[i];if(Ya(a))n.addValue(i,a);else if(Ya(r))n.addValue(i,bp(a,{owner:n}));else if(r!==a)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(i);n.addValue(i,bp(l!==void 0?l:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const oR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lj{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Us.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,oi.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=aA(t),this.isVariantNode=nN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in v){const _=v[x];d[x]!==void 0&&Ya(_)&&_.set(d[x])}}mount(e){var t;this.current=e,rj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),vN.current||sj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yM.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),pu(this.notifyUpdate),pu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Pp.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&oi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sp){const t=Sp[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ni()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<oR.length;i++){const a=oR[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,l=e[r];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=oj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=bp(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(c3(i)||f3(i))?i=parseFloat(i):!mk(i)&&mu.test(t)&&(i=Y3(e,t)),this.setBaseTarget(e,Ya(i)?i.get():i)),Ya(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const l=rE(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);l&&(i=l[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ya(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new I1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Q1.render(this.render)}}class yN extends lj{constructor(){super(...arguments),this.KeyframeResolver=ik}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ya(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function xN(n,{style:e,vars:t},i,a){const r=n.style;let l;for(l in e)r[l]=e[l];a==null||a.applyProjectionStyles(r,i);for(l in t)r.setProperty(l,t[l])}function cj(n){return window.getComputedStyle(n)}class uj extends yN{constructor(){super(...arguments),this.type="html",this.renderInstance=xN}readValueFromInstance(e,t){var i;if(Pp.has(t))return(i=this.projection)!=null&&i.isProjecting?cM(t):b7(e,t);{const a=cj(e),r=(z1(t)?a.getPropertyValue(t):a[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gN(e,t)}build(e,t,i){iE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return oE(e,t,i)}}const _N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fj(n,e,t,i){xN(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(_N.has(a)?a:lE(a),e.attrs[a])}class hj extends yN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ni}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Pp.has(t)){const i=X3(t);return i&&i.default||0}return t=_N.has(t)?t:lE(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return cN(e,t,i)}build(e,t,i){sN(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){fj(e,t,i,a)}mount(e){this.isSVGTag=oN(e.tagName),super.mount(e)}}const dj=(n,e)=>sE(n)?new hj(e):new uj(e,{allowProjection:n!==q.Fragment});function sp(n,e,t){const i=n.getProps();return rE(i,e,t!==void 0?t:i.custom,n)}const xM=n=>Array.isArray(n);function pj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bp(t))}function mj(n){return xM(n)?n[n.length-1]||0:n}function gj(n,e){const t=sp(n,e);let{transitionEnd:i={},transition:a={},...r}=t||{};r={...r,...i};for(const l in r){const u=mj(r[l]);pj(n,l,u)}}function vj(n){return!!(Ya(n)&&n.add)}function _M(n,e){const t=n.getValue("willChange");if(vj(t))return t.add(e);if(!t&&oc.WillChange){const i=new oc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function AN(n){return n.props[uN]}const yj=n=>n!==null;function xj(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(yj),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const _j={type:"spring",stiffness:500,damping:25,restSpeed:10},Aj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),bj={type:"keyframes",duration:.8},Sj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mj=(n,{keyframes:e})=>e.length>2?bj:Pp.has(n)?n.startsWith("scale")?Aj(e[1]):_j:Sj;function Ej({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:l,repeatDelay:u,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const cE=(n,e,t,i={},a,r)=>l=>{const u=W1(i,n)||{},d=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-il(d);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:r?void 0:a};Ej(u)||Object.assign(m,Mj(n,m)),m.duration&&(m.duration=il(m.duration)),m.repeatDelay&&(m.repeatDelay=il(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(pM(m),m.delay===0&&(v=!0)),(oc.instantAnimations||oc.skipAnimations)&&(v=!0,pM(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!r&&e.get()!==void 0){const x=xj(m.keyframes,u);if(x!==void 0){oi.update(()=>{m.onUpdate(x),m.onComplete()});return}}return u.isSync?new J1(m):new X7(m)};function Tj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function bN(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(r=i);const d=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const m in u){const v=n.getValue(m,n.latestValues[m]??null),x=u[m];if(x===void 0||p&&Tj(p,m))continue;const _={delay:t,...W1(r||{},m)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===M&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const S=AN(n);if(S){const w=window.MotionHandoffAnimation(S,m,oi);w!==null&&(_.startTime=w,C=!0)}}_M(n,m),v.start(cE(m,v,x,n.shouldReduceMotion&&V3.has(m)?{type:!1}:_,n,C));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{oi.update(()=>{l&&gj(n,l)})}),d}function SN(n,e,t,i=0,a=1){const r=Array.from(n).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=n.size,u=(l-1)*i;return typeof t=="function"?t(r,l):a===1?r*i:u-r*i}function AM(n,e,t={}){var d;const i=sp(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const r=i?()=>Promise.all(bN(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=a;return Cj(n,e,p,m,v,x,t)}:()=>Promise.resolve(),{when:u}=a;if(u){const[p,m]=u==="beforeChildren"?[r,l]:[l,r];return p().then(()=>m())}else return Promise.all([r(),l(t.delay)])}function Cj(n,e,t=0,i=0,a=0,r=1,l){const u=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),u.push(AM(d,e,{...l,delay:t+(typeof i=="function"?0:i)+SN(n.variantChildren,d,i,a,r)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function Rj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(r=>AM(n,r,t));i=Promise.all(a)}else if(typeof e=="string")i=AM(n,e,t);else{const a=typeof e=="function"?sp(n,e,t.custom):e;i=Promise.all(bN(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function MN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const wj=nE.length;function EN(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?EN(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<wj;t++){const i=nE[t],a=n.props[i];(l0(a)||a===!1)&&(e[i]=a)}return e}const Bj=[...tE].reverse(),Dj=tE.length;function Nj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Rj(n,t,i)))}function Lj(n){let e=Nj(n),t=lR(),i=!0;const a=d=>(p,m)=>{var x;const v=sp(n,m,d==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:_,transitionEnd:M,...C}=v;p={...p,...C,...M}}return p};function r(d){e=d(n)}function l(d){const{props:p}=n,m=EN(n.parent)||{},v=[],x=new Set;let _={},M=1/0;for(let T=0;T<Dj;T++){const S=Bj[T],w=t[S],B=p[S]!==void 0?p[S]:m[S],D=l0(B),O=S===d?w.isActive:null;O===!1&&(M=T);let I=B===m[S]&&B!==p[S]&&D;if(I&&i&&n.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={..._},!w.isActive&&O===null||!B&&!w.prevProp||iA(B)||typeof B=="boolean")continue;const F=Uj(w.prevProp,B);let z=F||S===d&&w.isActive&&!I&&D||T>M&&D,P=!1;const U=Array.isArray(B)?B:[B];let X=U.reduce(a(S),{});O===!1&&(X={});const{prevResolvedValues:ce={}}=w,se={...ce,...X},pe=Z=>{z=!0,x.has(Z)&&(P=!0,x.delete(Z)),w.needsAnimating[Z]=!0;const Q=n.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in se){const Q=X[Z],ve=ce[Z];if(_.hasOwnProperty(Z))continue;let ye=!1;xM(Q)&&xM(ve)?ye=!MN(Q,ve):ye=Q!==ve,ye?Q!=null?pe(Z):x.add(Z):Q!==void 0&&x.has(Z)?pe(Z):w.protectedKeys[Z]=!0}w.prevProp=B,w.prevResolvedValues=X,w.isActive&&(_={..._,...X}),i&&n.blockInitialAnimation&&(z=!1);const Ae=I&&F;z&&(!Ae||P)&&v.push(...U.map(Z=>{const Q={type:S};if(typeof Z=="string"&&i&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:ve}=n,ye=sp(ve,Z);if(ve.enteringChildren&&ye){const{delayChildren:Y}=ye.transition||{};Q.delay=SN(ve.enteringChildren,n,Y)}}return{animation:Z,options:Q}}))}if(x.size){const T={};if(typeof p.initial!="boolean"){const S=sp(n,Array.isArray(p.initial)?p.initial[0]:p.initial);S&&S.transition&&(T.transition=S.transition)}x.forEach(S=>{const w=n.getBaseTarget(S),B=n.getValue(S);B&&(B.liveStyle=!0),T[S]=w??null}),v.push({animation:T})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(d,p){var v;if(t[d].isActive===p)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(d,p)}),t[d].isActive=p;const m=l(d);for(const x in t)t[x].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=lR()}}}function Uj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MN(e,n):!1}function wf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lR(){return{animate:wf(!0),whileInView:wf(),whileHover:wf(),whileTap:wf(),whileDrag:wf(),whileFocus:wf(),exit:wf()}}class Au{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Oj extends Au{constructor(e){super(e),e.animationState||(e.animationState=Lj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Pj=0;class Ij extends Au{constructor(){super(...arguments),this.id=Pj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Fj={animation:{Feature:Oj},exit:{Feature:Ij}};function u0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function L0(n){return{point:{x:n.pageX,y:n.pageY}}}const Hj=n=>e=>$1(e)&&n(e,L0(e));function jg(n,e,t,i){return u0(n,e,Hj(t),i)}const TN=1e-4,zj=1-TN,Gj=1+TN,CN=.01,Vj=0-CN,kj=0+CN;function xs(n){return n.max-n.min}function jj(n,e,t){return Math.abs(n-e)<=t}function cR(n,e,t,i=.5){n.origin=i,n.originPoint=gi(e.min,e.max,n.origin),n.scale=xs(t)/xs(e),n.translate=gi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=zj&&n.scale<=Gj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Vj&&n.translate<=kj||isNaN(n.translate))&&(n.translate=0)}function Xg(n,e,t,i){cR(n.x,e.x,t.x,i?i.originX:void 0),cR(n.y,e.y,t.y,i?i.originY:void 0)}function uR(n,e,t){n.min=t.min+e.min,n.max=n.min+xs(e)}function Xj(n,e,t){uR(n.x,e.x,t.x),uR(n.y,e.y,t.y)}function fR(n,e,t){n.min=e.min-t.min,n.max=n.min+xs(e)}function Yg(n,e,t){fR(n.x,e.x,t.x),fR(n.y,e.y,t.y)}function Sr(n){return[n("x"),n("y")]}const RN=({current:n})=>n?n.ownerDocument.defaultView:null,hR=(n,e)=>Math.abs(n-e);function Yj(n,e){const t=hR(n.x,e.x),i=hR(n.y,e.y);return Math.sqrt(t**2+i**2)}class wN{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=vS(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,M=Yj(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!M)return;const{point:C}=x,{timestamp:T}=Ea;this.history.push({...C,timestamp:T});const{onStart:S,onMove:w}=this.handlers;_||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=gS(_,this.transformPagePoint),oi.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:M,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vS(x.type==="pointercancel"?this.lastMoveEventInfo:gS(_,this.transformPagePoint),this.history);this.startEvent&&M&&M(x,S),C&&C(x,S)},!$1(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=a||window;const u=L0(e),d=gS(u,this.transformPagePoint),{point:p}=d,{timestamp:m}=Ea;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,vS(d,this.history)),this.removeListeners=B0(jg(this.contextWindow,"pointermove",this.handlePointerMove),jg(this.contextWindow,"pointerup",this.handlePointerUp),jg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pu(this.updatePoint)}}function gS(n,e){return e?{point:e(n.point)}:n}function dR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function vS({point:n},e){return{point:n,delta:dR(n,BN(e)),offset:dR(n,qj(e)),velocity:Jj(e,.1)}}function qj(n){return n[0]}function BN(n){return n[n.length-1]}function Jj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=BN(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>il(e)));)t--;if(!i)return{x:0,y:0};const r=Cr(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Kj(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?gi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?gi(t,n,i.max):Math.min(n,t)),n}function pR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Wj(n,{top:e,left:t,bottom:i,right:a}){return{x:pR(n.x,t,a),y:pR(n.y,e,i)}}function mR(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Zj(n,e){return{x:mR(n.x,e.x),y:mR(n.y,e.y)}}function Qj(n,e){let t=.5;const i=xs(n),a=xs(e);return a>i?t=s0(e.min,e.max-i,n.min):i>a&&(t=s0(n.min,n.max-a,e.min)),rc(0,1,t)}function $j(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const bM=.35;function eX(n=bM){return n===!1?n=0:n===!0&&(n=bM),{x:gR(n,"left","right"),y:gR(n,"top","bottom")}}function gR(n,e,t){return{min:vR(n,e),max:vR(n,t)}}function vR(n,e){return typeof n=="number"?n:n[e]||0}const tX=new WeakMap;class nX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ni(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(L0(v).point)},l=(v,x)=>{const{drag:_,dragPropagation:M,onDragStart:C}=this.getProps();if(_&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ok(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sr(S=>{let w=this.getAxisMotionValue(S).get()||0;if(al.test(w)){const{projection:B}=this.visualElement;if(B&&B.layout){const D=B.layout.layoutBox[S];D&&(w=xs(D)*(parseFloat(w)/100))}}this.originPoint[S]=w}),C&&oi.postRender(()=>C(v,x)),_M(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:M,onDirectionLock:C,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:S}=x;if(M&&this.currentDirection===null){this.currentDirection=iX(S),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),T&&T(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Sr(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new wN(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:RN(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&oi.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!nx(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=Kj(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,a=this.constraints;e&&Wd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Wj(i.layoutBox,e):this.constraints=!1,this.elastic=eX(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Sr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$j(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wd(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=aj(i,a.root,this.visualElement.getTransformPagePoint());let l=Zj(a.layout.layoutBox,r);if(t){const u=t(tj(l));this.hasMutatedConstraints=!!u,u&&(l=dN(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Sr(m=>{if(!nx(m,t,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const x=a?200:1e6,_=a?40:1e7,M={type:"inertia",velocity:i?e[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,M)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return _M(this.visualElement,e),i.start(cE(e,i,0,t,this.visualElement,!1))}stopAnimation(){Sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Sr(t=>{const{drag:i}=this.getProps();if(!nx(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];r.set(e[t]-gi(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Wd(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Sr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();a[l]=Qj({min:d,max:d},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Sr(l=>{if(!nx(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(gi(d,p,a[l]))})}addListeners(){if(!this.visualElement.current)return;tX.set(this.visualElement,this);const e=this.visualElement.current,t=jg(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Wd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),oi.read(i);const l=u0(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Sr(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),t(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:l=bM,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function nx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function iX(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class aX extends Au{constructor(e){super(e),this.removeGroupControls=Rr,this.removeListeners=Rr,this.controls=new nX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yR=n=>(e,t)=>{n&&oi.postRender(()=>n(e,t))};class sX extends Au{constructor(){super(...arguments),this.removePointerDownListener=Rr}onPointerDown(e){this.session=new wN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:yR(e),onStart:yR(t),onMove:i,onEnd:(r,l)=>{delete this.session,a&&oi.postRender(()=>a(r,l))}}}mount(){this.removePointerDownListener=jg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const px={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xR(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Mg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Vt.test(n))n=parseFloat(n);else return n;const t=xR(n,e.target.x),i=xR(n,e.target.y);return`${t}% ${i}%`}},rX={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=mu.parse(n);if(a.length>5)return i;const r=mu.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=d;const p=gi(u,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=p),typeof a[3+l]=="number"&&(a[3+l]/=p),r(a)}};let yS=!1;class oX extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=e;wk(lX),r&&(t.group&&t.group.add(r),i&&i.register&&a&&i.register(r),yS&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),px.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,yS=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||oi.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;yS=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DN(n){const[e,t]=$3(),i=q.useContext(B1);return W.jsx(oX,{...n,layoutGroup:i,switchLayoutGroup:q.useContext(fN),isPresent:e,safeToRemove:t})}const lX={borderRadius:{...Mg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mg,borderTopRightRadius:Mg,borderBottomLeftRadius:Mg,borderBottomRightRadius:Mg,boxShadow:rX};function cX(n,e,t){const i=Ya(n)?n:bp(n);return i.start(cE("",i,e,t)),i.animation}const uX=(n,e)=>n.depth-e.depth;class fX{constructor(){this.children=[],this.isDirty=!1}add(e){L1(this.children,e),this.isDirty=!0}remove(e){U1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uX),this.isDirty=!1,this.children.forEach(e)}}function hX(n,e){const t=Us.now(),i=({timestamp:a})=>{const r=a-t;r>=e&&(pu(i),n(r-e))};return oi.setup(i,!0),()=>pu(i)}const NN=["TopLeft","TopRight","BottomLeft","BottomRight"],dX=NN.length,_R=n=>typeof n=="string"?parseFloat(n):n,AR=n=>typeof n=="number"||Vt.test(n);function pX(n,e,t,i,a,r){a?(n.opacity=gi(0,t.opacity??1,mX(i)),n.opacityExit=gi(e.opacity??1,0,gX(i))):r&&(n.opacity=gi(e.opacity??1,t.opacity??1,i));for(let l=0;l<dX;l++){const u=`border${NN[l]}Radius`;let d=bR(e,u),p=bR(t,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||AR(d)===AR(p)?(n[u]=Math.max(gi(_R(d),_R(p),i),0),(al.test(p)||al.test(d))&&(n[u]+="%")):n[u]=p}(e.rotate||t.rotate)&&(n.rotate=gi(e.rotate||0,t.rotate||0,i))}function bR(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const mX=LN(0,.5,x3),gX=LN(.5,.95,Rr);function LN(n,e,t){return i=>i<n?0:i>e?1:t(s0(n,e,i))}function SR(n,e){n.min=e.min,n.max=e.max}function br(n,e){SR(n.x,e.x),SR(n.y,e.y)}function MR(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ER(n,e,t,i,a){return n-=e,n=m_(n,1/t,i),a!==void 0&&(n=m_(n,1/a,i)),n}function vX(n,e=0,t=1,i=.5,a,r=n,l=n){if(al.test(e)&&(e=parseFloat(e),e=gi(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=gi(r.min,r.max,i);n===r&&(u-=e),n.min=ER(n.min,e,t,u,a),n.max=ER(n.max,e,t,u,a)}function TR(n,e,[t,i,a],r,l){vX(n,e[t],e[i],e[a],e.scale,r,l)}const yX=["x","scaleX","originX"],xX=["y","scaleY","originY"];function CR(n,e,t,i){TR(n.x,e,yX,t?t.x:void 0,i?i.x:void 0),TR(n.y,e,xX,t?t.y:void 0,i?i.y:void 0)}function RR(n){return n.translate===0&&n.scale===1}function UN(n){return RR(n.x)&&RR(n.y)}function wR(n,e){return n.min===e.min&&n.max===e.max}function _X(n,e){return wR(n.x,e.x)&&wR(n.y,e.y)}function BR(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ON(n,e){return BR(n.x,e.x)&&BR(n.y,e.y)}function DR(n){return xs(n.x)/xs(n.y)}function NR(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class AX{constructor(){this.members=[]}add(e){L1(this.members,e),e.scheduleRender()}remove(e){if(U1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bX(n,e,t){let i="";const a=n.x.translate/e.x,r=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((a||r||l)&&(i=`translate3d(${a}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:_,skewY:M}=t;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),M&&(i+=`skewY(${M}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const xS=["","X","Y","Z"],SX=1e3;let MX=0;function _S(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function PN(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=AN(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",oi,!(a||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&PN(i)}function IN({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=e==null?void 0:e()){this.id=MX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CX),this.nodes.forEach(DX),this.nodes.forEach(NX),this.nodes.forEach(RX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new fX)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new I1),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Q3(l)&&!dk(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),n){let m,v=0;const x=()=>this.root.updateBlockedByResize=!1;oi.read(()=>{v=window.innerWidth}),n(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=hX(x,250),px.hasAnimatedSinceResize&&(px.hasAnimatedSinceResize=!1,this.nodes.forEach(OR)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||IX,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=p.getProps(),S=!this.targetLayout||!ON(this.targetLayout,_),w=!v&&x;if(this.options.layoutRoot||this.resumeFrom||w||v&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...W1(M,"layout"),onPlay:C,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(m,w)}else v||OR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LX),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BX),this.nodes.forEach(EX),this.nodes.forEach(TX)):this.nodes.forEach(UR),this.clearAllSnapshots();const u=Us.now();Ea.delta=rc(0,1e3/60,u-Ea.timestamp),Ea.timestamp=u,Ea.isProcessing=!0,lS.update.process(Ea),lS.preRender.process(Ea),lS.render.process(Ea),Ea.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wX),this.sharedNodes.forEach(UX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xs(this.snapshot.measuredBox.x)&&!xs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ni(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!UN(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Uf(this.latestValues)||m)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),FX(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Ni();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(HX))){const{scroll:m}=this.root;m&&(Zd(u.x,m.offset.x),Zd(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=Ni();if(br(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&br(u,l),Zd(u.x,v.offset.x),Zd(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const d=Ni();br(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Qd(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Uf(m.latestValues)&&Qd(d,m.latestValues)}return Uf(this.latestValues)&&Qd(d,this.latestValues),d}removeTransform(l){const u=Ni();br(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Uf(p.latestValues))continue;gM(p.latestValues)&&p.updateSnapshot();const m=Ni(),v=p.measurePageBox();br(m,v),CR(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Uf(this.latestValues)&&CR(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ea.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ea.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),Yg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ni(),this.targetWithTransforms=Ni()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):br(this.target,this.layout.layoutBox),mN(this.target,this.targetDelta)):br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),Yg(this.relativeTargetOrigin,this.target,_.target),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gM(this.parent.latestValues)||pN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ea.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;br(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;ij(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ni());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MR(this.prevProjectionDelta.x,this.projectionDelta.x),MR(this.prevProjectionDelta.y,this.projectionDelta.y)),Xg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!NR(this.projectionDelta.x,this.prevProjectionDelta.x)||!NR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$d(),this.projectionDelta=$d(),this.projectionDeltaWithTransform=$d()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=$d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Ni(),_=d?d.source:void 0,M=this.layout?this.layout.source:void 0,C=_!==M,T=this.getStack(),S=!T||T.members.length<=1,w=!!(C&&!S&&this.options.crossfade===!0&&!this.path.some(PX));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const O=D/1e3;PR(v.x,l.x,O),PR(v.y,l.y,O),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yg(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OX(this.relativeTarget,this.relativeTargetOrigin,x,O),B&&_X(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ni()),br(B,this.relativeTarget)),C&&(this.animationValues=m,pX(m,p,this.latestValues,O,w,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(pu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oi.update(()=>{px.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bp(0)),this.currentAnimation=cX(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:m}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&FN(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ni();const v=xs(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=xs(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}br(u,d),Qd(u,m),Xg(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new AX),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&_S("z",l,p,this.animationValues);for(let m=0;m<xS.length;m++)_S(`rotate${xS[m]}`,l,p,this.animationValues),_S(`skew${xS[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=dx(u==null?void 0:u.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=dx(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Uf(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=bX(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x,y:_}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const M in c0){if(m[M]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:S}=c0[M],w=v==="none"?m[M]:C(m[M],p);if(T){const B=T.length;for(let D=0;D<B;D++)l[T[D]]=w}else S?this.options.visualElement.renderState.vars[M]=w:l[M]=w}this.options.layoutId&&(l.pointerEvents=p===this?dx(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(LR),this.root.sharedNodes.clear()}}}function EX(n){n.updateLayout()}function TX(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:r}=n.options,l=e.source!==n.layout.source;r==="size"?Sr(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=xs(x);x.min=i[v].min,x.max=x.min+_}):FN(r,e.layoutBox,i)&&Sr(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=xs(i[v]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const u=$d();Xg(u,i,e.layoutBox);const d=$d();l?Xg(d,n.applyTransform(a,!0),e.measuredBox):Xg(d,i,e.layoutBox);const p=!UN(u);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const M=Ni();Yg(M,e.layoutBox,x.layoutBox);const C=Ni();Yg(C,i,_.layoutBox),ON(M,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=M,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function CX(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function RX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wX(n){n.clearSnapshot()}function LR(n){n.clearMeasurements()}function UR(n){n.isLayoutDirty=!1}function BX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function OR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function DX(n){n.resolveTargetDelta()}function NX(n){n.calcProjection()}function LX(n){n.resetSkewAndRotation()}function UX(n){n.removeLeadSnapshot()}function PR(n,e,t){n.translate=gi(e.translate,0,t),n.scale=gi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function IR(n,e,t,i){n.min=gi(e.min,t.min,i),n.max=gi(e.max,t.max,i)}function OX(n,e,t,i){IR(n.x,e.x,t.x,i),IR(n.y,e.y,t.y,i)}function PX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const IX={duration:.45,ease:[.4,0,.1,1]},FR=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),HR=FR("applewebkit/")&&!FR("chrome/")?Math.round:Rr;function zR(n){n.min=HR(n.min),n.max=HR(n.max)}function FX(n){zR(n.x),zR(n.y)}function FN(n,e,t){return n==="position"||n==="preserve-aspect"&&!jj(DR(e),DR(t),.2)}function HX(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const zX=IN({attachResizeListener:(n,e)=>u0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AS={current:void 0},HN=IN({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!AS.current){const n=new zX({});n.mount(window),n.setOptions({layoutScroll:!0}),AS.current=n}return AS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),GX={pan:{Feature:sX},drag:{Feature:aX,ProjectionNode:HN,MeasureLayout:DN}};function GR(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=i[a];r&&oi.postRender(()=>r(e,L0(e)))}class VX extends Au{mount(){const{current:e}=this.node;e&&(this.unmount=lk(e,(t,i)=>(GR(this.node,i,"Start"),a=>GR(this.node,a,"End"))))}unmount(){}}class kX extends Au{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=B0(u0(this.node.current,"focus",()=>this.onFocus()),u0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VR(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=i[a];r&&oi.postRender(()=>r(e,L0(e)))}class jX extends Au{mount(){const{current:e}=this.node;e&&(this.unmount=hk(e,(t,i)=>(VR(this.node,i,"Start"),(a,{success:r})=>VR(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SM=new WeakMap,bS=new WeakMap,XX=n=>{const e=SM.get(n.target);e&&e(n)},YX=n=>{n.forEach(XX)};function qX({root:n,...e}){const t=n||document;bS.has(t)||bS.set(t,{});const i=bS.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(YX,{root:n,...e})),i[a]}function JX(n,e,t){const i=qX(e);return SM.set(n,t),i.observe(n),()=>{SM.delete(n),i.unobserve(n)}}const KX={some:0,all:1};class WX extends Au{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:r}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:KX[a]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(d)};return JX(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ZX(e,t))&&this.startObserver()}unmount(){}}function ZX({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const QX={inView:{Feature:WX},tap:{Feature:jX},focus:{Feature:kX},hover:{Feature:VX}},$X={layout:{ProjectionNode:HN,MeasureLayout:DN}},eY={...Fj,...QX,...GX,...$X},MM=ej(eY,dj),tY=[],kR=[{role:"Research Intern",company:"Barun ICT Research Center",location:"Yonsei University, Sinchon, Seoul, South Korea",startDate:"Mar 2025",endDate:"Jun 2025",tasks:["Wrote 4 articles discussing password integrity, CAPTCHA usefullness, the use of AI in the job hiring process, and personalized ads","Conducted research for scholarly articles to enrich knowledge in topics & support my arguments","Attended weekly meetings with mentor to discuss suggestions, critiques, and advice"]},{role:"Cashier/Barista",company:"Tallgrass Drink",location:"Garden Grove, CA, USA",startDate:"Sept 2024",endDate:"Feb 2025",tasks:["Provided excellent customer service","Astutely listened to customers to ensure accurate orders","Occasionally altered menu items in order to suit customers' needs","Accurately and efficiently gave exact change","Handled card transactions and online orders","Packaged orders in a timely manner","Maintained a clean working & dining environment","Replenished supplies when needed","Accurately followed recipes to ensure consistent products"]},{role:"Cashier",company:"Myungrang Hot Dog",location:"Garden Grove, CA, USA",startDate:"Jun 2021",endDate:"Feb 2022",tasks:["Provided excellent customer service","Astutely listened to customers to ensure accurate orders","Occasionally altered menu items in order to suit customers' needs","Accurately and efficiently gave exact change","Handled card transactions and online orders","Packaged orders in a timely manner","Maintained a clean working & dining environment","Replenished supplies when needed","Accurately followed recipes to ensure consistent products"]},{role:"Tutor",company:"Kumon",location:"Garden Grove, CA, USA",startDate:"Jun 2021",endDate:"Oct 2021",tasks:["Accurately and efficiently graded worksheets completed by students","Assigned worksheets to students based on skill level","Occasionally assisted students in person when needed","Privately tutored 2 students, grades 1 and 4, in math subjects far above grade level (Multiplication/Division and Algebra, respectively)","Also privately tutored special needs student in reading, improving reading level by 2 grades by the end of two month session"]},{role:"Cashier",company:"Bolsa Grande Student Store",location:"Garden Grove, CA, USA",startDate:"Aug 2018",endDate:"Mar 2020",tasks:["Provided excellent customer service","Astutely listened to customers to ensure accurate orders","Accurately and efficiently gave exact change","Packaged orders in a timely manner","Maintained a clean working environment","Replenished supplies when needed","Seasonally introduced new items to menu"]}];function nY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(n)}function iY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(n)}function aY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(n)}function zN(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(n)}function sY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"},child:[]}]})(n)}function rY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"},child:[]}]})(n)}function oY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4.27 3 3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73L19.73 21 21 19.73 4.27 3zM14 7h4V3h-6v5.18l2 2z"},child:[]}]})(n)}function lY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(n)}function GN(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"},child:[]}]})(n)}function cY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"},child:[]}]})(n)}function uY(){const[n,e]=Qn.useState(1),[t,i]=Qn.useState(kR);return Qn.useEffect(()=>{i(n===1?kR:tY)},[n]),W.jsx(W.Fragment,{children:W.jsxs("div",{className:"flex h-full w-full flex-col items-center p-6",children:[W.jsx(r3,{className:"",selectedIndex:n,onChange:e,children:W.jsxs(o3,{className:"relative z-0 flex gap-4 rounded-xl bg-[#a18f6e] px-3 py-2",children:[W.jsx(w2,{className:"text-md relative w-[175px] font-semibold",children:({selected:a})=>W.jsxs("button",{className:`text-md w-full rounded-full px-2 py-1 font-medium transition-colors duration-200 ${a?"text-[#74664B]":"text-white hover:bg-[#877758]"}`,children:["Technical Jobs",a&&W.jsx(MM.div,{layoutId:"bubble",className:`absolute inset-0 z-[-1] rounded-l-lg ${a?"bg-white":"hover:bg-[#877758]"} `,transition:{type:"spring",duration:.4,bounce:.2}})]})}),W.jsx(w2,{className:"text-md relative w-[175px] font-semibold",children:({selected:a})=>W.jsxs("button",{className:`text-md w-full rounded-full px-2 py-1 font-medium transition-colors duration-200 ${a?"text-[#74664B]":"text-white hover:bg-[#877758]"}`,children:["Non-Technical Jobs",a&&W.jsx(MM.div,{layoutId:"bubble",className:"absolute inset-0 z-[-1] rounded-r-lg bg-white",transition:{type:"spring",duration:.4,bounce:.2}})]})})]})}),t.length>0?W.jsx("div",{className:"h-full w-full overflow-hidden p-6",children:W.jsx("div",{className:"relative flex h-full flex-col gap-4 overflow-y-auto rounded-2xl bg-[#dcd3aa] p-6",children:t.map(a=>W.jsxs("div",{className:"flex flex-col gap-4 rounded-xl bg-[#f2eee2] p-6",children:[W.jsxs("div",{className:"flex flex-wrap justify-between font-bokuteh text-[#74664B]",children:[W.jsxs("div",{className:"flex flex-col gap-1",children:[W.jsx("h1",{className:"text-lg",children:a.role}),W.jsx("h1",{className:"text-md italic",children:a.company})]}),W.jsxs("div",{className:"flex flex-col items-start md:items-end",children:[W.jsxs("h1",{className:"flex items-center gap-1",children:[W.jsx(zN,{className:"text-2xl"}),a.location]}),W.jsxs("h1",{className:"flex items-center gap-1 text-sm italic",children:[W.jsx(GN,{className:"text-xl"}),a.startDate," - ",a.endDate]})]})]}),a.tasks.length>0?W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-sans font-bold text-[#74664B]",children:"Tasks:"}),W.jsx("div",{className:"text-sm font-semibold text-[#74664B]",children:a.tasks.map(r=>W.jsx("div",{children:r}))})]}):""]},a.role+a.company))})}):W.jsx("h1",{children:"There is no experience"})]})})}const jR=[{name:"Bolsa Grande High School",location:"Garden Grove, CA",startDate:"08/2017",endDate:"06/2021",degree:"High School Diploma",gpa:3.77,courses:["AP Calculus AB","AP Calculus BC","AP Biology","AP Environmental Science","AP Human Geography","AP US History","AP Civics"],awards:[],activities:[{name:"Make-A-Wish",date:"2017-2018"},{name:"Boys' Basketball's Stats Keeper",date:"2017-2018"},{name:"Link Crew",date:"2019"},{name:"Men's League",date:"2019-2020"},{name:"Key Club",date:"2020-2021"},{name:"Math Club",date:"2019-2021"},{name:"ASB (Secretary for 2019-2020 Term, Vice President for 2020-2021 Term)",date:"2018-2021"}]},{name:"Irvine Valley College",location:"Irvine, CA",startDate:"08/2021",endDate:"05/2023",gpa:3.88,degree:"Associates of Science in Mathematics, Physics, and Computer Science",awards:[{name:"Dean's List",date:"Fall 2021 - Spring 2023"}],courses:["Object-Oriented Programming","C++ Programming","Python Programming","Java Programming","HTML/CSS","Discrete Mathematics","Assembly Language Programming","Design Systems","Calculus II","Calculus III","Linear Algebra","Differential Equations","Physics: Mechanics","Physics: Electromagnetism","Physics: Thermodynamics, Optics, & Relativity"],activities:[{name:"Honors' Program",date:"2021-2023"}]},{name:"Yonsei University",location:"Sinchon, Seoul, South Korea",startDate:"03/2025",endDate:"06/2025",degree:"Study Abroad Program (UCEAP)",awards:[],courses:["Understanding K-Pop","Literature and Gaming","Basic Korean I"],activities:[]},{name:"University of California, San Diego",location:"La Jolla, CA",startDate:"09/2023",endDate:"09/2025",gpa:3.66,degree:"Bachelors of Science in Mathematics - Computer Science",awards:[{name:"Provost Honors",date:"Fall 2023 - Summer 2025"}],courses:["Data Structures","Object-Oriented Design","Recommender Systems & Web Mining","Machine Learning","Optimization in Data Science","Data Science in Practice","Discrete Mathematics & Graph Theory","Theory of Computation","Software Tools & Techniques","Intro to Cryptography","Mathematical Reasoning","Statistical Methods","Numerical Analysis - Linear Algebra","Group Theory","Field Theory","Ring Theory"],activities:[]},{name:"California State University, Long Beach",location:"Long Beach, CA",startDate:"01/2026",endDate:"Present",gpa:null,degree:"Masters of Science in Computer Science",awards:[],courses:[],activities:[]}];function fY(){return W.jsx(W.Fragment,{children:W.jsx("div",{children:jR.length>0?W.jsx("div",{className:"h-full max-w-full overflow-hidden p-6",children:W.jsx("div",{className:"relative flex h-full flex-col gap-4 overflow-y-auto rounded-2xl bg-[#dcd3aa] p-6",children:jR.slice().reverse().map(n=>W.jsxs("div",{className:"flex flex-col gap-4 rounded-xl bg-[#f2eee2] p-6",children:[W.jsxs("div",{className:"flex flex-wrap justify-between font-bokuteh text-[#74664B]",children:[W.jsxs("div",{className:"flex flex-col gap-1",children:[W.jsx("h1",{className:"text-lg",children:n.name}),W.jsx("h1",{className:"text-xs italic",children:n.degree})]}),W.jsxs("div",{className:"flex flex-col items-start md:items-end",children:[W.jsxs("h1",{className:"flex items-center gap-1",children:[W.jsx(zN,{className:"text-2xl"}),n.location]}),W.jsxs("h1",{className:"flex items-center gap-1 text-sm italic",children:[W.jsx(GN,{className:"text-xl"}),n.startDate," - ",n.endDate]}),W.jsx("h1",{className:"text-sm italic",children:n.gpa?`GPA: ${n.gpa}`:""})]})]}),W.jsxs("div",{className:"w-full",children:[W.jsx("h1",{className:"mb-1 font-sans font-bold text-[#74664B]",children:"Relevant Coursework:"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:n.courses.map(e=>W.jsx("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:e}))})]}),n.awards.length>0?W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-sans font-bold text-[#74664B]",children:"Awards:"}),W.jsx("div",{className:"text-sm font-semibold text-[#74664B]",children:n.awards.map(e=>W.jsxs("div",{children:[e.name," (Received ",e.date,")"]}))})]}):"",n.activities.length>0?W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-sans font-bold text-[#74664B]",children:"Activities:"}),W.jsx("div",{className:"flex flex-col gap-0.5 text-sm font-semibold text-[#74664B]",children:n.activities.map(e=>W.jsxs("div",{children:[e.name," (",e.date,")"]}))})]}):""]},n.name))})}):W.jsx("h1",{children:"There is no education here"})})})}const jd={languages:[{name:"English",experience:"Fluent"},{name:"Vietnamese",experience:"Professional"},{name:"Korean",experience:"Elementary"},{name:"Spanish",experience:"Elementary"}],programmingLanguages:["C++","Java","Python","HTML/CSS","JavaScript","TypeScript","R","SQL","MATLAB"],frameworks:["ReactJS","Tailwind","Node.js","Next.js","Express.js","Django","FastAPI"],tools:["VIM","Git","VS Code","Visual Studio Code","Eclipse","Jupyter Notebook","Firebase","MongoDB"],interests:["Full-Stack Engineering","Front-End Engineering","Back-End Engineering","Data Science","Data Analysis","Data Engineering","Artificial Intelligence (AI) Engineering","Machine Learning (ML) Engineering"]};function hY(){return W.jsx(W.Fragment,{children:W.jsx("div",{children:jd?W.jsx("div",{className:"h-full max-w-full overflow-y-auto p-6",children:W.jsx("div",{className:"relative overflow-y-auto rounded-2xl bg-[#dcd3aa] p-6",children:W.jsxs("div",{className:"flex flex-col gap-4 rounded-xl bg-[#f2eee2] p-6",children:[W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-bokuteh text-lg text-[#74664B]",children:"Spoken Languages"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:jd.languages.map(n=>W.jsxs("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:[n.name," (",n.experience,")"]},n.name))})]}),W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-bokuteh text-lg text-[#74664B]",children:"Programming Languages"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:jd.programmingLanguages.map(n=>W.jsx("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:n}))})]}),W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-bokuteh text-lg text-[#74664B]",children:"Frameworks"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:jd.frameworks.map(n=>W.jsx("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:n}))})]}),W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-bokuteh text-lg text-[#74664B]",children:"Tools"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:jd.tools.map(n=>W.jsx("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:n}))})]}),W.jsxs("div",{children:[W.jsx("h1",{className:"mb-1 font-bokuteh text-lg text-[#74664B]",children:"Interests"}),W.jsx("div",{className:"flex w-full flex-wrap gap-x-4 gap-y-2 text-sm font-semibold text-[#74664B]",children:jd.interests.map(n=>W.jsx("div",{className:"rounded-full bg-[#dcd3aa] px-2 py-0.5",children:n}))})]})]})})}):W.jsx("h1",{children:"There are no skills."})})})}function VN(n){return ea({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 0 0-40-40H88a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h192a40 40 0 0 0 40-40v-40m64-160 80 80-80 80m-193-80h273"},child:[]}]})(n)}function dY(){const n=du(t=>t.displayResume),e=du(t=>t.setDisplayResume);return W.jsx(W.Fragment,{children:W.jsxs("section",{className:"flex flex-1 flex-col items-center overflow-y-hidden",children:[W.jsxs("div",{className:"relative h-fit w-full",children:[W.jsx("h1",{className:"mb-2 text-center font-seurat text-4xl font-bold text-[#74664B]",children:"Resume"}),n?W.jsx(VN,{className:"absolute right-4 top-2 rounded-lg text-4xl text-[#74664B] hover:cursor-pointer hover:bg-[#c3b9a3] md:hidden",onClick:()=>e(null)}):""]}),W.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[W.jsxs("div",{className:`${n?"hidden":"col-span-12 flex flex-col justify-center"} h-full items-center gap-5 overflow-y-auto md:col-span-3 md:flex md:flex-col md:justify-start`,children:[W.jsx("h1",{className:`flex w-[90%] items-center justify-center rounded-xl py-8 text-center font-seurat text-3xl text-[#74664B] hover:cursor-pointer hover:bg-[#d7d0a8] ${n=="experience"?"bg-gradient-to-r from-[#c6c18e] to-[#d9d4b1] shadow-lg":""}`,onClick:()=>e("experience"),id:"exptab",children:"Experience"}),W.jsx("h1",{className:`flex w-[90%] items-center justify-center rounded-xl py-8 text-center font-seurat text-3xl text-[#74664B] hover:cursor-pointer hover:bg-[#d7d0a8] ${n=="education"?"bg-gradient-to-r from-[#c6c18e] to-[#d9d4b1] shadow-lg":""}`,onClick:()=>e("education"),id:"edutab",children:"Education"}),W.jsx("h1",{className:`flex w-[90%] items-center justify-center rounded-xl py-8 text-center font-seurat text-3xl text-[#74664B] hover:cursor-pointer hover:bg-[#d7d0a8] ${n=="skills"?"bg-gradient-to-r from-[#c6c18e] to-[#d9d4b1] shadow-lg":""}`,onClick:()=>e("skills"),id:"skilltab",children:"Skills"}),W.jsxs("a",{className:"flex w-[90%] items-center justify-center gap-6 rounded-xl bg-[#6b5b47] px-4 py-8 text-center font-seurat text-xl text-white hover:bg-[#89745b]",href:"TonyVuong_Resume.pdf",download:"TonyVuong_Resume",children:[" ",W.jsx(cY,{className:"text-4xl"}),"Download Resume"]})]}),W.jsx("div",{className:`${n?"col-span-12 flex":"hidden"} h-full w-full overflow-y-auto pb-12 md:col-span-9 md:flex`,children:(()=>{switch(n){case"experience":return W.jsx(uY,{});case"education":return W.jsx(fY,{});case"skills":return W.jsx(hY,{})}})()})]})]})})}const pY=[{imageURL:"",demoURL:"",githubURL:"https://github.com/tonstey/recipe-recommender",name:"Recipe",date:"",type:"Full Stack Software Development",inProgress:!0,languages:["TypeScript","ReactJS","React Router DOM","Tailwind","Zustand","FastAPI","SQLite"],description:"A full-stack website designed to recommend users recipes based on users' ingredients supply and cuisine preferences."},{imageURL:"/personal_website/project_images/cartcompass.png",demoURL:"https://cartcompass.vercel.app/",githubURL:"https://github.com/tonstey/receipt_saver",name:"CartCompass",date:"Oct 2025",type:"Full Stack Software Development",inProgress:!0,languages:["TypeScript","ReactJS","React Router DOM","Tailwind","Zustand","Django","SQLite","OCR"],description:"A full-stack website that aims to help users save money by being aware of their expenses. Users are able to scan or submit a photo of their receipt. Then the application will use OCR technology to read the receipt and automatically fill in essential receipt data. Upon login, users can view an overview of their most recent receipts and essential data over the past month. Users are able to edit the contents of the receipt. If needed, users can also select items from their receipt that they would like compared with other stores with online websites using web scraping."},{imageURL:"/personal_website/project_images/velmaemart.png",demoURL:"https://velmaemart.vercel.app/",githubURL:"https://github.com/tonstey/e-commerce",name:"VelmaeMart",date:"Jan 2025",type:"Full Stack Software Development",inProgress:!1,languages:["MongoDB","Express","ReactJS","React Router DOM","NodeJS","Tailwind","Zustand","AWS S3"],description:"A full stack e-commerce website with user signup and login with authentication. Users can search and sort by category, add items to cart, and imitate checkout. Users are also able to rate and review products on a scale from 1-5, with the option to send their reviews anonymously as well. The website also includes a dashboard for the admin to manage products and orders. Product images are stored in AWS S3."},{imageURL:"/personal_website/project_images/cogs108.png",demoURL:"https://github.com/tonstey/COGS108_Data_Science_Project",githubURL:"https://github.com/tonstey/COGS108_Data_Science_Project",name:"Factors  Affecting Student Grades",date:"Dec 2024",type:"Data Science",inProgress:!1,languages:["Python","Pandas","NumPy","Scikit-Learn","Matplotlib","Seaborn","statsmodels"],description:"A data science project that analyzes the relationship between personal and academic factors, such as family relationships or number of school absences, to grades. The data, which is from a Kaggle dataset, is analyzed using statistical methods and visualizations. My role in the project was data wrangling and conducting exploratory data analysis, using heat maps and line plots to analyze trends."},{imageURL:"/personal_website/project_images/weatherwise.png",demoURL:"",githubURL:"https://github.com/tonstey/weather-app",name:"Weather Wise",date:"Aug 2024",type:"Front End Software Development",inProgress:!1,languages:["HTML","CSS","JavaScript","ReactJS","Tailwind","Redux"],description:"A weather app that fetches weather data from an API  and displays it to the user. It also includes a search bar with debouncing for the user to search for a specific location. This app uses local storage to store the user's desired locations between sessions."},{imageURL:"/personal_website/project_images/quizzical.png",demoURL:"https://tonstey.github.io/quizzical/",githubURL:"https://github.com/tonstey/quizzical",name:"Quizzical",date:"Jul 2024",type:"Front End Software Development",inProgress:!1,languages:["HTML","CSS","JavaScript","ReactJS"],description:"A quiz app that fetches random questions from an API and displays them to the user. Users can select how many questions they'd like (up to 50). Upon quiz submission, the app displays the user's score and correct answers. Implemented a state management system without using libraries."}];function mY({projectInfo:n}){const e=du(i=>i.setDisplayProject),t=du(i=>i.displayProject);return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`relative flex h-fit w-fit items-center justify-center rounded-3xl bg-[#f4efdf] p-2 shadow-lg shadow-stone-500 transition-transform duration-300 ${t.name===n.name?"scale-110":"hover:scale-105"}`,onClick:()=>e(n),children:[W.jsx("img",{className:"h-60 w-60 rounded-3xl border border-[#e9deb0] hover:cursor-pointer",src:n.imageURL||"project_images/noimg.jpg",alt:"img"}),W.jsx("div",{className:"absolute left-4 top-5 rounded-full bg-[#e9deb0] px-2 py-1 text-sm font-semibold text-[#74664B] hover:cursor-pointer",onClick:()=>e(n),children:n.inProgress?"In Progress":"Completed"})]})})}function gY(n){return ea({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"},child:[]},{tag:"path",attr:{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5zM10 8a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm4-3a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1"},child:[]}]})(n)}function vY(n){return ea({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M6.646 7.646a.5.5 0 1 1 .708.708L5.707 10l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708zm2.708 0 2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 10 8.646 8.354a.5.5 0 1 1 .708-.708"},child:[]}]})(n)}function kN(n){return ea({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function yY(n){return ea({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function xY(n){return ea({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4l54.1 0 109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109 0-54.1c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7L352 176c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"},child:[]}]})(n)}function _Y(){const[n,e]=q.useState(pY),t=du(a=>a.displayProject),i=du(a=>a.setDisplayProject);return W.jsx(W.Fragment,{children:W.jsxs("section",{className:"flex flex-1 flex-col items-center overflow-x-hidden",children:[W.jsx("h1",{className:"mb-2 text-center font-seurat text-4xl font-bold text-[#74664B]",children:"Projects"}),W.jsxs("div",{className:"grid h-full w-full grid-cols-11 overflow-hidden",children:[W.jsx("div",{className:`${t.name?"hidden":"col-span-11 flex"} h-full flex-wrap justify-center gap-4 overflow-y-auto p-4 md:col-span-7 md:flex`,id:"scrollprojects",children:n.map(a=>W.jsx(mY,{projectInfo:a},a.name))}),t.name?W.jsx(bk,{mode:"wait",children:W.jsxs(MM.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:`${t.name?"col-span-11 flex":"hidden"} h-full flex-col items-center justify-between gap-3 overflow-hidden p-4 md:col-span-4 md:flex`,children:[W.jsxs("div",{className:"flex w-full flex-col gap-2",children:[W.jsxs("div",{className:"flex justify-between",children:[W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("div",{className:"rounded-lg bg-[#74664B] p-2",children:t.type.includes("Software Development")?W.jsx(vY,{className:"text-2xl text-[#e0dbbc]"}):W.jsx(gY,{className:"text-2xl text-[#e0dbbc]"})}),W.jsx("h1",{className:"font-bokuteh text-3xl text-[#74664B]",children:t.name})]}),W.jsx(VN,{className:"rounded-lg text-4xl text-[#74664B] hover:cursor-pointer hover:bg-[#c3b9a3] md:hidden",onClick:()=>i({})})]}),W.jsx("hr",{className:"w-full border border-dashed border-[#74664B] text-black",id:"dashline"})]}),W.jsxs("div",{className:"flex w-full justify-between",children:[W.jsx("h1",{className:"font-bokuteh italic text-[#74664B]",children:t.type}),W.jsx("h1",{className:"font-bokuteh italic text-[#74664B]",children:t.date})]}),W.jsxs("div",{className:"flex w-full flex-1 flex-col gap-2 overflow-y-auto rounded-xl bg-[#dcd3aa] p-4",id:"scrolldescription",children:[W.jsx("div",{className:"flex flex-wrap gap-3",children:t.languages.map(a=>W.jsx("div",{className:"rounded-full border border-[#74664B] bg-[#f2f5de] px-2 py-1 font-seurat text-xs text-[#74664B]",children:a},a))}),W.jsx("div",{className:"font-seurat text-[#74664B]",children:t.description})]}),W.jsxs("div",{className:"flex gap-4",children:[W.jsxs("a",{className:"group flex items-center justify-center gap-2 rounded-full bg-[#f2f5de] px-2 py-2 font-seurat text-xl font-light text-[#74664B] hover:cursor-pointer hover:bg-[#dde5a8] hover:text-[#91805e]",href:t.githubURL,target:"_blank",children:[W.jsx(kN,{className:"rounded-full bg-[#74664B] p-2 text-3xl text-[#f2f5de] group-hover:bg-[#91805e] group-hover:text-[#dde5a8]"}),"Github"]}),t.type.includes("Software Development")?W.jsxs("a",{className:"group flex items-center justify-center gap-2 rounded-full bg-[#f2f5de] px-2 py-2 font-seurat text-xl font-light text-[#74664B] hover:cursor-pointer hover:bg-[#dde5a8] hover:text-[#91805e]",href:t.demoURL,target:"_blank",children:[W.jsx(xY,{className:"rounded-full bg-[#74664B] p-2 text-3xl text-[#f2f5de] group-hover:bg-[#91805e] group-hover:text-[#dde5a8]"}),"Demo"]}):""]})]},"project-detail")}):W.jsx("h1",{className:"col-span-11 w-full text-center font-bokuteh text-xl text-[#74664B] md:col-span-4",children:"Click on an image to view its full description!"})]})]})})}var SS={},XR;function AY(){if(XR)return SS;XR=1;var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;return SS.validate=function(e){if(!e||e.length>254)return!1;var t=n.test(e);if(!t)return!1;var i=e.split("@");if(i[0].length>64)return!1;var a=i[1].split(".");return!a.some(function(r){return r.length>63})},SS}var bY=AY();class U0{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const SY=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Ta={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:SY()},uE=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},MY=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=uE(n);Ta.publicKey=t.publicKey,Ta.blockHeadless=t.blockHeadless,Ta.storageProvider=t.storageProvider,Ta.blockList=t.blockList,Ta.limitRate=t.limitRate,Ta.origin=t.origin||e},jN=async(n,e,t={})=>{const i=await fetch(Ta.origin+n,{method:"POST",headers:t,body:e}),a=await i.text(),r=new U0(i.status,a);if(i.ok)return r;throw r},XN=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},EY=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},YN=n=>n.webdriver||!n.languages||n.languages.length===0,qN=()=>new U0(451,"Unavailable For Headless Browser"),TY=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},CY=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},RY=(n,e)=>n instanceof FormData?n.get(e):n[e],JN=(n,e)=>{if(CY(n))return!1;TY(n.list,n.watchVariable);const t=RY(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},KN=()=>new U0(403,"Forbidden"),wY=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},BY=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},WN=async(n,e,t)=>{if(!e.throttle||!t)return!1;wY(e.throttle,e.id);const i=e.id||n;return await BY(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},ZN=()=>new U0(429,"Too Many Requests"),DY=async(n,e,t,i)=>{const a=uE(i),r=a.publicKey||Ta.publicKey,l=a.blockHeadless||Ta.blockHeadless,u=a.storageProvider||Ta.storageProvider,d={...Ta.blockList,...a.blockList},p={...Ta.limitRate,...a.limitRate};return l&&YN(navigator)?Promise.reject(qN()):(XN(r,n,e),EY(t),t&&JN(d,t)?Promise.reject(KN()):await WN(location.pathname,p,u)?Promise.reject(ZN()):jN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},NY=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},LY=n=>typeof n=="string"?document.querySelector(n):n,UY=async(n,e,t,i)=>{const a=uE(i),r=a.publicKey||Ta.publicKey,l=a.blockHeadless||Ta.blockHeadless,u=Ta.storageProvider||a.storageProvider,d={...Ta.blockList,...a.blockList},p={...Ta.limitRate,...a.limitRate};if(l&&YN(navigator))return Promise.reject(qN());const m=LY(t);XN(r,n,e),NY(m);const v=new FormData(m);return JN(d,v)?Promise.reject(KN()):await WN(location.pathname,p,u)?Promise.reject(ZN()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",r),jN("/api/v1.0/email/send-form",v))},OY={init:MY,send:DY,sendForm:UY,EmailJSResponseStatus:U0};function PY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 13.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"},child:[]},{tag:"path",attr:{d:"M19.071 3.429h.001c3.905 3.905 3.905 10.237 0 14.142l-5.403 5.403a2.36 2.36 0 0 1-3.336 0l-5.375-5.375-.028-.028c-3.905-3.905-3.905-10.237 0-14.142 3.904-3.905 10.236-3.905 14.141 0ZM5.99 4.489v.001a8.5 8.5 0 0 0 0 12.02l.023.024.002.002 5.378 5.378a.859.859 0 0 0 1.214 0l5.403-5.404a8.5 8.5 0 0 0-.043-11.977A8.5 8.5 0 0 0 5.99 4.489Z"},child:[]}]})(n)}function IY(n){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 18.75v-14C0 3.784.784 3 1.75 3ZM1.5 7.412V18.75c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0Zm0-2.662v.852l10.36 7a.25.25 0 0 0 .28 0l10.36-7V4.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"},child:[]}]})(n)}function FY(){const[n,e]=q.useState(""),[t,i]=q.useState(""),[a,r]=q.useState(""),[l,u]=q.useState(""),[d,p]=q.useState("notsent"),m=()=>{if(!n||!t||!a||!l){p("incomplete");return}if(!bY.validate(t)){p("invalid");return}const v={name:n,email:t,subject:a,message:l};OY.send("service_fbo6zdb","template_0biak6l",v,{publicKey:"amqSvA7hO3Q0ZqUj1"}).then(()=>p("valid"),x=>p("error"))};return W.jsx(W.Fragment,{children:W.jsxs("section",{className:"flex flex-1 flex-col items-center overflow-x-hidden",children:[W.jsx("h1",{className:"mb-2 text-center font-seurat text-4xl font-bold text-[#74664B]",children:"Contact Me"}),W.jsxs("div",{className:"flex w-full flex-1 flex-wrap items-center justify-evenly gap-10 overflow-y-auto",children:[W.jsxs("div",{className:"flex max-h-[95%] w-[44rem] flex-col gap-3 overflow-y-auto rounded-xl border border-[#e9deb0] bg-[#f2ede0] p-5 shadow-2xl",id:"emailinquiry",children:[W.jsx("h1",{className:"text-center font-bokuteh text-2xl text-[#74664B]",children:"Send a Message"}),W.jsxs("div",{className:"flex w-full justify-between",children:[W.jsxs("div",{className:"flex w-[49%] flex-col",children:[W.jsx("h1",{className:"mt-2 self-start font-bokuteh font-extralight text-[#74664B]",children:"Name"}),W.jsx("input",{className:"h-12 rounded-xl border border-[#74664B] bg-white px-3 text-lg text-[#91805e]",type:"text",value:n,onChange:v=>e(v.target.value),placeholder:"Your Name"})]}),W.jsxs("div",{className:"flex w-[49%] flex-col",children:[W.jsx("h1",{className:"mt-2 self-start font-bokuteh font-extralight text-[#74664B]",children:"Email"}),W.jsx("input",{className:"h-12 rounded-xl border border-[#74664B] bg-white px-3 text-lg text-[#91805e]",type:"email",value:t,onChange:v=>i(v.target.value),pattern:".+@example\\.com",required:!0,placeholder:"default@example.com"})]})]}),W.jsxs("div",{className:"flex w-full flex-col",children:[W.jsx("h1",{className:"mt-4 self-start font-bokuteh font-extralight text-[#74664B]",children:"Subject"}),W.jsx("input",{className:"h-12 w-full rounded-xl border border-[#74664B] bg-white px-3 text-lg text-[#91805e]",type:"text",value:a,onChange:v=>r(v.target.value),placeholder:"Subject"})]}),W.jsxs("div",{className:"flex w-full flex-col",children:[W.jsx("h1",{className:"mt-4 self-start font-bokuteh font-extralight text-[#74664B]",children:"Message"}),W.jsx("textarea",{className:"h-12 w-full rounded-xl border border-[#74664B] bg-white p-3 text-lg text-[#91805e]",rows:"10",value:l,onChange:v=>u(v.target.value),placeholder:"Your Message Here ..."})]}),W.jsx("button",{className:"mt-6 w-full rounded-xl bg-[#74664B] px-12 py-4 text-xl font-bold text-[#d6c488] hover:bg-[#91805e]",onClick:m,children:"Send Message"}),(()=>{switch(d){case"valid":return W.jsx("p",{className:"mt-2 font-sans font-semibold text-green-600",children:"Email was sent successfully!"});case"invalid":return W.jsx("p",{className:"mt-2 text-red-600",children:"Invalid Email."});case"incomplete":return W.jsx("p",{className:"mt-2 font-sans font-semibold text-red-600",children:"Please fill out all fields."});case"error":return W.jsx("p",{className:"mt-2 font-sans font-semibold text-red-600",children:"There has been an error. Please try again later"})}})()]}),W.jsxs("div",{className:"flex max-h-[95%] w-[24rem] flex-col items-center gap-6 overflow-y-auto rounded-xl border border-[#e9deb0] bg-[#f2ede0] p-4 shadow-2xl",children:[W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx("h1",{className:"text-center font-seurat text-xl font-semibold text-[#74664B]",children:"Contact Information"}),W.jsxs("div",{children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"rounded-lg bg-[#dcd3aa] p-2 text-[#74664B]",children:W.jsx(IY,{className:"text-2xl"})}),W.jsxs("div",{children:[W.jsx("h1",{className:"text-lg font-semibold text-[#74664B]",children:"Email:"}),W.jsx("h1",{className:"font-semibold text-[#9b8864]",children:"tonyvuong245@gmail.com"})]})]}),W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"rounded-lg bg-[#dcd3aa] p-2 text-[#74664B]",children:W.jsx(PY,{className:"text-2xl"})}),W.jsxs("div",{children:[W.jsx("h1",{className:"text-lg font-semibold text-[#74664B]",children:"Location:"}),W.jsx("h1",{className:"font-semibold text-[#9b8864]",children:"Garden Grove, CA"})]})]})]})]}),W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx("h1",{className:"text-center font-seurat text-xl font-semibold text-[#74664B]",children:"Social Media"}),W.jsxs("div",{className:"flex justify-center gap-6",children:[W.jsx("a",{className:"rounded-lg bg-[#dcd3aa] p-3 text-[#74664B] hover:cursor-pointer hover:bg-[#cbbe81]",href:"https://github.com/tonstey",target:"_blank",children:W.jsx(kN,{className:"text-2xl"})}),W.jsx("a",{className:"rounded-lg bg-[#dcd3aa] p-3 text-[#74664B] hover:cursor-pointer hover:bg-[#cbbe81]",href:"https://www.linkedin.com/in/tony-vuong-9a17a71b6/",target:"_blank",children:W.jsx(yY,{className:"text-2xl"})})]})]})]})]})]})})}function HY(){const n=["/","/about","/resume","/portfolio","/contact"],t=gu().pathname,i=tw(),a=du(p=>p.setDisplayProject),r=du(p=>p.setDisplayResume),[l,u]=q.useState(!1),d=()=>{const p=document.getElementById("audio");p.paused&&!l?p.play().catch(m=>{console.log(m)}):p.pause(),u(m=>!m)};return q.useEffect(()=>{const p=m=>{if(!(m.target.tagName==="INPUT"||m.target.tagName==="TEXTAREA"))switch(m.key){case"q":const v=n.indexOf(t)!=0?n.indexOf(t)-1:4;i(n[v]);break;case"e":const x=n.indexOf(t)!=4?n.indexOf(t)+1:0;i(n[x]);break}};return a({}),r(null),window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}},[i]),W.jsx(W.Fragment,{children:W.jsxs("div",{className:"relative flex h-28 w-full items-center justify-center py-4",children:[W.jsxs("button",{onClick:()=>d(),className:`absolute left-2 flex h-8 w-12 items-center rounded-full p-1 transition-colors duration-300 md:left-10 md:h-12 md:w-24 ${l?"bg-[#74664B]":"bg-[#f4efdf]"}`,children:[W.jsx("div",{className:`absolute inset-0 flex items-center px-2 text-xs md:px-3 md:text-2xl ${l?"justify-start text-[#f4efdf]":"justify-end text-[#74664B]"}`,children:l?W.jsx(oY,{}):W.jsx(rY,{})}),W.jsx("span",{className:`h-6 w-6 transform rounded-full shadow-md transition-transform duration-300 md:h-8 md:w-8 ${l?"translate-x-4 bg-white md:translate-x-12":"translate-x-0 bg-[#74664B]"}`})]}),W.jsxs("div",{className:"relative flex",children:[W.jsx("h1",{className:"absolute -left-4 bottom-0 flex h-8 w-8 items-center justify-center rounded-full bg-[#74664B] font-semibold text-white",children:"Q"}),W.jsx("h1",{className:"absolute -right-4 bottom-0 flex h-8 w-8 items-center justify-center rounded-full bg-[#74664B] font-semibold text-white",children:"E"}),W.jsx("div",{className:"-mr-6 flex h-20 w-20 items-center justify-center rounded-full bg-[#f3f5dd] md:-mr-5",children:W.jsx(iY,{className:`text-4xl ${t==="/"?"text-[#dc921a]":"text-[#b5b19c] hover:cursor-pointer hover:text-[#74664B]"}`,onClick:()=>i("/")})}),W.jsx("div",{className:"-mr-6 flex h-20 w-20 items-center justify-center rounded-full bg-[#f3f5dd] md:-mr-5",children:W.jsx(lY,{className:`text-4xl ${t==="/about"?"text-[#dc921a]":"text-[#b5b19c] hover:cursor-pointer hover:text-[#74664B]"}`,onClick:()=>i("/about")})}),W.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-[#f3f5dd]",children:W.jsx(nY,{className:`text-4xl ${t==="/resume"?"text-[#dc921a]":"text-[#b5b19c] hover:cursor-pointer hover:text-[#74664B]"}`,onClick:()=>i("/resume")})}),W.jsx("div",{className:"-ml-6 flex h-20 w-20 items-center justify-center rounded-full bg-[#f3f5dd] md:-ml-5",children:W.jsx(sY,{className:`text-4xl ${t==="/portfolio"?"text-[#dc921a]":"text-[#b5b19c] hover:cursor-pointer hover:text-[#74664B]"}`,onClick:()=>i("/portfolio")})}),W.jsx("div",{className:"-ml-6 flex h-20 w-20 items-center justify-center rounded-full bg-[#f3f5dd] md:-ml-5",children:W.jsx(aY,{className:`text-4xl ${t==="/contact"?"text-[#dc921a]":"text-[#b5b19c] hover:cursor-pointer hover:text-[#74664B]"}`,onClick:()=>i("/contact")})})]})]})})}function zY(){return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"flex h-full w-full flex-col",id:"app",children:[W.jsx(HY,{}),W.jsxs(VU,{children:[W.jsx(Xd,{path:"/",element:W.jsx(X8,{})}),W.jsx(Xd,{path:"/about",element:W.jsx(e9,{})}),W.jsx(Xd,{path:"/resume",element:W.jsx(dY,{})}),W.jsx(Xd,{path:"/portfolio",element:W.jsx(_Y,{})}),W.jsx(Xd,{path:"/contact",element:W.jsx(FY,{})})]})]})})}QL.createRoot(document.getElementById("root")).render(W.jsx(fO,{children:W.jsx("div",{className:"flex h-screen max-h-screen w-screen",children:W.jsx(zY,{})})}));
